{"code":"(this.webpackJsonpbookfund=this.webpackJsonpbookfund||[]).push([[0],{150:function(e,t,n){},151:function(e,t,n){},164:function(e,t,n){\"use strict\";n.r(t);var s=n(1),i=n.n(s),c=n(56),r=n.n(c),a=(n(150),n(8)),o=n(12),l=(n(151),n(152),n(176)),u=n(0);function j(e){var t=e.setBooksFromSearch,n=e.startIndex,i=e.setStartIndex,c=Object(s.useState)(\"\"),r=Object(a.a)(c,2),j=r[0],b=r[1],d=Object(o.g)();return Object(s.useEffect)((function(){var e=j.replace(/\\s/g,\"+\");fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(e,\"&maxResults=8&startIndex=\").concat(n)).then((function(e){return e.json()})).then((function(e){t(e.items)}))}),[n,j,t]),Object(u.jsx)(\"form\",{onSubmit:function(e){e.preventDefault(),i(0);var s=j.replace(/\\s/g,\"+\");fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(s,\"&maxResults=8&startIndex=\").concat(n)).then((function(e){return e.json()})).then((function(e){t(e.items),d.push(\"/bookindex\")}))},children:Object(u.jsx)(l.a,{icon:\"search\",placeholder:\"Search...\",type:\"text\",onChange:function(e){return b(e.target.value)},value:j,className:\"search-input\"})})}var b=n(21),d=n(23),h=n(178),f=n(165),p=n(177);function O(e){e.user;var t=e.setUser,n=Object(o.g)(),i=Object(s.useState)(!1),c=Object(a.a)(i,2),r=c[0],l=c[1],j=Object(s.useState)({eligible:!0}),O=Object(a.a)(j,2),m=O[0],x=O[1];function g(e){x(Object(d.a)(Object(d.a)({},m),{},Object(b.a)({},e.target.name,e.target.value)))}return Object(u.jsxs)(h.a,{onClose:function(){return l(!1)},onOpen:function(){return l(!0)},open:r,trigger:Object(u.jsx)(f.a,{children:\"Sign Up\"}),children:[Object(u.jsx)(h.a.Header,{children:\"Sign Up\"}),Object(u.jsx)(h.a.Content,{children:Object(u.jsxs)(p.a,{onSubmit:function(e){return function(e){e.preventDefault();var s=new FormData;m.username||alert(\"Please enter a username.\"),s.append(\"profile_pic\",m.profile_pic),s.append(\"username\",m.username),s.append(\"name\",m.name),s.append(\"bio\",m.bio),s.append(\"email\",m.email);var i={method:\"POST\",body:s};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users\"),i).then((function(e){return e.json()})).then((function(e){e.error?(alert(\"Username must be unique\"),x({})):(alert(\"welcome aboard \".concat(e.username,\"!\")),t(e),x({}),n.push(\"/userpage\"))}))}(e)},children:[Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Name\"}),Object(u.jsx)(\"input\",{placeholder:\"Name\",name:\"name\",onChange:function(e){return g(e)}})]}),Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Username\"}),Object(u.jsx)(\"input\",{placeholder:\"Username\",name:\"username\",onChange:function(e){return g(e)}})]}),Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Email\"}),Object(u.jsx)(\"input\",{placeholder:\"Email\",name:\"email\",onChange:function(e){return g(e)}})]}),Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Password\"}),Object(u.jsx)(\"input\",{placeholder:\"Password\",type:\"password\"})]}),Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Bio\"}),Object(u.jsx)(\"input\",{placeholder:\"Bio\",name:\"bio\",onChange:function(e){return g(e)}})]}),Object(u.jsx)(p.a.Input,{type:\"file\",name:\"profile_pic\",fluid:!0,label:\"Image Upload\",onChange:function(e){return function(e){e.persist(),x(Object(d.a)(Object(d.a)({},m),{},Object(b.a)({},e.target.name,e.target.files[0])))}(e)}}),Object(u.jsx)(f.a,{type:\"submit\",style:{float:\"right\",marginBottom:\"10px\"},children:\"Sign Up\"})]})})]})}function m(e){var t=e.setUser,n=e.user,i=Object(o.g)(),c=Object(s.useState)(!1),r=Object(a.a)(c,2),l=r[0],j=r[1],d=Object(s.useState)({}),O=Object(a.a)(d,2),m=O[0],x=O[1];return Object(s.useEffect)((function(){i.push(\"/userpage\")}),[n,i]),Object(u.jsxs)(h.a,{onClose:function(){return j(!1)},onOpen:function(){return j(!0)},open:l,trigger:Object(u.jsx)(f.a,{children:\" Log In \"}),children:[Object(u.jsx)(h.a.Header,{children:\"Log In\"}),Object(u.jsx)(h.a.Content,{children:Object(u.jsx)(\"div\",{className:\"form \",children:Object(u.jsxs)(p.a,{onSubmit:function(e){return function(e){e.preventDefault(),j(!1);var n={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(m)};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users/login\"),n).then((function(e){return e.json()})).then((function(e){t(e),i.push(\"/userpage\")}))}(e)},children:[Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Username\"}),Object(u.jsx)(\"input\",{placeholder:\"Username\",name:\"username\",onChange:function(e){return function(e){x(Object(b.a)({},e.target.name,e.target.value))}(e)}})]}),Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Password\"}),Object(u.jsx)(\"input\",{placeholder:\"Password\",type:\"password\"})]}),Object(u.jsx)(f.a,{type:\"submit\",style:{float:\"right\",marginBottom:\"10px\"},children:\"Login\"})]})})})]})}var x=n(11);function g(e){var t=e.setBooksFromSearch,n=e.setUser,s=e.user,i=e.startIndex,c=e.setStartIndex,r=Object(o.g)();return Object(u.jsx)(\"div\",{className:\"main-nav\",children:Object(u.jsxs)(\"ul\",{children:[Object(u.jsx)(\"li\",{className:\"logo\",children:Object(u.jsx)(x.c,{to:\"/\",style:{color:\" #333\"},children:Object(u.jsx)(\"h1\",{className:\"logo-text\",children:\"bookFun(d)\"})})}),Object(u.jsx)(\"li\",{className:\"search-form\",children:Object(u.jsx)(j,{setBooksFromSearch:t,startIndex:i,setStartIndex:c})}),Object(u.jsxs)(\"div\",{className:\"navLinks\",children:[s?null:Object(u.jsx)(O,{user:s,setUser:n}),s?null:Object(u.jsx)(m,{style:{color:\"inherit\"},user:s,setUser:n}),s?Object(u.jsxs)(f.a,{children:[\" \",Object(u.jsx)(x.c,{style:{color:\"inherit\"},to:\"/userpage\",children:\"  My Page  \"})]}):null,s?Object(u.jsx)(f.a,{onClick:function(){return r.push(\"/home\"),void n(null)},children:\"  Sign Out  \"}):null,Object(u.jsx)(f.a,{children:Object(u.jsx)(x.c,{style:{color:\"inherit\"},to:\"/\",children:\"  Home  \"})})]})]})})}var v=n(179),k=n(135);function w(e){var t=e.book;return Object(u.jsxs)(v.a,{style:{textAlign:\"center\"},children:[Object(u.jsx)(k.a,{size:\"tiny\",src:t.volumeInfo.imageLinks?t.volumeInfo.imageLinks.thumbnail:null,wrapped:!0,ui:!1}),Object(u.jsxs)(v.a.Content,{children:[Object(u.jsx)(v.a.Header,{children:t.volumeInfo.title?Object(u.jsxs)(x.b,{to:\"/bookpage/\".concat(t.id),children:[t.volumeInfo.title.slice(0,50),\" \"]}):null}),Object(u.jsx)(v.a.Description,{children:t.volumeInfo.authors?t.volumeInfo.authors[0].slice(0,50):null})]})]})}function y(e){var t=e.booksFromSearch,n=e.startIndex,s=e.setStartIndex,i=[];return t&&(i=t.map((function(e){return Object(u.jsx)(w,{book:e})}))),Object(u.jsxs)(\"div\",{className:\"book-index\",style:{marginTop:\"100px\"},children:[Object(u.jsx)(v.a.Group,{itemsPerRow:8,children:i}),Object(u.jsxs)(\"div\",{className:\"buttons-combined\",style:{marginTop:\"20px\"},children:[Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return s(n+8)},children:\"Next\"}),n>0?Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return s(n-8)},children:\"Back\"}):null]})]})}function N(e){var t=e.waitingsMapped,n=e.book,i=e.user,c=(e.setUser,e.waitlistRequest),r=e.setWaitlistRequest,o=(e.setBackEndBook,e.backEndBook,e.toggleSponsorForm),l=e.setToggleSponsorForm,j=Object(s.useState)(0),b=Object(a.a)(j,2),d=b[0],h=b[1];return Object(u.jsxs)(\"form\",{className:\"signup\",onSubmit:function(e){return function(e){e.preventDefault();var t={method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({num_books_funded:e.target.number.value,sponsor_id:i.id})};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings/sponsor/\").concat(n.id),t).then((function(e){return e.json()})).then((function(e){l(!o),r(!c)}))}(e)},children:[Object(u.jsx)(\"label\",{children:\"Number of copies I'd like to sponsor:\"}),Object(u.jsx)(\"input\",{type:\"number\",name:\"number\",value:d,onChange:function(e){return h(e.target.value)}}),d>t.length?Object(u.jsx)(\"p\",{style:{color:\"red\"},children:\"Please enter a number smaller than the waitlist total\"}):null,Object(u.jsx)(\"input\",{type:\"submit\",value:\"Sponsor\",className:\"button\"})]})}var S=n(79),B=n.n(S);function _(e){var t=e.user,n=e.book,i=e.setSavedBooks,c=e.setWaitlistRequest,r=e.waitlistRequest,o=(e.waitListRequestAndStoreInDBRequest,e.backEndBook,e.setBackEndBook),l=e.storeInDB,j=Object(s.useState)({text:\"\",rating:0}),h=Object(a.a)(j,2),O=h[0],m=h[1];return Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(\"h3\",{children:\"Leave A Review\"}),Object(u.jsx)(B.a,{className:\"react-stars\",count:5,onChange:function(e){t?(l(),m(Object(d.a)(Object(d.a)({},O),{},{rating:e}))):(m({}),alert(\"Please sign in to leave a rating.\"))},size:20,color2:\"#ffd700\",value:O.rating,name:\"rating\"}),Object(u.jsxs)(p.a,{reply:!0,onSubmit:function(e){return function(e){if(e.preventDefault(),O.text.length<100&&alert(\"Please leave a review with more than 100 characters.\"),O.text.length>100){var t={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(O)};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/reviews\"),t).then((function(e){c(!r),o(!0),fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\")).then((function(e){return e.json()})).then((function(e){i(e)}))}))}}(e)},children:[Object(u.jsx)(p.a.TextArea,{value:O.text,name:\"text\",rows:3,cols:25,onChange:function(e){return function(e){t?(l(),m(Object(d.a)(Object(d.a)({user_id:t.id,book_id:n.id},O),{},Object(b.a)({},e.target.name,e.target.value)))):(m({}),alert(\"Please sign in to leave a review.\"))}(e)}}),Object(u.jsx)(f.a,{type:\"submit\",content:\"Add Review\",labelPosition:\"left\",icon:\"edit\",primary:!0})]})]})}function C(e){var t=e.setSavedBooks,n=(e.savedBooks,e.user),i=e.setUser,c=(e.reviewLeft,Object(s.useState)({})),r=Object(a.a)(c,2),l=r[0],j=r[1],b=Object(s.useState)(!1),d=Object(a.a)(b,2),h=d[0],p=d[1],O=Object(s.useState)(!1),m=Object(a.a)(O,2),g=m[0],y=m[1],S=Object(s.useState)(!1),C=Object(a.a)(S,2),I=C[0],T=C[1],L=Object(s.useState)([]),F=Object(a.a)(L,2),P=F[0],R=F[1],D=Object(o.h)(),E=Object(s.useState)(0),U=Object(a.a)(E,2),A=U[0],M=U[1],z=Object(s.useState)(0),q=Object(a.a)(z,2),H=q[0],G=q[1],J=Object(s.useState)([]),W=Object(a.a)(J,2),V=W[0],K=W[1],Q=null,X=0,Y=null,Z=[],$=0,ee=[];function te(e){var t=document.createElement(\"DIV\");return t.innerHTML=e,t.textContent||t.innerText||\"\"}function ne(){if(n){var e={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(l)};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\"),e).then((function(e){return e.json()})).then((function(e){j(e),M(e.id);var t=e.id,s={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({user_id:n.id,book_id:t,fulfilled:!1})};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings\"),s).then((function(e){return e.json()})).then((function(e){p(!0),y(!g),e.error&&alert(\"\".concat(e.error))}))}))}else alert(\"Please sign in to join a waitlist.\")}if(Object(s.useEffect)((function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\")).then((function(e){return e.json()})).then((function(e){var t;t=e.find((function(e){return e.api_id===D.id})),j(t),t&&(M(t.id),p(!0)),t||fetch(\"https://www.googleapis.com/books/v1/volumes/\".concat(D.id)).then((function(e){return e.json()})).then((function(e){var t=\"\",n=\"\",s=[\"\"],i=\"\",c=\"\",r=\"\",a=\"\";e.volumeInfo.title&&(t=e.volumeInfo.title),e.volumeInfo.authors&&(s=e.volumeInfo.authors),e.volumeInfo.subtitle&&(n=e.volumeInfo.subtitle),e.volumeInfo.publisher&&(i=e.volumeInfo.publisher),e.volumeInfo.publishedDate&&(c=e.volumeInfo.publishedDate),e.volumeInfo.description&&(r=e.volumeInfo.description),e.volumeInfo.imageLinks&&(a=e.volumeInfo.imageLinks.thumbnail),j({title:t,subtitle:n,authors:s.join(\", \"),publisher:i,publishedDate:c,description:te(r),image_url:a,api_id:e.id,waitings:[],reviews:[]})}))})),fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users\")).then((function(e){return e.json()})).then((function(e){return K(e)}))}),[g,h,D.id,A]),Object(s.useEffect)((function(){if(l&&l.title){var e=l.title.split(\" \").pop();fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(e,\"&maxResults=20\")).then((function(e){return e.json()})).then((function(e){R(e.items)}))}}),[l]),P.length>0&&(Z=P.slice(H,H+3).map((function(e){return Object(u.jsx)(w,{book:e})}))),!0===h&&l){if(V.length>0){var se=l.waitings.filter((function(e){return!0===e.fulfilled})),ie=[];ee=(ee=se.map((function(e){var t=se.filter((function(t){return t.sponsor_id===e.sponsor_id})).length;return ie.find((function(t){return t===e.sponsor_id}))?null:(ie.push(e.sponsor_id),Object(u.jsxs)(\"li\",{children:[Object(u.jsx)(k.a,{src:V.find((function(t){return t.id===e.sponsor_id})).profile_pic?V.find((function(t){return t.id===e.sponsor_id})).profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:!0}),Object(u.jsx)(x.b,{to:\"/otheruserpage/\".concat(e.sponsor_id),children:V.find((function(t){return t.id===e.sponsor_id})).username}),Object(u.jsxs)(\"div\",{style:{float:\"right\"},children:[\" \",t,\" \",1===t?\" copy\":\"copies\"]})]}))}))).filter((function(e){return null!==e}))}Q=l.waitings.filter((function(e){return!0!==e.fulfilled})).map((function(e){return Object(u.jsxs)(\"li\",{children:[Object(u.jsx)(k.a,{src:e.user.profile_pic?e.user.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:!0}),Object(u.jsxs)(x.b,{to:\"/otheruserpage/\".concat(e.user.id),children:[e.user.username,\" \",e.user.eligible?\"(eligible)\":\"(ineligible)\"]})]})})),X=l.waitings.filter((function(e){return!0===e.fulfilled})).map((function(e){return Object(u.jsxs)(\"li\",{children:[Object(u.jsx)(k.a,{src:e.user.profile_pic?e.user.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:!0}),Object(u.jsx)(x.b,{to:\"/otheruserpage/\".concat(e.user.id),children:e.user.username})]})})),Y=l.reviews.map((function(e){if(n){return $=l.reviews.map((function(e){return e.rating})).reduce((function(e,t){return e+t}))/l.reviews.length,Object(u.jsxs)(\"div\",{className:\"review\",children:[Object(u.jsx)(k.a,{src:e.user.profile_pic?e.user.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:!0}),Object(u.jsx)(x.b,{to:\"/otheruserpage/\".concat(e.user.id),children:e.user.username}),Object(u.jsx)(B.a,{className:\"react-stars\",count:5,value:e.rating,size:15,color2:\"#ffd700\",edit:!1}),e.text,e.user.id===n.id?Object(u.jsx)(f.a,{size:\"mini\",id:e.id,onClick:function(e){return function(e){var t=parseInt(e.target.id),n={method:\"DELETE\",headers:{\"Content-Type\":\"application/json\"}};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/reviews/\").concat(t),n).then((function(e){return y(!g)}))}(e)},children:\"Delete\"}):null]})}return $=l.reviews.map((function(e){return e.rating})).reduce((function(e,t){return e+t}))/l.reviews.length,Object(u.jsxs)(\"li\",{children:[Object(u.jsxs)(\"div\",{children:[Object(u.jsx)(k.a,{src:e.user.profile_pic?e.user.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:!0}),Object(u.jsx)(x.b,{to:\"/otheruserpage/\".concat(e.user.id),children:e.user.username}),Object(u.jsx)(B.a,{className:\"react-stars\",count:5,value:e.rating,size:15,color2:\"#ffd700\",edit:!1})]}),e.text]})}))}return Object(u.jsxs)(\"div\",{className:\"bookpage\",children:[Object(u.jsxs)(\"div\",{className:\"book-info\",children:[Object(u.jsx)(\"div\",{className:\"book-info-image\",children:Object(u.jsx)(k.a,{style:{margin:\"40px\",float:\"right\"},size:\"small-medium\",src:l?l.image_url:\"N/A\"})}),Object(u.jsxs)(\"div\",{className:\"book-info-info\",children:[Object(u.jsx)(\"h2\",{style:{marginBottom:\"-15px\"},children:l?l.title:\"N/A\"}),Object(u.jsx)(\"h3\",{children:l?l.subtitle:\"N/A\"}),Y?Object(u.jsx)(B.a,{className:\"react-stars\",count:5,value:$,size:20,color2:\"#ffd700\",edit:!1}):null,Object(u.jsx)(\"b\",{children:\"by:\"}),\" \",l?l.authors:\"N/A\",\" (\",l?l.publishedDate:\"N/A\",\")\",Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"b\",{children:\"Publishing House:\"}),\" \",l?l.publisher:\"N/A\",Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"b\",{children:\"Description:\"}),Object(u.jsx)(\"p\",{children:l?l.description:\"N/A\"})]})]}),l?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(\"div\",{className:\"reviews\",children:[Object(u.jsx)(\"h3\",{children:\"Reviews\"}),h&&Y.length>0?Object(u.jsxs)(\"ul\",{className:\"reviewsUl\",children:[\" \",Y,\" \"]}):\"No one has reviewed this book yet. Be the first!\",Object(u.jsx)(_,{storeInDB:function(){if(n){var e={method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(l)};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\"),e).then((function(e){return e.json()})).then((function(e){j(e),M(e.id),p(!0),y(!g)}))}else alert(\"Please sign in to leave a review.\")},user:n,book:l,waitlistRequest:g,setWaitlistRequest:y,backEndBook:h,setBackEndBook:p,setSavedBooks:t,waitListRequestAndStoreInDBRequest:ne,toggleSponsorForm:I,setToggleSponsorForm:T})]}),Object(u.jsxs)(\"div\",{className:\"bookpage-recipients-list\",children:[Object(u.jsx)(\"h3\",{style:{textAlign:\"center\"},children:\"Recipients\"}),h&&X.length>0?Object(u.jsxs)(\"ol\",{children:[\" \",X,\"  \"]}):\"No one has received this book yet. Join the waitlist to be the first!\"]}),Object(u.jsxs)(\"div\",{className:\"bookpage-waiting-list\",children:[Object(u.jsx)(\"h3\",{style:{textAlign:\"center\"},children:\"Waitlist\"}),Object(u.jsxs)(\"ol\",{children:[h&&Q.length>0?Q:\"No one is currently waiting for this book. Be the first!\",\" \"]}),Object(u.jsx)(f.a,{className:\"waiting-button\",onClick:ne,children:\"Join the Waitlist\"})]}),Object(u.jsxs)(\"div\",{className:\"bookpage-sponsor-list\",children:[Object(u.jsx)(\"h3\",{style:{textAlign:\"center\"},children:\"Sponsors\"}),Object(u.jsxs)(\"ol\",{children:[h&&ee.length>0?ee:\"No one has sponsored this book yet.  Be the first!\",\" \"]}),Object(u.jsx)(f.a,{onClick:function(){n?h?T(!I):alert(\"There is no one on the waitlist.\"):alert(\"Please log in to Sponsor\")},children:\" Sponsor this Book\"}),I?Object(u.jsx)(N,{waitingsMapped:Q,book:l,user:n,setUser:i,waitlistRequest:g,setWaitlistRequest:y,setBackEndBook:p,backEndBook:h,setToggleSponsorForm:T,toggleSponsorForm:I}):null]})]}):null,Object(u.jsxs)(\"div\",{className:\"similar-books\",children:[Object(u.jsx)(\"h3\",{children:\"Similar Books\"}),P.length>0?Object(u.jsx)(v.a.Group,{itemsPerRow:3,children:Z}):null,Object(u.jsxs)(\"div\",{className:\"buttons-combined\",children:[Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){H<P.length-2?G(H+3):alert(\"No More Books to Display\")},children:\"See More\"}),H>0?Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){G(H-3)},children:\"Go Back\"}):null]})]})]})}function I(e){var t=e.book,n=e.style;return t?Object(u.jsxs)(v.a,{style:{textAlign:\"center\",style:n},children:[Object(u.jsx)(k.a,{size:\"small\",src:t.image_url?t.image_url:null,wrapped:!0,ui:!1}),Object(u.jsxs)(v.a.Content,{children:[Object(u.jsx)(v.a.Header,{children:t.title?Object(u.jsxs)(x.b,{to:\"/bookpage/\".concat(t.api_id),children:[t.title.slice(0,50),\" \"]}):null}),Object(u.jsx)(v.a.Meta,{children:t.subtitle?t.subtitle.slice(0,50):null}),Object(u.jsx)(v.a.Description,{children:Object(u.jsx)(\"span\",{className:\"date\",children:t.authors?t.authors:null})})]})]}):null}var T=n(61);function L(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),n=t[0],i=t[1],c=Object(s.useState)([]),r=Object(a.a)(c,2),o=r[0],l=r[1],j=Object(s.useState)([]),d=Object(a.a)(j,2),h=d[0],p=d[1],O=Object(s.useState)(0),m=Object(a.a)(O,2),g=m[0],w=m[1],y=[],N=[],S=[],B=[];if(Object(s.useEffect)((function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\")).then((function(e){return e.json()})).then((function(e){i(e)})),fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users\")).then((function(e){return e.json()})).then((function(e){p(e)})),fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings\")).then((function(e){return e.json()})).then((function(e){l(e)}))}),[]),n.length>0){for(var _=0;_<n.length;_++){var C=n[_].waitings.filter((function(e){return!1!==e.fulfilled})).length;y.push(Object(b.a)({},C,n[_]))}y.sort((function(e,t){return Object.keys(t)[0]-Object.keys(e)[0]})),N=y.slice(g,g+8).map((function(e){return Object(u.jsx)(I,{book:Object.values(e)[0]})}))}if(o.length>0){for(var L=o.filter((function(e){return!0===e.fulfilled})),F=[],P=function(e){var t=L.filter((function(t){return t.sponsor_id===h[e].id}));F.push(Object(b.a)({},t.length,h[e]))},R=0;R<h.length;R++)P(R);S=F.sort((function(e,t){return Object.keys(t)[0]-Object.keys(e)[0]})).slice(0,3).map((function(e){return Object(u.jsxs)(v.a,{children:[Object(u.jsx)(v.a.Header,{children:Object(u.jsxs)(x.b,{to:\"/otheruserpage/\".concat(Object.values(e)[0].id),children:[\" \",Object(u.jsx)(\"h4\",{style:{textAlign:\"center\"},children:Object.values(e)[0].username}),\" \"]})}),Object(u.jsx)(v.a.Content,{style:{textAlign:\"center\"},children:Object(u.jsx)(k.a,{style:{margin:\"auto\"},src:Object.values(e)[0].profile_pic?Object.values(e)[0].profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"small\",circular:!0})}),Object(u.jsxs)(v.a.Content,{extra:!0,children:[Object(u.jsx)(T.a,{name:\"user\"}),Object.keys(e)[0],\" sponsors\"]})]})}))}return h.length>0&&(B=h.sort((function(e,t){return t.waitings.filter((function(e){return!0===e.fulfilled})).length-e.waitings.filter((function(e){return!0===e.fulfilled})).length})).slice(0,3).map((function(e){return Object(u.jsxs)(v.a,{children:[Object(u.jsx)(v.a.Header,{children:Object(u.jsxs)(x.b,{to:\"/otheruserpage/\".concat(e.id),children:[\" \",Object(u.jsxs)(\"h4\",{style:{textAlign:\"center\"},children:[e.username,\" \"]})]})}),Object(u.jsx)(v.a.Content,{style:{textAlign:\"center\"},children:Object(u.jsx)(k.a,{src:e.profile_pic?e.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"small\",circular:!0})}),Object(u.jsxs)(v.a.Content,{extra:!0,children:[Object(u.jsx)(T.a,{name:\"book\"}),e.waitings.filter((function(e){return!0===e.fulfilled})).length,\" Books Read\"]})]})}))),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)(\"div\",{className:\"home-info\",children:[Object(u.jsx)(\"h2\",{className:\"who\",children:\"Who we are\"}),Object(u.jsxs)(\"p\",{style:{fontSize:\"15px\"},children:[\"If you've ever read an impactful book that you'd like to share with others, BookFund is the place for you!\",Object(u.jsx)(\"br\",{}),\"BookFund is a simple way for users to sponsor books they love and share the knowledge with others.\",Object(u.jsx)(\"br\",{}),\"Users can sign up for a book via a waitlist to receive the next sponsored copy of that book. After receiving a book, users must publish a review of the book on the site, as well as enter a two week wait period before they are eligible to receive their next book.\"]})]}),Object(u.jsx)(\"h2\",{className:\"pop\",children:\"Popular Now\"}),Object(u.jsx)(\"div\",{className:\"popular-now\",children:N.length>0?Object(u.jsx)(v.a.Group,{itemsPerRow:8,children:N}):null}),Object(u.jsxs)(\"div\",{className:\"buttons-combined\",children:[Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return w(g+8)},children:\"Next\"}),g>0?Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return w(g-8)},children:\"Back\"}):null]}),Object(u.jsxs)(\"div\",{style:{display:\"flex\",marginTop:\"50px\"},className:\"bottom-home\",children:[Object(u.jsxs)(\"div\",{className:\"top-readers-home\",children:[Object(u.jsx)(\"h4\",{children:\"Top Readers:\"}),Object(u.jsx)(v.a.Group,{itemsPerRow:3,children:B.length>0?B:null})]}),Object(u.jsxs)(\"div\",{className:\"top-sponsors-home\",children:[Object(u.jsx)(\"h4\",{children:\"Top Sponsors:\"}),Object(u.jsx)(v.a.Group,{itemsPerRow:3,children:S.length>0?S:null})]})]})]})}var F=function(e){var t=e.mostRecent,n=(e.timeLeft,e.setTimeLeft),i=(e.displayTimer,e.setDisplayTimerTwo),c=(e.reviewLeft,Object(s.useState)(0)),r=Object(a.a)(c,2),o=r[0],l=r[1],j=Object(s.useState)(0),b=Object(a.a)(j,2),d=b[0],h=b[1],f=Object(s.useState)(0),p=Object(a.a)(f,2),O=p[0],m=p[1],x=Object(s.useState)(0),g=Object(a.a)(x,2),v=g[0],k=g[1],w=Object(s.useRef)();return Object(s.useEffect)((function(){var e=w.current;return function(){var e=new Date(parseInt(t.sponsor_date)+6e4);w=setInterval((function(){var t=(new Date).getTime(),s=e-t,c=Math.floor(s/864e5),r=Math.floor(s%864e5/36e5),a=Math.floor(s%36e5/6e4),o=Math.floor(s%6e4/1e3);s<0?(n(!1),clearInterval(w.current),!1,i(!1)):(l(c),h(r),m(a),k(o))}),1e3)}(),function(){clearInterval(e)}})),Object(u.jsxs)(\"div\",{class:\"container\",children:[Object(u.jsx)(\"h1\",{id:\"headline\",children:\"Countdown until your next book:\"}),Object(u.jsx)(\"div\",{id:\"countdown\",children:Object(u.jsxs)(\"ul\",{children:[Object(u.jsxs)(\"li\",{children:[Object(u.jsx)(\"span\",{id:\"numbers\",children:o}),\"days\"]}),Object(u.jsxs)(\"li\",{children:[Object(u.jsx)(\"span\",{id:\"numbers\",children:d}),\"Hours\"]}),Object(u.jsxs)(\"li\",{children:[Object(u.jsx)(\"span\",{id:\"numbers\",children:O}),\"Minutes\"]}),Object(u.jsxs)(\"li\",{children:[Object(u.jsxs)(\"span\",{id:\"numbers\",children:[v,\" \"]}),\"Seconds\"]})]})})]})};function P(e){var t=e.allWaitings,n=e.user,i=e.savedBooks,c=[],r=[],o=Object(s.useState)(0),l=Object(a.a)(o,2),j=l[0],b=l[1];if(t.length>0&&(c=t.filter((function(e){return e.sponsor_id===n.id}))).length>0){var d=[];d.push(c[0]);for(var h=function(e){d.find((function(t){return t.book_id===c[e].book_id}))||d.push(c[e])},p=1;p<c.length;p++)h(p);r=d.map((function(e){return Object(u.jsx)(I,{book:i.find((function(t){return t.id===e.book_id}))})})),console.log(r)}return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(\"div\",{className:\"userpage-book-display\",children:Object(u.jsx)(v.a.Group,{itemsPerRow:8,children:r.slice(j,j+8)})}),Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return b(j+8)},children:\"Next\"}),j>0?Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return b(j-8)},children:\"Back\"}):null]})}function R(e){for(var t=e.waitlistMapped,n=e.user,i=e.savedBooks,c=Object(s.useState)(0),r=Object(a.a)(c,2),o=r[0],l=r[1],j=[],b=n.waitings.filter((function(e){return!0!==e.fulfilled})),d=function(e){j.push(i.find((function(t){return t.id===b[e].book_id})))},h=0;h<b.length;h++)d(h);return j.length>0&&(t=j.map((function(e){return Object(u.jsx)(I,{book:e})}))),j.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(\"div\",{className:\"userpage-book-display\",children:Object(u.jsx)(v.a.Group,{itemsPerRow:8,children:t.slice(o,o+8)})}),Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){o<t.length&&(t.length-o>8?l(o+8):l(0))},children:\"Next\"}),o>0?Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return l(o-8)},children:\"Back\"}):null]}):null}function D(e){var t=e.savedBooks,n=e.waitingsFulFilledMapped,i=e.waitlistMapped,c=Object(s.useState)(0),r=Object(a.a)(c,2),o=r[0],l=r[1],j=null;return t.length>0&&(j=n.map((function(e){return Object(u.jsx)(I,{book:e})}))),Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(\"div\",{className:\"userpage-book-display\",children:Object(u.jsx)(v.a.Group,{itemsPerRow:8,children:j.slice(o,o+8)})}),Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){o<i.length&&(i.length-o>8?l(o+8):l(0))},children:\"Next\"}),o>0?Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return l(o-8)},children:\"Back\"}):null]})}function E(e){var t=e.user,n=e.savedBooks,i=e.timeLeft,c=e.setTimeLeft,r=e.reviewLeft,l=e.setReviewLeft,j=[],h={},O=null,m=null,x=!1,g=Object(s.useState)([]),v=Object(a.a)(g,2),w=v[0],y=v[1],N=Object(s.useState)(!0),S=Object(a.a)(N,2),B=S[0],_=S[1],C=Object(s.useState)(!1),T=Object(a.a)(C,1)[0],L=Object(s.useState)({}),E=Object(a.a)(L,2),U=E[0],A=E[1];function M(e){console.log(e),A(Object(d.a)(Object(d.a)({},U),{},Object(b.a)({},e.target.name,e.target.value)))}return Object(s.useEffect)((function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings\")).then((function(e){return e.json()})).then((function(e){return y(e)}))}),[]),t&&function(){t.waitings.length<1&&(c(!1),l(!0));for(var e=t.waitings.filter((function(e){return!0===e.fulfilled})),s=function(t){j.push(n.find((function(n){return n.id===e[t].book_id})))},i=0;i<e.length;i++)s(i);if(e.length<1&&l(!0),e.length>0){if(h=e.sort((function(e,t){return t.id-e.id}))[0],0!==Object.keys(h).length){var r=new Date(parseInt(h.sponsor_date)+6e4).getTime();(new Date).getTime()<r?x=!0:(x=!1,console.log(\"setTimeLeft(false)\"),c(!1))}(O=n.find((function(e){return e.id===h.book_id})))?(m=O.reviews.find((function(e){return e.user.id===t.id})),l(!!m)):l(!0)}}(),t?Object(u.jsxs)(\"div\",{className:\"userpage\",children:[Object(u.jsxs)(\"div\",{className:\"userpage-top-half\",children:[Object(u.jsxs)(\"div\",{className:\"userpage-eligibility-info\",style:{float:\"left\"},children:[x&&B?Object(u.jsx)(F,{mostRecent:h,timeLeft:i,setTimeLeft:c,displayTimer:x,setDisplayTimerTwo:_,reviewLeft:r}):null,!1===x&&!0===r?Object(u.jsx)(\"h3\",{children:\"Looks like you're eligible for your next book!\"}):null,!1===r&&null!==h&&t.waitings.length>0?Object(u.jsxs)(\"div\",{style:{margin:\"auto\"},children:[\" \",Object(u.jsx)(\"h3\",{children:\"Please leave a review for\"}),\" \",Object(u.jsx)(\"div\",{style:{margin:\"auto\"},children:Object(u.jsx)(I,{book:O,style:{margin:\"auto\"}})}),\" \"]}):null]}),Object(u.jsxs)(\"div\",{className:\"userpage-user-info\",children:[Object(u.jsx)(\"h3\",{children:\"Profile\"}),Object(u.jsx)(k.a,{src:t.profile_pic?t.profile_pic:null,size:\"small\",circular:!0,style:{float:\"left\"}}),T?null:Object(u.jsxs)(\"div\",{style:{float:\"left\",marginLeft:\"50px\"},children:[Object(u.jsx)(\"h4\",{style:{display:\"inline\"},children:\"Name: \"}),\"undefined\"!==t.name?t.name:null,Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"h4\",{style:{display:\"inline\"},children:\"Email: \"}),\"undefined\"!==t.email?t.email:null,Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"h4\",{style:{display:\"inline\"},children:\"Username: \"}),\"undefined\"!==t.username?t.username:null,Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"h4\",{style:{display:\"inline\"},children:\"Bio: \"}),\"undefined\"!==t.bio?t.bio:null]}),T?Object(u.jsx)(\"div\",{style:{float:\"left\",marginLeft:\"50px\"},children:Object(u.jsxs)(p.a,{onSubmit:function(e){return function(e){e.preventDefault();var t=new FormData;U.username||alert(\"Please enter a username.\"),t.append(\"profile_pic\",U.profile_pic),t.append(\"username\",U.username),t.append(\"name\",U.name),t.append(\"bio\",U.bio),t.append(\"email\",U.email)}(e)},children:[Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Name\"}),Object(u.jsx)(\"input\",{placeholder:\"Name\",name:\"name\",onChange:function(e){return M(e)}})]}),Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Username\"}),Object(u.jsx)(\"input\",{placeholder:\"Username\",name:\"username\",onChange:function(e){return M(e)}})]}),Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Email\"}),Object(u.jsx)(\"input\",{placeholder:\"Email\",name:\"email\",onChange:function(e){return M(e)}})]}),Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Password\"}),Object(u.jsx)(\"input\",{placeholder:\"Password\",type:\"password\"})]}),Object(u.jsxs)(p.a.Field,{children:[Object(u.jsx)(\"label\",{children:\"Bio\"}),Object(u.jsx)(\"input\",{placeholder:\"Bio\",name:\"bio\",onChange:function(e){return M(e)}})]}),Object(u.jsx)(p.a.Input,{type:\"file\",name:\"profile_pic\",fluid:!0,label:\"Image Upload\",onChange:function(e){return function(e){e.persist(),A(Object(d.a)(Object(d.a)({},U),{},Object(b.a)({},e.target.name,e.target.files[0])))}(e)}}),Object(u.jsx)(f.a,{type:\"submit\",style:{float:\"right\",marginBottom:\"10px\"},children:\"Sign Up\"})]})}):null]})]}),Object(u.jsx)(\"h3\",{className:\"pop\",children:\"Waitlist\"}),Object(u.jsx)(R,{waitlistMapped:0,user:t,savedBooks:n}),Object(u.jsx)(\"h3\",{className:\"pop\",children:\"Received\"}),j.length>0?Object(u.jsx)(D,{waitingsFulFilledMapped:j,savedBooks:n,waitlistMapped:0}):null,Object(u.jsx)(\"h3\",{className:\"pop\",children:\"Sponsored\"}),Object(u.jsx)(P,{allWaitings:w,savedBooks:n,user:t})]}):Object(u.jsxs)(u.Fragment,{children:[\"Error. Please try again\",Object(u.jsx)(o.a,{to:\"/bookindex\"})]})}function U(e){var t=e.savedBooks,n=(e.timeLeft,e.setTimeLeft),i=(e.reviewLeft,e.setReviewLeft),c=[],r=[],l={},j=null,b=null,d=null,h=null,p=[],O=[],m=Object(s.useState)([]),x=Object(a.a)(m,2),g=x[0],w=x[1],y=Object(s.useState)(0),N=Object(a.a)(y,2),S=N[0],B=N[1],_=Object(s.useState)(0),C=Object(a.a)(_,2),T=C[0],L=C[1],F=Object(s.useState)(0),P=Object(a.a)(F,2),R=P[0],D=P[1],E=Object(s.useState)(null),U=Object(a.a)(E,2),A=U[0],M=U[1],z=Object(o.h)();return Object(s.useEffect)((function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users/\").concat(z.id)).then((function(e){return e.json()})).then((function(e){return M(e)}))}),[z.id]),Object(s.useEffect)((function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings\")).then((function(e){return e.json()})).then((function(e){return w(e)}))}),[]),A&&function(){A.waitings.length<1&&(console.log(\"setTimeLeft(false)\"),n(!1),i(!0));for(var e=A.waitings.filter((function(e){return!0!==e.fulfilled})),s=function(n){c.push(t.find((function(t){return t.id===e[n].book_id})))},a=0;a<e.length;a++)s(a);if(c.length>0&&(h=c.map((function(e){return Object(u.jsx)(I,{book:e})}))),g.length>0&&(p=g.filter((function(e){return e.sponsor_id===A.id}))).length>0){var o=[];o.push(p[0]);for(var f=function(e){o.find((function(t){return t.book_id===p[e].book_id}))||o.push(p[e])},m=1;m<p.length;m++)f(m);O=o.map((function(e){return Object(u.jsx)(I,{book:t.find((function(t){return t.id===e.book_id}))})}))}for(var x=A.waitings.filter((function(e){return!0===e.fulfilled})),v=function(e){r.push(t.find((function(t){return t.id===x[e].book_id})))},k=0;k<x.length;k++)v(k);if(x.length<1&&i(!0),t.length>0&&(d=r.map((function(e){return Object(u.jsx)(I,{book:e})}))),x.length>0){if(l=x.sort((function(e,t){return t.id-e.id}))[0],0!==Object.keys(l).length){var w=new Date(parseInt(l.sponsor_date)+6e4).getTime();(new Date).getTime()<w||(console.log(\"setTimeLeft(false)\"),n(!1))}(j=t.find((function(e){return e.id===l.book_id})))?(b=j.reviews.find((function(e){return e.user.id===A.id})),i(!!b)):i(!0)}}(),A?(console.log(\"eligibilty:\",A.eligible),Object(u.jsxs)(\"div\",{className:\"userpage\",children:[Object(u.jsxs)(\"div\",{className:\"userpage-top-half\",children:[Object(u.jsx)(\"div\",{className:\"userpage-eligibility-info\",style:{float:\"left\"},children:A.eligible?Object(u.jsxs)(\"h3\",{children:[\"Looks like \",A.username,\" is eligible for their next book!\"]}):Object(u.jsxs)(\"h3\",{children:[\"Looks like \",A.username,\" needs to wait two weeks or leave a review to be eligible for their next book!\"]})}),Object(u.jsxs)(\"div\",{className:\"userpage-user-info\",children:[Object(u.jsx)(\"h3\",{children:\"Profile\"}),Object(u.jsx)(k.a,{src:A.profile_pic?A.profile_pic:null,size:\"small\",circular:!0,style:{float:\"left\"}}),Object(u.jsxs)(\"div\",{style:{float:\"left\",marginLeft:\"50px\"},children:[Object(u.jsx)(\"h4\",{style:{display:\"inline\"},children:\"Name: \"}),A.name?A.name:null,Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"h4\",{style:{display:\"inline\"},children:\"Email: \"}),A.email?A.email:null,Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"h4\",{style:{display:\"inline\"},children:\"Username: \"}),A.username?A.username:null,Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"br\",{}),Object(u.jsx)(\"h4\",{style:{display:\"inline\"},children:\"Bio: \"}),A.bio?A.bio:null]})]})]}),Object(u.jsx)(\"h3\",{className:\"pop\",children:\"Waitlist\"}),c.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(\"div\",{className:\"userpage-book-display\",children:Object(u.jsx)(v.a.Group,{itemsPerRow:8,children:h.slice(T,T+8)})}),Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){T<h.length&&(h.length-T>8?L(T+8):L(0))},children:\"Next\"}),T>0?Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return B(T-8)},children:\"Back\"}):null]}):null,Object(u.jsx)(\"h3\",{className:\"pop\",children:\"Received\"}),r.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(\"div\",{className:\"userpage-book-display\",children:Object(u.jsx)(v.a.Group,{itemsPerRow:8,children:d.slice(S,S+8)})}),Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return B(S+8)},children:\"Next\"}),S>0?Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return B(S-8)},children:\"Back\"}):null]}):null,Object(u.jsx)(\"h3\",{className:\"pop\",children:\"Sponsored\"}),O.length>0?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(\"div\",{className:\"userpage-book-display\",children:Object(u.jsx)(v.a.Group,{itemsPerRow:8,children:O.slice(R,R+8)})}),Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return D(R+8)},children:\"Next\"}),R>0?Object(u.jsx)(f.a,{className:\"next-back-button\",onClick:function(){return D(R-8)},children:\"Back\"}):null]}):null]})):Object(u.jsx)(u.Fragment,{children:\"Loading\"})}var A=function(){var e=Object(s.useState)([]),t=Object(a.a)(e,2),n=t[0],i=t[1],c=Object(s.useState)(null),r=Object(a.a)(c,2),l=r[0],j=r[1],b=Object(s.useState)([]),d=Object(a.a)(b,2),h=d[0],f=d[1],p=Object(s.useState)(0),O=Object(a.a)(p,2),m=O[0],x=O[1],v=Object(s.useState)(!0),k=Object(a.a)(v,2),w=k[0],N=k[1],S=Object(s.useState)(!1),B=Object(a.a)(S,2),_=B[0],I=B[1];return Object(s.useEffect)((function(){N(!1),I(!0),fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\")).then((function(e){return e.json()})).then((function(e){return f(e)}))}),[l]),Object(s.useEffect)((function(){if(l){if(!1===w&&!0===_){var e={method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({eligible:!0})};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users/\").concat(l.id),e)}if(!0===w||!1===_){var t={method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({eligible:!1})};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users/\").concat(l.id),t)}}}),[w,_,h,l]),Object(u.jsxs)(\"div\",{className:\"app\",children:[Object(u.jsx)(g,{setUser:j,user:l,setBooksFromSearch:i,startIndex:m,setStartIndex:x}),Object(u.jsxs)(o.d,{children:[Object(u.jsx)(o.a,{exact:!0,from:\"/\",to:\"/home\"}),Object(u.jsx)(o.b,{path:\"/home\",children:Object(u.jsx)(L,{})}),Object(u.jsx)(o.b,{path:\"/bookindex\",children:Object(u.jsx)(y,{booksFromSearch:n,startIndex:m,setStartIndex:x})}),Object(u.jsx)(o.b,{path:\"/bookpage/:id\",children:Object(u.jsx)(C,{savedBooks:h,setSavedBooks:f,user:l,setUser:j,reviewLeft:_,timeLeft:w,setBooksFromSearch:i,startIndex:m,setStartIndex:x})}),Object(u.jsx)(o.b,{path:\"/otheruserpage/:id\",children:Object(u.jsx)(U,{user:l,savedBooks:h,timeLeft:w,setTimeLeft:N,reviewLeft:_,setReviewLeft:I})}),Object(u.jsx)(o.b,{exact:!0,path:\"/userpage\",children:l?Object(u.jsx)(E,{user:l,savedBooks:h,timeLeft:w,setTimeLeft:N,reviewLeft:_,setReviewLeft:I}):Object(u.jsx)(o.a,{to:\"/home\"})})]})]})};r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(x.a,{children:Object(u.jsx)(A,{})})}),document.getElementById(\"root\"))}},[[164,1,2]]]);","name":"static/js/main.2741be07.chunk.js","map":{"version":3,"sources":["static/js/main.2741be07.chunk.js"],"names":["this","push","150","module","exports","__webpack_require__","151","164","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","slicedToArray","react_router","Input","jsx_runtime","Search","_ref","setBooksFromSearch","startIndex","setStartIndex","_useState","Object","_useState2","searchInput","setSearchInput","history","searchTerms","replace","fetch","concat","then","response","json","data","items","onSubmit","e","preventDefault","children","icon","placeholder","type","onChange","target","value","className","defineProperty","objectSpread2","Modal","Button","Form","SignUp","user","setUser","open","setOpen","_useState3","eligible","_useState4","formState","setFormState","handleChange","name","onClose","onOpen","trigger","Header","Content","form","FormData","username","alert","append","profile_pic","bio","email","confObj","method","body","error","handleSubmit","Field","fluid","label","persist","files","handleImage","style","float","marginBottom","LogIn","headers","Content-Type","JSON","stringify","react_router_dom","MainNav","to","color","onClick","Card","Image","BookCard","book","textAlign","size","src","volumeInfo","imageLinks","thumbnail","wrapped","ui","title","id","slice","Description","authors","BookIndex","booksFromSearch","booksMapped","map","marginTop","Group","itemsPerRow","SponsorForm","waitingsMapped","waitlistRequest","setWaitlistRequest","toggleSponsorForm","setBackEndBook","backEndBook","setToggleSponsorForm","number","setNumber","num_books_funded","sponsor_id","handleSponsorSubmission","length","react_stars","react_stars_default","ReviewForm","setSavedBooks","waitListRequestAndStoreInDBRequest","storeInDB","text","rating","a","count","color2","reply","TextArea","rows","cols","user_id","book_id","content","labelPosition","primary","BookPage","savedBooks","reviewLeft","setBook","_useState5","_useState6","_useState7","_useState8","_useState9","_useState10","params","_useState11","_useState12","bookId","setBookId","_useState13","_useState14","similarIndex","setSimilarIndex","_useState15","_useState16","users","setUsers","waitingsFulfilledMapped","reviewsMapped","averageRating","sponsorsMapped","stripHtml","html","tmp","document","createElement","innerHTML","textContent","innerText","bookIdea","fulfilled","foundBook","find","api_id","subtitle","publisher","publishedDate","description","image_url","join","waitings","reviews","split","pop","sponsorsFiltered","filter","waiting","arr","x","wait","elem","circular","review","reduce","accumulator","currentValue","edit","reviewId","parseInt","handleCommentDelete","margin","BackendBookCard","Meta","Icon","Home","books","setBooks","backEndWaitings","setBackEndWaitings","index","setIndex","topReadersMapped","i","waitingsFulFilled","sort","b","keys","values","sponsoredWaitings","sponsorAOH","_loop","_i","userSponsors","sponsor","extra","reader","fontSize","display","UserPage_Timer","mostRecent","setTimeLeft","timeLeft","setDisplayTimerTwo","displayTimer","timerDays","setTimerDays","timerHours","setTimerHours","timerMinutes","setTimerMinutes","timerSeconds","setTimerSeconds","interval","current","countDownDate","Date","sponsor_date","setInterval","now","getTime","timeRemaining","days","Math","floor","hours","minutes","seconds","clearInterval","startTimer","class","SponsorList","allWaitings","sponsoredMapped","sponsoredIndex","setSponsoredIndex","arrTwo","savedBook","console","log","WaitList","waitlistMapped","waitlistIndex","setWaitlistIndex","waitingsUnfulfilled","saved_book","ReceivedList","waitingsFulFilledMapped","receivedMapped","UserPage","setReviewLeft","foundReview","setAllWaitings","displayTimerTwo","editInfo","waitingsFulfilled","creationDate","marginLeft","OtherUserPage","_loop2","_loop3","_i2","src_App","_confObj","exact","from","path","render","StrictMode","getElementById"],"mappings":"CAACA,KAA2B,qBAAIA,KAA2B,sBAAK,IAAIC,KAAK,CAAC,CAAC,GAAG,CAExEC,IACA,SAAUC,EAAQC,EAASC,KAM3BC,IACA,SAAUH,EAAQC,EAASC,KAM3BE,IACA,SAAUJ,EAAQK,EAAqBH,GAE7C,aAEAA,EAAoBI,EAAED,GAGtB,IAAIE,EAAQL,EAAoB,GAC5BM,EAA6BN,EAAoBO,EAAEF,GAGnDG,EAAYR,EAAoB,IAChCS,EAAiCT,EAAoBO,EAAEC,GAMvDE,GAHMV,EAAoB,KAGVA,EAAoB,IAGpCW,EAAeX,EAAoB,IASnCY,GANMZ,EAAoB,KAGXA,EAAoB,KAG3BA,EAAoB,MAG5Ba,EAAcb,EAAoB,GAGtC,SAASc,EAAOC,GAAM,IAAIC,EAAmBD,EAAKC,mBAAmBC,EAAWF,EAAKE,WAAWC,EAAcH,EAAKG,cAAkBC,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGG,EAAYD,EAAW,GAAGE,EAAeF,EAAW,GAAOG,EAAQJ,OAAOT,EAAiC,EAAxCS,GAA+vB,OAAltBA,OAAOf,EAAiB,UAAxBe,EAA2B,WAAW,IAAIK,EAAYH,EAAYI,QAAQ,MAAM,KAAKC,MAAM,iDAAiDC,OAAOH,EAAY,6BAA6BG,OAAOX,IAAaY,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMhB,EAAmBgB,EAAKC,YAAY,CAAChB,EAAWK,EAAYN,IAAmZI,OAAOP,EAAiB,IAAxBO,CAA2B,OAAO,CAACc,SAAja,SAAsBC,GAAGA,EAAEC,iBAAiBlB,EAAc,GAAG,IAAIO,EAAYH,EAAYI,QAAQ,MAAM,KAAKC,MAAM,iDAAiDC,OAAOH,EAAY,6BAA6BG,OAAOX,IAAaY,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMhB,EAAmBgB,EAAKC,OAAOT,EAAQ5B,KAAK,kBAA8FyC,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2BR,EAAuB,EAAE,CAAC0B,KAAK,SAASC,YAAY,YAAYC,KAAK,OAAOC,SAAS,SAAkBN,GAAG,OAAOZ,EAAeY,EAAEO,OAAOC,QAASA,MAAMrB,EAAYsB,UAAU,mBAE31C,IAAIC,EAAiB7C,EAAoB,IAGrC8C,EAAgB9C,EAAoB,IAGpC+C,EAAQ/C,EAAoB,KAG5BgD,EAAShD,EAAoB,KAG7BiD,EAAOjD,EAAoB,KAG/B,SAASkD,EAAOnC,GAAeA,EAAKoC,KAAd,IAAmBC,EAAQrC,EAAKqC,QAAY5B,EAAQJ,OAAOT,EAAiC,EAAxCS,GAAiDD,EAAUC,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGkC,EAAKhC,EAAW,GAAGiC,EAAQjC,EAAW,GAAOkC,EAAWnC,OAAOf,EAAgB,SAAvBe,CAA0B,CAACoC,UAAS,IAAOC,EAAWrC,OAAOV,EAA+B,EAAtCU,CAAyCmC,EAAW,GAAGG,EAAUD,EAAW,GAAGE,EAAaF,EAAW,GAAG,SAASG,EAAazB,GAAGwB,EAAavC,OAAO0B,EAA+B,EAAtC1B,CAAyCA,OAAO0B,EAA+B,EAAtC1B,CAAyC,GAAGsC,GAAW,GAAGtC,OAAOyB,EAAgC,EAAvCzB,CAA0C,GAAGe,EAAEO,OAAOmB,KAAK1B,EAAEO,OAAOC,SACzR,OAAmBvB,OAAOP,EAAkB,KAAzBO,CAA4B2B,EAAuB,EAAE,CAACe,QAAQ,WAAmB,OAAOR,GAAQ,IAASS,OAAO,WAAkB,OAAOT,GAAQ,IAAQD,KAAKA,EAAKW,QAAqB5C,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACX,SAAS,YAAYA,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B2B,EAAuB,EAAEkB,OAAO,CAAC5B,SAAS,YAAyBjB,OAAOP,EAAiB,IAAxBO,CAA2B2B,EAAuB,EAAEmB,QAAQ,CAAC7B,SAAsBjB,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE,CAACf,SAAS,SAAkBC,GAAG,OADzC,SAAsBA,GAAGA,EAAEC,iBAAiB,IAAI+B,EAAK,IAAIC,SAAeV,EAAUW,UAAUC,MAAM,4BAA6BH,EAAKI,OAAO,cAAcb,EAAUc,aAAaL,EAAKI,OAAO,WAAWb,EAAUW,UAAUF,EAAKI,OAAO,OAAOb,EAAUG,MAAMM,EAAKI,OAAO,MAAMb,EAAUe,KAAKN,EAAKI,OAAO,QAAQb,EAAUgB,OACxrC,IAAIC,EAAQ,CAACC,OAAO,OAAOC,KAAKV,GAAMxC,MAAM,GAAGC,OAAO,4CAA4C,UAAU+C,GAAS9C,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAASA,EAAK8C,OAAOR,MAAM,2BAA2BX,EAAa,MAAUW,MAAM,kBAAkB1C,OAAOI,EAAKqC,SAAS,MAAMjB,EAAQpB,GAAM2B,EAAa,IAAInC,EAAQ5B,KAAK,iBAA0kBmF,CAAa5C,IAAKE,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,OAAOsB,KAAK,OAAOpB,SAAS,SAAkBN,GAAG,OAAOyB,EAAazB,SAAuBf,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,aAA0BjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,WAAWsB,KAAK,WAAWpB,SAAS,SAAkBN,GAAG,OAAOyB,EAAazB,SAAuBf,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,UAAuBjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,QAAQsB,KAAK,QAAQpB,SAAS,SAAkBN,GAAG,OAAOyB,EAAazB,SAAuBf,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,aAA0BjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,WAAWC,KAAK,gBAA6BpB,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,QAAqBjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,MAAMsB,KAAK,MAAMpB,SAAS,SAAkBN,GAAG,OAAOyB,EAAazB,SAAuBf,OAAOP,EAAiB,IAAxBO,CAA2B6B,EAAsB,EAAErC,MAAM,CAAC4B,KAAK,OAAOqB,KAAK,cAAcoB,OAAM,EAAKC,MAAM,eAAezC,SAAS,SAAkBN,GAAG,OAD31D,SAAqBA,GAAGA,EAAEgD,UAAUxB,EAAavC,OAAO0B,EAA+B,EAAtC1B,CAAyCA,OAAO0B,EAA+B,EAAtC1B,CAAyC,GAAGsC,GAAW,GAAGtC,OAAOyB,EAAgC,EAAvCzB,CAA0C,GAAGe,EAAEO,OAAOmB,KAAK1B,EAAEO,OAAO0C,MAAM,MACooDC,CAAYlD,MAAoBf,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACR,KAAK,SAAS8C,MAAM,CAACC,MAAM,QAAQC,aAAa,QAAQnD,SAAS,oBAE/oF,SAASoD,EAAM1E,GAAM,IAAIqC,EAAQrC,EAAKqC,QAAQD,EAAKpC,EAAKoC,KAAS3B,EAAQJ,OAAOT,EAAiC,EAAxCS,GAAiDD,EAAUC,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGkC,EAAKhC,EAAW,GAAGiC,EAAQjC,EAAW,GAAOkC,EAAWnC,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIqC,EAAWrC,OAAOV,EAA+B,EAAtCU,CAAyCmC,EAAW,GAAGG,EAAUD,EAAW,GAAGE,EAAaF,EAAW,GAClY,OADqYrC,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWI,EAAQ5B,KAAK,eAAe,CAACuD,EAAK3B,IAC1bJ,OAAOP,EAAkB,KAAzBO,CAA4B2B,EAAuB,EAAE,CAACe,QAAQ,WAAmB,OAAOR,GAAQ,IAASS,OAAO,WAAkB,OAAOT,GAAQ,IAAQD,KAAKA,EAAKW,QAAqB5C,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACX,SAAS,aAAaA,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B2B,EAAuB,EAAEkB,OAAO,CAAC5B,SAAS,WAAwBjB,OAAOP,EAAiB,IAAxBO,CAA2B2B,EAAuB,EAAEmB,QAAQ,CAAC7B,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,QAAQP,SAAsBjB,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE,CAACf,SAAS,SAAkBC,GAAG,OADjD,SAAsBA,GAAGA,EAAEC,iBAAiBkB,GAAQ,GAAO,IAAIqB,EAAQ,CAACC,OAAO,OAAOc,QAAQ,CAACC,eAAe,oBAAoBd,KAAKe,KAAKC,UAAUnC,IAAY/B,MAAM,GAAGC,OAAO,4CAA4C,gBAAgB+C,GAAS9C,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAC76BoB,EAAQpB,GAAMR,EAAQ5B,KAAK,gBAAmpBmF,CAAa5C,IAAKE,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,aAA0BjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,WAAWsB,KAAK,WAAWpB,SAAS,SAAkBN,GAAG,OADtd,SAAsBA,GAAGwB,EAAavC,OAAOyB,EAAgC,EAAvCzB,CAA0C,GAAGe,EAAEO,OAAOmB,KAAK1B,EAAEO,OAAOC,QACmXiB,CAAazB,SAAuBf,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,aAA0BjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,WAAWC,KAAK,gBAA6BpB,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACR,KAAK,SAAS8C,MAAM,CAACC,MAAM,QAAQC,aAAa,QAAQnD,SAAS,oBAEj3C,IAAIyD,EAAmB9F,EAAoB,IAG3C,SAAS+F,EAAQhF,GAAM,IAAIC,EAAmBD,EAAKC,mBAAmBoC,EAAQrC,EAAKqC,QAAQD,EAAKpC,EAAKoC,KAAKlC,EAAWF,EAAKE,WAAWC,EAAcH,EAAKG,cAAkBM,EAAQJ,OAAOT,EAAiC,EAAxCS,GAA2G,OAAmBA,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,WAAWP,SAAsBjB,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,OAAOP,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B0E,EAAkC,EAAE,CAACE,GAAG,IAAIV,MAAM,CAACW,MAAM,SAAS5D,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,YAAYP,SAAS,mBAAgCjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,cAAcP,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2BN,EAAO,CAACE,mBAAmBA,EAAmBC,WAAWA,EAAWC,cAAcA,MAA+BE,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,WAAWP,SAAS,CAACc,EAAK,KAAkB/B,OAAOP,EAAiB,IAAxBO,CAA2B8B,EAAO,CAACC,KAAKA,EAAKC,QAAQA,IAAUD,EAAK,KAAkB/B,OAAOP,EAAiB,IAAxBO,CAA2BqE,EAAM,CAACH,MAAM,CAACW,MAAM,WAAW9C,KAAKA,EAAKC,QAAQA,IAAUD,EAAkB/B,OAAOP,EAAkB,KAAzBO,CAA4B4B,EAAwB,EAAE,CAACX,SAAS,CAAC,IAAiBjB,OAAOP,EAAiB,IAAxBO,CAA2B0E,EAAkC,EAAE,CAACR,MAAM,CAACW,MAAM,WAAWD,GAAG,YAAY3D,SAAS,mBAAmB,KAAKc,EAAkB/B,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACkD,QAAQ,WAAmB,OAAxwC1E,EAAQ5B,KAAK,cAASwD,EAAQ,OAAmwCf,SAAS,iBAAiB,KAAkBjB,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACX,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B0E,EAAkC,EAAE,CAACR,MAAM,CAACW,MAAM,WAAWD,GAAG,IAAI3D,SAAS,uBAEzvD,IAAI8D,EAAOnG,EAAoB,KAG3BoG,EAAQpG,EAAoB,KAGhC,SAASqG,EAAStF,GAAM,IAAIuF,EAAKvF,EAAKuF,KAAK,OAAmBlF,OAAOP,EAAkB,KAAzBO,CAA4B+E,EAAsB,EAAE,CAACb,MAAM,CAACiB,UAAU,UAAUlE,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACI,KAAK,OAAOC,IAAIH,EAAKI,WAAWC,WAAWL,EAAKI,WAAWC,WAAWC,UAAU,KAAKC,SAAQ,EAAKC,IAAG,IAAqB1F,OAAOP,EAAkB,KAAzBO,CAA4B+E,EAAsB,EAAEjC,QAAQ,CAAC7B,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAElC,OAAO,CAAC5B,SAASiE,EAAKI,WAAWK,MAAmB3F,OAAOP,EAAkB,KAAzBO,CAA4B0E,EAA+B,EAAE,CAACE,GAAG,aAAapE,OAAO0E,EAAKU,IAAI3E,SAAS,CAACiE,EAAKI,WAAWK,MAAME,MAAM,EAAE,IAAI,OAAO,OAAoB7F,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEe,YAAY,CAAC7E,SAASiE,EAAKI,WAAWS,QAAQb,EAAKI,WAAWS,QAAQ,GAAGF,MAAM,EAAE,IAAI,aAE5zB,SAASG,EAAUrG,GAAM,IAAIsG,EAAgBtG,EAAKsG,gBAAgBpG,EAAWF,EAAKE,WAAWC,EAAcH,EAAKG,cAAkBoG,EAAY,GAA8I,OAAxID,IAAiBC,EAAYD,EAAgBE,KAAI,SAASjB,GAAM,OAAmBlF,OAAOP,EAAiB,IAAxBO,CAA2BiF,EAAS,CAACC,KAAKA,QAA8BlF,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,aAAa0C,MAAM,CAACkC,UAAU,SAASnF,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASiF,IAA2BlG,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,mBAAmB0C,MAAM,CAACkC,UAAU,QAAQnF,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAOhF,EAAcD,EAAW,IAAKoB,SAAS,SAASpB,EAAW,EAAeG,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAOhF,EAAcD,EAAW,IAAKoB,SAAS,SAAS,WAE19B,SAASsF,EAAY5G,GAAM,IAAI6G,EAAe7G,EAAK6G,eAAetB,EAAKvF,EAAKuF,KAAKnD,EAAKpC,EAAKoC,KAA0B0E,GAAb9G,EAAKqC,QAAwBrC,EAAK8G,iBAAgBC,EAAmB/G,EAAK+G,mBAAmFC,GAAjDhH,EAAKiH,eAA2BjH,EAAKkH,YAA8BlH,EAAKgH,mBAAkBG,EAAqBnH,EAAKmH,qBAAyB/G,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGgH,EAAO9G,EAAW,GAAG+G,EAAU/G,EAAW,GAAud,OAAmBD,OAAOP,EAAkB,KAAzBO,CAA4B,OAAO,CAACwB,UAAU,SAASV,SAAS,SAAkBC,GAAG,OAA5jB,SAAiCA,GAAGA,EAAEC,iBAAiB,IAAIuC,EAAQ,CAACC,OAAO,QAAQc,QAAQ,CAACC,eAAe,oBAAoBd,KAAKe,KAAKC,UAAU,CAACwC,iBAAiBlG,EAAEO,OAAOyF,OAAOxF,MAAM2F,WAAWnF,EAAK6D,MAAMrF,MAAM,GAAGC,OAAO,4CAA4C,sBAAsBA,OAAO0E,EAAKU,IAAIrC,GAAS9C,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMkG,GAAsBH,GAAmBD,GAAoBD,MAAoIU,CAAwBpG,IAAKE,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,0CAAuDjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACoB,KAAK,SAASqB,KAAK,SAASlB,MAAMwF,EAAO1F,SAAS,SAAkBN,GAAG,OAAOiG,EAAUjG,EAAEO,OAAOC,UAAWwF,EAAOP,EAAeY,OAAoBpH,OAAOP,EAAiB,IAAxBO,CAA2B,IAAI,CAACkE,MAAM,CAACW,MAAM,OAAO5D,SAAS,0DAA0D,KAAkBjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACoB,KAAK,SAASG,MAAM,UAAUC,UAAU,cAEhmD,IAAI6F,EAAczI,EAAoB,IAClC0I,EAAmC1I,EAAoBO,EAAEkI,GAG7D,SAASE,EAAW5H,GAAM,IAAIoC,EAAKpC,EAAKoC,KAAKmD,EAAKvF,EAAKuF,KAAKsC,EAAc7H,EAAK6H,cAAcd,EAAmB/G,EAAK+G,mBAAmBD,EAAgB9G,EAAK8G,gBAAwHG,GAArEjH,EAAK8H,mCAA+C9H,EAAKkH,YAA2BlH,EAAKiH,gBAAec,EAAU/H,EAAK+H,UAAc3H,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,CAAC2H,KAAK,GAAGC,OAAO,IAAI3H,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGuC,EAAUrC,EAAW,GAAGsC,EAAatC,EAAW,GAAgqC,OAAmBD,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACiB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAAS,mBAAgCjB,OAAOP,EAAiB,IAAxBO,CAA2BsH,EAAoBO,EAAE,CAACrG,UAAU,cAAcsG,MAAM,EAAEzG,SAA/iC,SAAuBN,GAAMgB,GAAM2F,IAAYnF,EAAavC,OAAO0B,EAA+B,EAAtC1B,CAAyCA,OAAO0B,EAA+B,EAAtC1B,CAAyC,GAAGsC,GAAW,GAAG,CAACsF,OAAO7G,OAAWwB,EAAa,IAAIW,MAAM,uCAA63BkC,KAAK,GAAG2C,OAAO,UAAUxG,MAAMe,EAAUsF,OAAOnF,KAAK,WAAwBzC,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE,CAACmG,OAAM,EAAKlH,SAAS,SAAkBC,GAAG,OAAjgC,SAAsBA,GAAmH,GAAhHA,EAAEC,iBAAoBsB,EAAUqF,KAAKP,OAAO,KAAKlE,MAAM,wDAA4DZ,EAAUqF,KAAKP,OAAO,IAAI,CAAC,IAAI7D,EAAQ,CAACC,OAAO,OAAOc,QAAQ,CAACC,eAAe,oBAAoBd,KAAKe,KAAKC,UAAUnC,IAAY/B,MAAM,GAAGC,OAAO,4CAA4C,YAAY+C,GAAS9C,MAAK,SAASG,GAAM8F,GAAoBD,GAAiBG,GAAe,GAAMrG,MAAM,GAAGC,OAAO,4CAA4C,WAAWC,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAM4G,EAAc5G,UAAgc+C,CAAa5C,IAAKE,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B6B,EAAsB,EAAEoG,SAAS,CAAC1G,MAAMe,EAAUqF,KAAKlF,KAAK,OAAOyF,KAAK,EAAEC,KAAK,GAAG9G,SAAS,SAAkBN,GAAG,OAAnwD,SAAsBA,GAAMgB,GAAM2F,IAAYnF,EAAavC,OAAO0B,EAA+B,EAAtC1B,CAAyCA,OAAO0B,EAA+B,EAAtC1B,CAAyC,CAACoI,QAAQrG,EAAK6D,GAAGyC,QAAQnD,EAAKU,IAAItD,GAAW,GAAGtC,OAAOyB,EAAgC,EAAvCzB,CAA0C,GAAGe,EAAEO,OAAOmB,KAAK1B,EAAEO,OAAOC,WAAwBgB,EAAa,IAAIW,MAAM,sCAA09CV,CAAazB,MAAoBf,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACR,KAAK,SAASkH,QAAQ,aAAaC,cAAc,OAAOrH,KAAK,OAAOsH,SAAQ,UAE96E,SAASC,EAAS9I,GAAM,IAAI6H,EAAc7H,EAAK6H,cAAyCzF,GAAhBpC,EAAK+I,WAAgB/I,EAAKoC,MAAKC,EAAQrC,EAAKqC,QAAuCjC,GAApBJ,EAAKgJ,WAAyB3I,OAAOf,EAAgB,SAAvBe,CAA0B,KAAIC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGmF,EAAKjF,EAAW,GAAG2I,EAAQ3I,EAAW,GAAOkC,EAAWnC,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOqC,EAAWrC,OAAOV,EAA+B,EAAtCU,CAAyCmC,EAAW,GAAG0E,EAAYxE,EAAW,GAAGuE,EAAevE,EAAW,GAAOwG,EAAW7I,OAAOf,EAAgB,SAAvBe,EAA0B,GAAO8I,EAAW9I,OAAOV,EAA+B,EAAtCU,CAAyC6I,EAAW,GAAGpC,EAAgBqC,EAAW,GAAGpC,EAAmBoC,EAAW,GAAOC,EAAW/I,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOgJ,EAAWhJ,OAAOV,EAA+B,EAAtCU,CAAyC+I,EAAW,GAAGpC,EAAkBqC,EAAW,GAAGlC,EAAqBkC,EAAW,GAAOC,EAAWjJ,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIkJ,EAAYlJ,OAAOV,EAA+B,EAAtCU,CAAyCiJ,EAAW,GAAGhD,EAAgBiD,EAAY,GAAGtJ,EAAmBsJ,EAAY,GAAOC,EAAOnJ,OAAOT,EAAgC,EAAvCS,GAAgDoJ,EAAYpJ,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGqJ,EAAYrJ,OAAOV,EAA+B,EAAtCU,CAAyCoJ,EAAY,GAAGE,EAAOD,EAAY,GAAGE,EAAUF,EAAY,GAAOG,EAAYxJ,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGyJ,EAAYzJ,OAAOV,EAA+B,EAAtCU,CAAyCwJ,EAAY,GAAGE,EAAaD,EAAY,GAAGE,EAAgBF,EAAY,GAAOG,EAAY5J,OAAOf,EAAgB,SAAvBe,CAA0B,IAAI6J,EAAY7J,OAAOV,EAA+B,EAAtCU,CAAyC4J,EAAY,GAAGE,EAAMD,EAAY,GAAGE,EAASF,EAAY,GAAOrD,EAAe,KAASwD,EAAwB,EAAMC,EAAc,KAAS/D,EAAY,GAAOgE,EAAc,EAAMC,GAAe,GAAG,SAASC,GAAUC,GAAM,IAAIC,EAAIC,SAASC,cAAc,OAA0B,OAAnBF,EAAIG,UAAUJ,EAAYC,EAAII,aAAaJ,EAAIK,WAAW,GAAkuE,SAASlD,KAAqC,GAAG1F,EAAK,CAAC,IAAIwB,EAAQ,CAACC,OAAO,OAAOc,QAAQ,CAACC,eAAe,oBAAoBd,KAAKe,KAAKC,UAAUS,IAAO3E,MAAM,GAAGC,OAAO,4CAA4C,UAAU+C,GAAS9C,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMgI,EAAQhI,GAAM2I,EAAU3I,EAAKgF,IAAI,IAAIgF,EAAShK,EAAKgF,GAAOrC,EAAQ,CAACC,OAAO,OAAOc,QAAQ,CAACC,eAAe,oBAAoBd,KAAKe,KAAKC,UAAU,CAAC2D,QAAQrG,EAAK6D,GAAGyC,QAAQuC,EAASC,WAAU,KAAStK,MAAM,GAAGC,OAAO,4CAA4C,aAAa+C,GAAS9C,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMgG,GAAe,GAAMF,GAAoBD,GAAoB7F,EAAK8C,OAAOR,MAAM,GAAG1C,OAAOI,EAAK8C,mBAKltJR,MAAM,sCAA+N,GALqiDlD,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWO,MAAM,GAAGC,OAAO,4CAA4C,WAAWC,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAM,IAAIkK,EAAeA,EAAUlK,EAAKmK,MAAK,SAAS7F,GAAM,OAAOA,EAAK8F,SAAS7B,EAAOvD,MAAMgD,EAAQkC,GAAcA,IAAWvB,EAAUuB,EAAUlF,IAAIgB,GAAe,IAAWkE,GAAWvK,MAAM,+CAA+CC,OAAO2I,EAAOvD,KAAKnF,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAM,IAAI+E,EAAM,GAAOsF,EAAS,GAAOlF,EAAQ,CAAC,IAAQmF,EAAU,GAAOC,EAAc,GAAOC,EAAY,GAAOC,EAAU,GAAMzK,EAAK0E,WAAWK,QAAOA,EAAM/E,EAAK0E,WAAWK,OAAU/E,EAAK0E,WAAWS,UAASA,EAAQnF,EAAK0E,WAAWS,SAAYnF,EAAK0E,WAAW2F,WAAUA,EAASrK,EAAK0E,WAAW2F,UAAarK,EAAK0E,WAAW4F,YAAWA,EAAUtK,EAAK0E,WAAW4F,WAActK,EAAK0E,WAAW6F,gBAAeA,EAAcvK,EAAK0E,WAAW6F,eAAkBvK,EAAK0E,WAAW8F,cAAaA,EAAYxK,EAAK0E,WAAW8F,aAAgBxK,EAAK0E,WAAWC,aAAY8F,EAAUzK,EAAK0E,WAAWC,WAAWC,WAAWoD,EAAQ,CAACjD,MAAMA,EAAMsF,SAASA,EAASlF,QAAQA,EAAQuF,KAAK,MAAMJ,UAAUA,EAAUC,cAAcA,EAAcC,YAAYhB,GAAUgB,GAAaC,UAAUA,EAAUL,OAAOpK,EAAKgF,GAAG2F,SAAS,GAAGC,QAAQ,WAAYjL,MAAM,GAAGC,OAAO,4CAA4C,WAAWC,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAM,OAAOmJ,EAASnJ,QAAW,CAAC6F,EAAgBI,EAAYsC,EAAOvD,GAAG0D,IAAStJ,OAAOf,EAAiB,UAAxBe,EAA2B,WAAW,GAAGkF,GAASA,EAAKS,MAAM,CAAC,IAAItF,EAAY6E,EAAKS,MAAM8F,MAAM,KAAKC,MAAMnL,MAAM,iDAAiDC,OAAOH,EAAY,mBAAmBI,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMhB,EAAmBgB,EAAKC,aAAc,CAACqE,IAK1gHe,EAAgBmB,OAAO,IAAGlB,EAAYD,EAAgBJ,MAAM6D,EAAaA,EAAa,GAAGvD,KAAI,SAASjB,GAAM,OAAmBlF,OAAOP,EAAiB,IAAxBO,CAA2BiF,EAAS,CAACC,KAAKA,SAA4B,IAAd2B,GAAoB3B,EAAK,CAAC,GAAG4E,EAAM1C,OAAO,EAAE,CAAC,IAAIuE,GAAiBzG,EAAKqG,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAAwBiB,GAAI,GAA4+B3B,IAAz+BA,GAAewB,GAAiBxF,KAAI,SAAS0F,GAAS,IAAIE,EAAEJ,GAAiBC,QAAO,SAASI,GAAM,OAAOA,EAAK9E,aAAa2E,EAAQ3E,cAAcE,OAAO,OAAG0E,GAAIf,MAAK,SAASkB,GAAM,OAAOA,IAAOJ,EAAQ3E,cAAsB,MAAW4E,GAAItN,KAAKqN,EAAQ3E,YAA+BlH,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACK,IAAIyE,EAAMiB,MAAK,SAAShJ,GAAM,OAAOA,EAAK6D,KAAKiG,EAAQ3E,cAAc9D,YAAY0G,EAAMiB,MAAK,SAAShJ,GAAM,OAAOA,EAAK6D,KAAKiG,EAAQ3E,cAAc9D,YAAY,4FAA4FgC,KAAK,OAAO8G,UAAS,IAAoBlM,OAAOP,EAAiB,IAAxBO,CAA2B0E,EAA+B,EAAE,CAACE,GAAG,kBAAkBpE,OAAOqL,EAAQ3E,YAAYjG,SAAS6I,EAAMiB,MAAK,SAAShJ,GAAM,OAAOA,EAAK6D,KAAKiG,EAAQ3E,cAAcjE,WAAwBjD,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACkE,MAAM,CAACC,MAAM,SAASlD,SAAS,CAAC,IAAI8K,EAAE,IAAQ,IAAJA,EAAM,QAAQ,oBAAiDH,QAAO,SAASC,GAAS,OAAiB,OAAVA,KAAmBrF,EAAetB,EAAKqG,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAAoB1E,KAAI,SAAS0F,GAAS,OAAmB7L,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACK,IAAIwG,EAAQ9J,KAAKqB,YAAYyI,EAAQ9J,KAAKqB,YAAY,4FAA4FgC,KAAK,OAAO8G,UAAS,IAAoBlM,OAAOP,EAAkB,KAAzBO,CAA4B0E,EAA+B,EAAE,CAACE,GAAG,kBAAkBpE,OAAOqL,EAAQ9J,KAAK6D,IAAI3E,SAAS,CAAC4K,EAAQ9J,KAAKkB,SAAS,IAAI4I,EAAQ9J,KAAKK,SAAS,aAAa,wBAAwB4H,EAAwB9E,EAAKqG,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAAoB1E,KAAI,SAAS0F,GAAS,OAAmB7L,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACK,IAAIwG,EAAQ9J,KAAKqB,YAAYyI,EAAQ9J,KAAKqB,YAAY,4FAA4FgC,KAAK,OAAO8G,UAAS,IAAoBlM,OAAOP,EAAiB,IAAxBO,CAA2B0E,EAA+B,EAAE,CAACE,GAAG,kBAAkBpE,OAAOqL,EAAQ9J,KAAK6D,IAAI3E,SAAS4K,EAAQ9J,KAAKkB,iBAAiBgH,EAAc/E,EAAKsG,QAAQrF,KAAI,SAASgG,GAAQ,GAAGpK,EAAK,CAAsM,OAA5GmI,EAAchF,EAAKsG,QAAQrF,KAAI,SAASgG,GAAQ,OAAOA,EAAOvE,UAAUwE,QAArJ,SAAiBC,EAAYC,GAAc,OAAOD,EAAYC,KAAuGpH,EAAKsG,QAAQpE,OAA0BpH,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,SAASP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACK,IAAI8G,EAAOpK,KAAKqB,YAAY+I,EAAOpK,KAAKqB,YAAY,4FAA4FgC,KAAK,OAAO8G,UAAS,IAAoBlM,OAAOP,EAAiB,IAAxBO,CAA2B0E,EAA+B,EAAE,CAACE,GAAG,kBAAkBpE,OAAO2L,EAAOpK,KAAK6D,IAAI3E,SAASkL,EAAOpK,KAAKkB,WAAwBjD,OAAOP,EAAiB,IAAxBO,CAA2BsH,EAAoBO,EAAE,CAACrG,UAAU,cAAcsG,MAAM,EAAEvG,MAAM4K,EAAOvE,OAAOxC,KAAK,GAAG2C,OAAO,UAAUwE,MAAK,IACl+GJ,EAAOxE,KAAKwE,EAAOpK,KAAK6D,KAAK7D,EAAK6D,GAAgB5F,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACwD,KAAK,OAAOQ,GAAGuG,EAAOvG,GAAGd,QAAQ,SAAiB/D,GAAG,OAAu7B,SAA6BA,GAAG,IAAIyL,EAASC,SAAS1L,EAAEO,OAAOsE,IAAQrC,EAAQ,CAACC,OAAO,SAASc,QAAQ,CAACC,eAAe,qBAAqBhE,MAAM,GAAGC,OAAO,4CAA4C,aAAaA,OAAOgM,GAAUjJ,GAAS9C,MAAK,SAASG,GAAM,OAAO8F,GAAoBD,MAA/sCiG,CAAoB3L,IAAKE,SAAS,WAAW,QAAsN,OAA7GiJ,EAAchF,EAAKsG,QAAQrF,KAAI,SAASgG,GAAQ,OAAOA,EAAOvE,UAAUwE,QAAtJ,SAAkBC,EAAYC,GAAc,OAAOD,EAAYC,KAAwGpH,EAAKsG,QAAQpE,OAA0BpH,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACiB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACK,IAAI8G,EAAOpK,KAAKqB,YAAY+I,EAAOpK,KAAKqB,YAAY,4FAA4FgC,KAAK,OAAO8G,UAAS,IAAoBlM,OAAOP,EAAiB,IAAxBO,CAA2B0E,EAA+B,EAAE,CAACE,GAAG,kBAAkBpE,OAAO2L,EAAOpK,KAAK6D,IAAI3E,SAASkL,EAAOpK,KAAKkB,WAAwBjD,OAAOP,EAAiB,IAAxBO,CAA2BsH,EAAoBO,EAAE,CAACrG,UAAU,cAAcsG,MAAM,EAAEvG,MAAM4K,EAAOvE,OAAOxC,KAAK,GAAG2C,OAAO,UAAUwE,MAAK,OAAWJ,EAAOxE,WAAgsB,OAAmB3H,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,WAAWP,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,YAAYP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,kBAAkBP,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACd,MAAM,CAACyI,OAAO,OAAOxI,MAAM,SAASiB,KAAK,eAAeC,IAAIH,EAAKA,EAAKmG,UAAU,UAAuBrL,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,iBAAiBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACE,aAAa,SAASnD,SAASiE,EAAKA,EAAKS,MAAM,QAAqB3F,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAASiE,EAAKA,EAAK+F,SAAS,QAAQhB,EAA2BjK,OAAOP,EAAiB,IAAxBO,CAA2BsH,EAAoBO,EAAE,CAACrG,UAAU,cAAcsG,MAAM,EAAEvG,MAAM2I,EAAc9E,KAAK,GAAG2C,OAAO,UAAUwE,MAAK,IAAQ,KAAkBvM,OAAOP,EAAiB,IAAxBO,CAA2B,IAAI,CAACiB,SAAS,QAAQ,IAAIiE,EAAKA,EAAKa,QAAQ,MAAM,KAAKb,EAAKA,EAAKiG,cAAc,MAAM,IAAiBnL,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,IAAI,CAACiB,SAAS,sBAAsB,IAAIiE,EAAKA,EAAKgG,UAAU,MAAmBlL,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,IAAI,CAACiB,SAAS,iBAA8BjB,OAAOP,EAAiB,IAAxBO,CAA2B,IAAI,CAACiB,SAASiE,EAAKA,EAAKkG,YAAY,cAAclG,EAAkBlF,OAAOP,EAAkB,KAAzBO,CAA4BP,EAAsB,SAAE,CAACwB,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,UAAUP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAAS,YAAY4F,GAAaoD,EAAc7C,OAAO,EAAepH,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACwB,UAAU,YAAYP,SAAS,CAAC,IAAIgJ,EAAc,OAAO,mDAAgEjK,OAAOP,EAAiB,IAAxBO,CAA2BuH,EAAW,CAACG,UAN6C,WAAqB,GAAG3F,EAAK,CAAC,IAAIwB,EAAQ,CAACC,OAAO,OAAOc,QAAQ,CAACC,eAAe,oBAAoBd,KAAKe,KAAKC,UAAUS,IAAO3E,MAAM,GAAGC,OAAO,4CAA4C,UAAU+C,GAAS9C,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMgI,EAAQhI,GAAM2I,EAAU3I,EAAKgF,IAAIgB,GAAe,GAAMF,GAAoBD,WAA0BvD,MAAM,sCAMxZnB,KAAKA,EAAKmD,KAAKA,EAAKuB,gBAAgBA,EAAgBC,mBAAmBA,EAAmBG,YAAYA,EAAYD,eAAeA,EAAeY,cAAcA,EAAcC,mCAAmCA,GAAmCd,kBAAkBA,EAAkBG,qBAAqBA,OAAuC9G,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,2BAA2BP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACiB,UAAU,UAAUlE,SAAS,eAAe4F,GAAamD,EAAwB5C,OAAO,EAAepH,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAC,IAAI+I,EAAwB,QAAQ,2EAAwFhK,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,wBAAwBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACiB,UAAU,UAAUlE,SAAS,aAA0BjB,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAC4F,GAAaL,EAAeY,OAAO,EAAEZ,EAAe,2DAA2D,OAAoBxG,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,iBAAiBsD,QAAQ2C,GAAmCxG,SAAS,yBAAsCjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,wBAAwBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACiB,UAAU,UAAUlE,SAAS,aAA0BjB,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAC4F,GAAasD,GAAe/C,OAAO,EAAE+C,GAAe,qDAAqD,OAAoBnK,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACkD,QAAj0H,WAAkC/C,EAAS8E,EAAaC,GAAsBH,GAAyBzD,MAAM,oCAA2CA,MAAM,6BAA+rHjC,SAAS,uBAAuB0F,EAA+B3G,OAAOP,EAAiB,IAAxBO,CAA2BuG,EAAY,CAACC,eAAeA,EAAetB,KAAKA,EAAKnD,KAAKA,EAAKC,QAAQA,EAAQyE,gBAAgBA,EAAgBC,mBAAmBA,EAAmBE,eAAeA,EAAeC,YAAYA,EAAYC,qBAAqBA,EAAqBH,kBAAkBA,IAAoB,WAAW,KAAkB3G,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,gBAAgBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAAS,kBAAkBgF,EAAgBmB,OAAO,EAAepH,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASiF,IAAc,KAAkBlG,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,mBAAmBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAl/I4E,EAAazD,EAAgBmB,OAAO,EAAGuC,EAAgBD,EAAa,GAASxG,MAAM,6BAAu9IjC,SAAS,aAAayI,EAAa,EAAe1J,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAA/iJ6E,EAAgBD,EAAa,IAA0kJzI,SAAS,YAAY,cAEr2M,SAAS2L,EAAgBjN,GAAM,IAAIuF,EAAKvF,EAAKuF,KAAKhB,EAAMvE,EAAKuE,MAAM,OAAGgB,EAAyBlF,OAAOP,EAAkB,KAAzBO,CAA4B+E,EAAsB,EAAE,CAACb,MAAM,CAACiB,UAAU,SAASjB,MAAMA,GAAOjD,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACI,KAAK,QAAQC,IAAIH,EAAKmG,UAAUnG,EAAKmG,UAAU,KAAK5F,SAAQ,EAAKC,IAAG,IAAqB1F,OAAOP,EAAkB,KAAzBO,CAA4B+E,EAAsB,EAAEjC,QAAQ,CAAC7B,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAElC,OAAO,CAAC5B,SAASiE,EAAKS,MAAmB3F,OAAOP,EAAkB,KAAzBO,CAA4B0E,EAA+B,EAAE,CAACE,GAAG,aAAapE,OAAO0E,EAAK8F,QAAQ/J,SAAS,CAACiE,EAAKS,MAAME,MAAM,EAAE,IAAI,OAAO,OAAoB7F,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAE8H,KAAK,CAAC5L,SAASiE,EAAK+F,SAAS/F,EAAK+F,SAASpF,MAAM,EAAE,IAAI,OAAoB7F,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEe,YAAY,CAAC7E,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B,OAAO,CAACwB,UAAU,OAAOP,SAASiE,EAAKa,QAAQb,EAAKa,QAAQ,eAA4B,KAEr/B,IAAI+G,EAAOlO,EAAoB,IAG/B,SAASmO,IAAO,IAAIhN,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGiN,EAAM/M,EAAW,GAAGgN,EAAShN,EAAW,GAAOkC,EAAWnC,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIqC,EAAWrC,OAAOV,EAA+B,EAAtCU,CAAyCmC,EAAW,GAAG+K,EAAgB7K,EAAW,GAAG8K,EAAmB9K,EAAW,GAAOwG,EAAW7I,OAAOf,EAAgB,SAAvBe,CAA0B,IAAI8I,EAAW9I,OAAOV,EAA+B,EAAtCU,CAAyC6I,EAAW,GAAGiB,EAAMhB,EAAW,GAAGiB,EAASjB,EAAW,GAAOC,EAAW/I,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGgJ,EAAWhJ,OAAOV,EAA+B,EAAtCU,CAAyC+I,EAAW,GAAGqE,EAAMpE,EAAW,GAAGqE,EAASrE,EAAW,GAAOuC,EAAS,GAAO/E,EAAe,GAAO2D,EAAe,GAAyBmD,EAAiB,GACtN,GAAthBtN,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWO,MAAM,GAAGC,OAAO,4CAA4C,WAAWC,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMqM,EAASrM,MAASL,MAAM,GAAGC,OAAO,4CAA4C,WAAWC,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMmJ,EAASnJ,MAASL,MAAM,GAAGC,OAAO,4CAA4C,cAAcC,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAMuM,EAAmBvM,QAAW,IAAOoM,EAAM5F,OAAO,EAAE,CAAC,IAAI,IAAImG,EAAE,EAAEA,EAAEP,EAAM5F,OAAOmG,IAAI,CAAC,IAAIC,EAAkBR,EAAMO,GAAGhC,SAASK,QAAO,SAASL,GAAU,OAA4B,IAArBA,EAASV,aAAqBzD,OAAOmE,EAAS/M,KAAKwB,OAAOyB,EAAgC,EAAvCzB,CAA0C,GAAGwN,EAAkBR,EAAMO,KAAMhC,EAASkC,MAAK,SAAS5F,EAAE6F,GAAG,OAAO1N,OAAO2N,KAAKD,GAAG,GAAG1N,OAAO2N,KAAK9F,GAAG,MAAMrB,EAAe+E,EAAS1F,MAAMuH,EAAMA,EAAM,GAAGjH,KAAI,SAAS0F,GAAS,OAAmB7L,OAAOP,EAAiB,IAAxBO,CAA2B4M,EAAgB,CAAC1H,KAAKlF,OAAO4N,OAAO/B,GAAS,QAAS,GAAGqB,EAAgB9F,OAAO,EAAE,CAAyV,IAAxV,IAAIyG,EAAkBX,EAAgBtB,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAAwBiD,EAAW,GAAOC,EAAM,SAAeC,GAAI,IAAIC,EAAaJ,EAAkBjC,QAAO,SAASC,GAAS,OAAOA,EAAQ3E,aAAa4C,EAAMkE,GAAIpI,MAAMkI,EAAWtP,KAAKwB,OAAOyB,EAAgC,EAAvCzB,CAA0C,GAAGiO,EAAa7G,OAAO0C,EAAMkE,MAAgBA,EAAG,EAAEA,EAAGlE,EAAM1C,OAAO4G,IAAMD,EAAMC,GAAuF7D,EAA5E2D,EAAWL,MAAK,SAAS5F,EAAE6F,GAAG,OAAO1N,OAAO2N,KAAKD,GAAG,GAAG1N,OAAO2N,KAAK9F,GAAG,MAAuBhC,MAAM,EAAE,GAAGM,KAAI,SAAS+H,GAAS,OAAmBlO,OAAOP,EAAkB,KAAzBO,CAA4B+E,EAAsB,EAAE,CAAC9D,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAElC,OAAO,CAAC5B,SAAsBjB,OAAOP,EAAkB,KAAzBO,CAA4B0E,EAA+B,EAAE,CAACE,GAAG,kBAAkBpE,OAAOR,OAAO4N,OAAOM,GAAS,GAAGtI,IAAI3E,SAAS,CAAC,IAAiBjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACiB,UAAU,UAAUlE,SAASjB,OAAO4N,OAAOM,GAAS,GAAGjL,WAAW,SAAsBjD,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEjC,QAAQ,CAACoB,MAAM,CAACiB,UAAU,UAAUlE,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACd,MAAM,CAACyI,OAAO,QAAQtH,IAAIrF,OAAO4N,OAAOM,GAAS,GAAG9K,YAAYpD,OAAO4N,OAAOM,GAAS,GAAG9K,YAAY,4FAA4FgC,KAAK,QAAQ8G,UAAS,MAAsBlM,OAAOP,EAAkB,KAAzBO,CAA4B+E,EAAsB,EAAEjC,QAAQ,CAACqL,OAAM,EAAKlN,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B8M,EAAsB,EAAE,CAACrK,KAAK,SAASzC,OAAO2N,KAAKO,GAAS,GAAG,qBAA+yC,OAAtxCpE,EAAM1C,OAAO,IAA6MkG,EAA/LxD,EAAM2D,MAAK,SAAS5F,EAAE6F,GAAG,OAAOA,EAAEnC,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAAoBzD,OAAOS,EAAE0D,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAAoBzD,UAAsCvB,MAAM,EAAE,GAAGM,KAAI,SAASiI,GAAQ,OAAmBpO,OAAOP,EAAkB,KAAzBO,CAA4B+E,EAAsB,EAAE,CAAC9D,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAElC,OAAO,CAAC5B,SAAsBjB,OAAOP,EAAkB,KAAzBO,CAA4B0E,EAA+B,EAAE,CAACE,GAAG,kBAAkBpE,OAAO4N,EAAOxI,IAAI3E,SAAS,CAAC,IAAiBjB,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACkE,MAAM,CAACiB,UAAU,UAAUlE,SAAS,CAACmN,EAAOnL,SAAS,YAAyBjD,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEjC,QAAQ,CAACoB,MAAM,CAACiB,UAAU,UAAUlE,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACK,IAAI+I,EAAOhL,YAAYgL,EAAOhL,YAAY,4FAA4FgC,KAAK,QAAQ8G,UAAS,MAAsBlM,OAAOP,EAAkB,KAAzBO,CAA4B+E,EAAsB,EAAEjC,QAAQ,CAACqL,OAAM,EAAKlN,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B8M,EAAsB,EAAE,CAACrK,KAAK,SAAS2L,EAAO7C,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAAoBzD,OAAO,wBAA2CpH,OAAOP,EAAkB,KAAzBO,CAA4BP,EAAsB,SAAE,CAACwB,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,YAAYP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,MAAMP,SAAS,eAA4BjB,OAAOP,EAAkB,KAAzBO,CAA4B,IAAI,CAACkE,MAAM,CAACmK,SAAS,QAAQpN,SAAS,CAAC,6GAA0HjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAI,qGAAkHA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAI,+QAA4RA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,MAAMP,SAAS,gBAA6BjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,cAAcP,SAASuF,EAAeY,OAAO,EAAepH,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASuF,IAAiB,OAAoBxG,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,mBAAmBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAOuI,EAASD,EAAM,IAAKnM,SAAS,SAASmM,EAAM,EAAepN,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAOuI,EAASD,EAAM,IAAKnM,SAAS,SAAS,QAAqBjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACkE,MAAM,CAACoK,QAAQ,OAAOlI,UAAU,QAAQ5E,UAAU,cAAcP,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,mBAAmBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAAS,iBAA8BjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASqM,EAAiBlG,OAAO,EAAEkG,EAAiB,UAAuBtN,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,oBAAoBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAAS,kBAA+BjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASkJ,EAAe/C,OAAO,EAAE+C,EAAe,gBAE5qM,IAOkrCoE,EAPlqC,SAAe5O,GAAM,IAAI6O,EAAW7O,EAAK6O,WAAkCC,GAAd9O,EAAK+O,SAAqB/O,EAAK8O,aAA2CE,GAAlBhP,EAAKiP,aAAgCjP,EAAKgP,oBAI3K5O,GAJyMJ,EAAKgJ,WAIpM3I,OAAOf,EAAgB,SAAvBe,CAA0B,IAAGC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAG8O,EAAU5O,EAAW,GAAG6O,EAAa7O,EAAW,GAAOkC,EAAWnC,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGqC,EAAWrC,OAAOV,EAA+B,EAAtCU,CAAyCmC,EAAW,GAAG4M,EAAW1M,EAAW,GAAG2M,EAAc3M,EAAW,GAAOwG,EAAW7I,OAAOf,EAAgB,SAAvBe,CAA0B,GAAG8I,EAAW9I,OAAOV,EAA+B,EAAtCU,CAAyC6I,EAAW,GAAGoG,EAAanG,EAAW,GAAGoG,EAAgBpG,EAAW,GAAOC,EAAW/I,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGgJ,EAAWhJ,OAAOV,EAA+B,EAAtCU,CAAyC+I,EAAW,GAAGoG,EAAanG,EAAW,GAAGoG,EAAgBpG,EAAW,GAAOqG,EAASrP,OAAOf,EAAc,OAArBe,GAG1b,OAA9HA,OAAOf,EAAiB,UAAxBe,EAA2B,WAAW,IAAIsP,EAAQD,EAASC,QAAqB,OAHihB,WACtsB,IAAIC,EAAc,IAAIC,KAAK/C,SAAS+B,EAAWiB,cAAc,KAAOJ,EAASK,aAAY,WAAW,IAAIC,GAAI,IAAIH,MAAOI,UAAcC,EAAcN,EAAcI,EAAQG,EAAKC,KAAKC,MAAMH,EAAc,OAAqBI,EAAMF,KAAKC,MAAMH,EAAc,MAAgB,MAAkBK,EAAQH,KAAKC,MAAMH,EAAc,KAAa,KAAeM,EAAQJ,KAAKC,MAAMH,EAAc,IAAU,KAASA,EAAc,GAC5ZpB,GAAY,GAAO2B,cAAcf,EAASC,UAAsB,EAAMX,GAAmB,KACzFG,EAAagB,GAAMd,EAAciB,GAAOf,EAAgBgB,GAASd,EAAgBe,MAAY,KAA2EE,GAAoB,WAAWD,cAAcd,OAAiCtP,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACsQ,MAAM,YAAYrP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAAC4F,GAAG,WAAW3E,SAAS,oCAAiDjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAAC4F,GAAG,YAAY3E,SAAsBjB,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,OAAO,CAAC4F,GAAG,UAAU3E,SAAS4N,IAAY,UAAuB7O,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,OAAO,CAAC4F,GAAG,UAAU3E,SAAS8N,IAAa,WAAwB/O,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,OAAO,CAAC4F,GAAG,UAAU3E,SAASgO,IAAe,aAA0BjP,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,OAAO,CAAC4F,GAAG,UAAU3E,SAAS,CAACkO,EAAa,OAAO,sBAE1nC,SAASoB,EAAY5Q,GAAM,IAAI6Q,EAAY7Q,EAAK6Q,YAAYzO,EAAKpC,EAAKoC,KAAK2G,EAAW/I,EAAK+I,WAAemF,EAAkB,GAAO4C,EAAgB,GAAO1Q,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAG2Q,EAAezQ,EAAW,GAAG0Q,EAAkB1Q,EAAW,GAAG,GAAGuQ,EAAYpJ,OAAO,IAAGyG,EAAkB2C,EAAY5E,QAAO,SAASC,GAAS,OAAOA,EAAQ3E,aAAanF,EAAK6D,OAA2BwB,OAAO,EAAE,CAAC,IAAIwJ,EAAO,GAAGA,EAAOpS,KAAKqP,EAAkB,IAAgK,IAA5J,IAAIE,EAAM,SAAeR,GAAMqD,EAAO7F,MAAK,SAASkB,GAAM,OAAOA,EAAK5D,UAAUwF,EAAkBN,GAAGlF,YAAkBuI,EAAOpS,KAAKqP,EAAkBN,KAAeA,EAAE,EAAEA,EAAEM,EAAkBzG,OAAOmG,IAAKQ,EAAMR,GAAIkD,EAAgBG,EAAOzK,KAAI,SAAS0F,GAC3vB,OAAmB7L,OAAOP,EAAiB,IAAxBO,CAA2B4M,EAAgB,CAAC1H,KAAKwD,EAAWqC,MAAK,SAAS8F,GAAW,OAAOA,EAAUjL,KAAKiG,EAAQxD,gBAAgByI,QAAQC,IAAIN,GAAmB,OAAmBzQ,OAAOP,EAAkB,KAAzBO,CAA4BP,EAAsB,SAAE,CAACwB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,wBAAwBP,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASwP,EAAgB5K,MAAM6K,EAAeA,EAAe,OAAoB1Q,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAO6L,EAAkBD,EAAe,IAAKzP,SAAS,SAASyP,EAAe,EAAe1Q,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAO6L,EAAkBD,EAAe,IAAKzP,SAAS,SAAS,QAE/3B,SAAS+P,EAASrR,GACiO,IAD3N,IAAIsR,EAAetR,EAAKsR,eAAelP,EAAKpC,EAAKoC,KAAK2G,EAAW/I,EAAK+I,WAAe3I,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGmR,EAAcjR,EAAW,GAAGkR,EAAiBlR,EAAW,GAAOuG,EAAe,GAC/R4K,EAAoBrP,EAAKwJ,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAAwBkD,EAAM,SAAeR,GAAG/G,EAAehI,KAAKkK,EAAWqC,MAAK,SAASsG,GAAY,OAAOA,EAAWzL,KAAKwL,EAAoB7D,GAAGlF,aAAsBkF,EAAE,EAAEA,EAAE6D,EAAoBhK,OAAOmG,IAAKQ,EAAMR,GACzC,OADgD/G,EAAeY,OAAO,IAAG6J,EAAezK,EAAeL,KAAI,SAAS0F,GAClX,OAAmB7L,OAAOP,EAAiB,IAAxBO,CAA2B4M,EAAgB,CAAC1H,KAAK2G,QAA6LrF,EAAeY,OAAO,EAAsBpH,OAAOP,EAAkB,KAAzBO,CAA4BP,EAAsB,SAAE,CAACwB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,wBAAwBP,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASgQ,EAAepL,MAAMqL,EAAcA,EAAc,OAAoBlR,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAA1mB,WAA8BoM,EAAcD,EAAe7J,SAAW6J,EAAe7J,OAAO8J,EAAc,EAAGC,EAAiBD,EAAc,GAASC,EAAiB,KAA4dlQ,SAAS,SAASiQ,EAAc,EAAelR,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAOqM,EAAiBD,EAAc,IAAKjQ,SAAS,SAAS,QAAqB,KAEn8B,SAASqQ,EAAa3R,GAAM,IAAI+I,EAAW/I,EAAK+I,WAAW6I,EAAwB5R,EAAK4R,wBAAwBN,EAAetR,EAAKsR,eAAmBlR,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGqN,EAAMnN,EAAW,GAAGoN,EAASpN,EAAW,GAAOuR,EAAe,KACvG,OAD+G9I,EAAWtB,OAAO,IAAGoK,EAAeD,EAAwBpL,KAAI,SAAS0F,GAC9Y,OAAmB7L,OAAOP,EAAiB,IAAxBO,CAA2B4M,EAAgB,CAAC1H,KAAK2G,QAAqK7L,OAAOP,EAAkB,KAAzBO,CAA4BP,EAAsB,SAAE,CAACwB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,wBAAwBP,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASuQ,EAAe3L,MAAMuH,EAAMA,EAAM,OAAoBpN,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAhgBsI,EAAM6D,EAAe7J,SAAW6J,EAAe7J,OAAOgG,EAAM,EAAGC,EAASD,EAAM,GAASC,EAAS,KAAqdpM,SAAS,SAASmM,EAAM,EAAepN,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAOuI,EAASD,EAAM,IAAKnM,SAAS,SAAS,QAEv2B,SAASwQ,EAAS9R,GAAM,IAAIoC,EAAKpC,EAAKoC,KAAK2G,EAAW/I,EAAK+I,WAAWgG,EAAS/O,EAAK+O,SAASD,EAAY9O,EAAK8O,YAAY9F,EAAWhJ,EAAKgJ,WAAW+I,EAAc/R,EAAK+R,cAAkBH,EAAwB,GAAO/C,EAAW,GAAO1D,EAAU,KAAS6G,EAAY,KAA8B/C,GAAa,EAAU7O,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGyQ,EAAYvQ,EAAW,GAAG2R,EAAe3R,EAAW,GAAOkC,EAAWnC,OAAOf,EAAgB,SAAvBe,EAA0B,GAAMqC,EAAWrC,OAAOV,EAA+B,EAAtCU,CAAyCmC,EAAW,GAAG0P,EAAgBxP,EAAW,GAAGsM,EAAmBtM,EAAW,GAAOwG,EAAW7I,OAAOf,EAAgB,SAAvBe,EAA0B,GAAyE8R,EAAvD9R,OAAOV,EAA+B,EAAtCU,CAAyC6I,EAAW,GAAuB,GAAOE,EAAW/I,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIgJ,EAAWhJ,OAAOV,EAA+B,EAAtCU,CAAyC+I,EAAW,GAAGzG,EAAU0G,EAAW,GAAGzG,EAAayG,EAAW,GAA8N,SAASxG,EAAazB,GAAG+P,QAAQC,IAAIhQ,GAAGwB,EAAavC,OAAO0B,EAA+B,EAAtC1B,CAAyCA,OAAO0B,EAA+B,EAAtC1B,CAAyC,GAAGsC,GAAW,GAAGtC,OAAOyB,EAAgC,EAAvCzB,CAA0C,GAAGe,EAAEO,OAAOmB,KAAK1B,EAAEO,OAAOC,SAWr1C,OAX85BvB,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWO,MAAM,GAAGC,OAAO,4CAA4C,cAAcC,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAM,OAAOgR,EAAehR,QAAW,IAAuxBmB,GAAM,WAAeA,EAAKwJ,SAASnE,OAAO,IACl9DqH,GAAY,GAAOiD,GAAc,IAE/B,IAFsC,IAAIK,EAAkBhQ,EAAKwJ,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAChHkD,EAAM,SAAeR,GAAGgE,EAAwB/S,KAAKkK,EAAWqC,MAAK,SAASsG,GAAY,OAAOA,EAAWzL,KAAKmM,EAAkBxE,GAAGlF,aAChIkF,EAAE,EAAEA,EAAEwE,EAAkB3K,OAAOmG,IAAKQ,EAAMR,GAAwD,GAAjDwE,EAAkB3K,OAAO,GAAGsK,GAAc,GAAUK,EAAkB3K,OAAO,EAAE,CACnH,GADoHoH,EAAWuD,EAAkBtE,MAAK,SAAS5F,EAAE6F,GACxL,OAAOA,EAAE9H,GAAGiC,EAAEjC,MAAM,GAAuC,IAAjC5F,OAAO2N,KAAKa,GAAYpH,OAAW,CAE7D,IAAI4K,EAAa,IAAIxC,KAAK/C,SAAS+B,EAAWiB,cAAc,KAAOG,WAAkB,IAAIJ,MAAOI,UAAiBoC,EACjHpD,GAAa,GAAWA,GAAa,EAAMkC,QAAQC,IAAI,sBAAsBtC,GAAY,KAAS3D,EAAUpC,EAAWqC,MAAK,SAAS7F,GAAM,OAAOA,EAAKU,KAAK4I,EAAWnG,aACzJsJ,EAAY7G,EAAUU,QAAQT,MAAK,SAASoB,GAAQ,OAAOA,EAAOpK,KAAK6D,KAAK7D,EAAK6D,MAC/E8L,IAAbC,IAEHD,GAAc,IAXg6D,GAW/4D3P,EAAyB/B,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,WAAWP,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,oBAAoBP,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,4BAA4B0C,MAAM,CAACC,MAAM,QAAQlD,SAAS,CAAC2N,GAAciD,EAA6B7R,OAAOP,EAAiB,IAAxBO,CAA2BuO,EAAe,CAACC,WAAWA,EAAWE,SAASA,EAASD,YAAYA,EAAYG,aAAaA,EAAaD,mBAAmBA,EAAmBhG,WAAWA,IAAa,MAAoB,IAAfiG,IAAmC,IAAbjG,EAA+B3I,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAAS,mDAAmD,MAAkB,IAAb0H,GAAiC,OAAb6F,GAAmBzM,EAAKwJ,SAASnE,OAAO,EAAepH,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACkE,MAAM,CAACyI,OAAO,QAAQ1L,SAAS,CAAC,IAAiBjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAAS,8BAA8B,IAAiBjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACkE,MAAM,CAACyI,OAAO,QAAQ1L,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B4M,EAAgB,CAAC1H,KAAK4F,EAAU5G,MAAM,CAACyI,OAAO,YAAY,OAAO,QAAqB3M,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,qBAAqBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAAS,YAAyBjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACK,IAAItD,EAAKqB,YAAYrB,EAAKqB,YAAY,KAAKgC,KAAK,QAAQ8G,UAAS,EAAKhI,MAAM,CAACC,MAAM,UAAU2N,EAAS,KAAkB9R,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACkE,MAAM,CAACC,MAAM,OAAO8N,WAAW,QAAQhR,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACoK,QAAQ,UAAUrN,SAAS,WAAuB,cAAZc,EAAKU,KAAmBV,EAAKU,KAAK,KAAkBzC,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACoK,QAAQ,UAAUrN,SAAS,YAAyB,cAAbc,EAAKuB,MAAoBvB,EAAKuB,MAAM,KAAkBtD,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACoK,QAAQ,UAAUrN,SAAS,eAA+B,cAAhBc,EAAKkB,SAAuBlB,EAAKkB,SAAS,KAAkBjD,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACoK,QAAQ,UAAUrN,SAAS,UAAqB,cAAXc,EAAKsB,IAAkBtB,EAAKsB,IAAI,QAAQyO,EAAsB9R,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACkE,MAAM,CAACC,MAAM,OAAO8N,WAAW,QAAQhR,SAAsBjB,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE,CAACf,SAAS,SAAkBC,GAAG,OAX18B,SAAsBA,GAAGA,EAAEC,iBAAiB,IAAI+B,EAAK,IAAIC,SAAeV,EAAUW,UAAUC,MAAM,4BAA6BH,EAAKI,OAAO,cAAcb,EAAUc,aAAaL,EAAKI,OAAO,WAAWb,EAAUW,UAAUF,EAAKI,OAAO,OAAOb,EAAUG,MAAMM,EAAKI,OAAO,MAAMb,EAAUe,KAAKN,EAAKI,OAAO,QAAQb,EAAUgB,OAWopBK,CAAa5C,IAAKE,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,OAAOsB,KAAK,OAAOpB,SAAS,SAAkBN,GAAG,OAAOyB,EAAazB,SAAuBf,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,aAA0BjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,WAAWsB,KAAK,WAAWpB,SAAS,SAAkBN,GAAG,OAAOyB,EAAazB,SAAuBf,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,UAAuBjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,QAAQsB,KAAK,QAAQpB,SAAS,SAAkBN,GAAG,OAAOyB,EAAazB,SAAuBf,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,aAA0BjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,WAAWC,KAAK,gBAA6BpB,OAAOP,EAAkB,KAAzBO,CAA4B6B,EAAsB,EAAE+B,MAAM,CAAC3C,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACiB,SAAS,QAAqBjB,OAAOP,EAAiB,IAAxBO,CAA2B,QAAQ,CAACmB,YAAY,MAAMsB,KAAK,MAAMpB,SAAS,SAAkBN,GAAG,OAAOyB,EAAazB,SAAuBf,OAAOP,EAAiB,IAAxBO,CAA2B6B,EAAsB,EAAErC,MAAM,CAAC4B,KAAK,OAAOqB,KAAK,cAAcoB,OAAM,EAAKC,MAAM,eAAezC,SAAS,SAAkBN,GAAG,OAX5vF,SAAqBA,GAAGA,EAAEgD,UAAUxB,EAAavC,OAAO0B,EAA+B,EAAtC1B,CAAyCA,OAAO0B,EAA+B,EAAtC1B,CAAyC,GAAGsC,GAAW,GAAGtC,OAAOyB,EAAgC,EAAvCzB,CAA0C,GAAGe,EAAEO,OAAOmB,KAAK1B,EAAEO,OAAO0C,MAAM,MAWqiFC,CAAYlD,MAAoBf,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACR,KAAK,SAAS8C,MAAM,CAACC,MAAM,QAAQC,aAAa,QAAQnD,SAAS,iBAAiB,WAAwBjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,MAAMP,SAAS,aAA0BjB,OAAOP,EAAiB,IAAxBO,CAA2BgR,EAAS,CAACC,eAXrpI,EAWmrIlP,KAAKA,EAAK2G,WAAWA,IAA0B1I,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,MAAMP,SAAS,aAAasQ,EAAwBnK,OAAO,EAAepH,OAAOP,EAAiB,IAAxBO,CAA2BsR,EAAa,CAACC,wBAAwBA,EAAwB7I,WAAWA,EAAWuI,eAXt8I,IAWs+I,KAAkBjR,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,MAAMP,SAAS,cAA2BjB,OAAOP,EAAiB,IAAxBO,CAA2BuQ,EAAY,CAACC,YAAYA,EAAY9H,WAAWA,EAAW3G,KAAKA,OAAmC/B,OAAOP,EAAkB,KAAzBO,CAA4BP,EAAsB,SAAE,CAACwB,SAAS,CAAC,0BAAuCjB,OAAOP,EAAiB,IAAxBO,CAA2BT,EAA+B,EAAE,CAACqF,GAAG,kBAEnpK,SAASsN,EAAcvS,GAAM,IAAI+I,EAAW/I,EAAK+I,WAAkC+F,GAAd9O,EAAK+O,SAAqB/O,EAAK8O,aAAuCiD,GAAhB/R,EAAKgJ,WAAyBhJ,EAAK+R,eAAkBlL,EAAe,GAAO+K,EAAwB,GAAO/C,EAAW,GAAO1D,EAAU,KAAS6G,EAAY,KAASH,EAAe,KAASP,EAAe,KAASpD,EAAkB,GAAO4C,EAAgB,GAAO1Q,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGyQ,EAAYvQ,EAAW,GAAG2R,EAAe3R,EAAW,GAAOkC,EAAWnC,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGqC,EAAWrC,OAAOV,EAA+B,EAAtCU,CAAyCmC,EAAW,GAAGiL,EAAM/K,EAAW,GAAGgL,EAAShL,EAAW,GAAOwG,EAAW7I,OAAOf,EAAgB,SAAvBe,CAA0B,GAAG8I,EAAW9I,OAAOV,EAA+B,EAAtCU,CAAyC6I,EAAW,GAAGqI,EAAcpI,EAAW,GAAGqI,EAAiBrI,EAAW,GAAOC,EAAW/I,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGgJ,EAAWhJ,OAAOV,EAA+B,EAAtCU,CAAyC+I,EAAW,GAAG2H,EAAe1H,EAAW,GAAG2H,EAAkB3H,EAAW,GAAOC,EAAWjJ,OAAOf,EAAgB,SAAvBe,CAA0B,MAAMkJ,EAAYlJ,OAAOV,EAA+B,EAAtCU,CAAyCiJ,EAAW,GAAGlH,EAAKmH,EAAY,GAAGlH,EAAQkH,EAAY,GAAOC,EAAOnJ,OAAOT,EAAgC,EAAvCS,GAe5+B,OAfwhCA,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWO,MAAM,GAAGC,OAAO,4CAA4C,WAAWA,OAAO2I,EAAOvD,KAAKnF,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAM,OAAOoB,EAAQpB,QAAW,CAACuI,EAAOvD,KAAK5F,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWO,MAAM,GAAGC,OAAO,4CAA4C,cAAcC,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAM,OAAOgR,EAAehR,QAAW,IAAOmB,GAAM,WAAeA,EAAKwJ,SAASnE,OAAO,IAAG0J,QAAQC,IAAI,sBAAsBtC,GAAY,GAAOiD,GAAc,IAEzxD,IAFgyD,IAAIN,EAAoBrP,EAAKwJ,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAC52DkD,EAAM,SAAeR,GAAG/G,EAAehI,KAAKkK,EAAWqC,MAAK,SAASsG,GAAY,OAAOA,EAAWzL,KAAKwL,EAAoB7D,GAAGlF,aACzHkF,EAAE,EAAEA,EAAE6D,EAAoBhK,OAAOmG,IAAKQ,EAAMR,GAC4B,GADrB/G,EAAeY,OAAO,IAAG6J,EAAezK,EAAeL,KAAI,SAAS0F,GACjI,OAAmB7L,OAAOP,EAAiB,IAAxBO,CAA2B4M,EAAgB,CAAC1H,KAAK2G,QAAiB2E,EAAYpJ,OAAO,IAAGyG,EAAkB2C,EAAY5E,QAAO,SAASC,GAAS,OAAOA,EAAQ3E,aAAanF,EAAK6D,OAA2BwB,OAAO,EAAE,CAAC,IAAIwJ,EAAO,GAAGA,EAAOpS,KAAKqP,EAAkB,IAAqK,IAAjK,IAAIsE,EAAO,SAAgBnE,GAAO4C,EAAO7F,MAAK,SAASkB,GAAM,OAAOA,EAAK5D,UAAUwF,EAAkBG,GAAI3F,YAAkBuI,EAAOpS,KAAKqP,EAAkBG,KAAgBA,EAAG,EAAEA,EAAGH,EAAkBzG,OAAO4G,IAAMmE,EAAOnE,GAAKyC,EAAgBG,EAAOzK,KAAI,SAAS0F,GACxhB,OAAmB7L,OAAOP,EAAiB,IAAxBO,CAA2B4M,EAAgB,CAAC1H,KAAKwD,EAAWqC,MAAK,SAAS8F,GAAW,OAAOA,EAAUjL,KAAKiG,EAAQxD,gBAEpI,IAFsJ,IAAI0J,EAAkBhQ,EAAKwJ,SAASK,QAAO,SAASC,GAAS,OAA2B,IAApBA,EAAQhB,aAChOuH,EAAO,SAAgBC,GAAKd,EAAwB/S,KAAKkK,EAAWqC,MAAK,SAASsG,GAAY,OAAOA,EAAWzL,KAAKmM,EAAkBM,GAAKhK,aACtIgK,EAAI,EAAEA,EAAIN,EAAkB3K,OAAOiL,IAAOD,EAAOC,GACuB,GADdN,EAAkB3K,OAAO,GAAGsK,GAAc,GAAUhJ,EAAWtB,OAAO,IAAGoK,EAAeD,EAAwBpL,KAAI,SAAS0F,GACjM,OAAmB7L,OAAOP,EAAiB,IAAxBO,CAA2B4M,EAAgB,CAAC1H,KAAK2G,QAAiBkG,EAAkB3K,OAAO,EAAE,CACzF,GAD0FoH,EAAWuD,EAAkBtE,MAAK,SAAS5F,EAAE6F,GAC9J,OAAOA,EAAE9H,GAAGiC,EAAEjC,MAAM,GAAuC,IAAjC5F,OAAO2N,KAAKa,GAAYpH,OAAW,CAE7D,IAAI4K,EAAa,IAAIxC,KAAK/C,SAAS+B,EAAWiB,cAAc,KAAOG,WAAkB,IAAIJ,MAAOI,UAAiBoC,IAC3GlB,QAAQC,IAAI,sBAAsBtC,GAAY,KAAS3D,EAAUpC,EAAWqC,MAAK,SAAS7F,GAAM,OAAOA,EAAKU,KAAK4I,EAAWnG,aACpHsJ,EAAY7G,EAAUU,QAAQT,MAAK,SAASoB,GAAQ,OAAOA,EAAOpK,KAAK6D,KAAK7D,EAAK6D,MAC/E8L,IAAbC,IAEHD,GAAc,IAfmqD,GAet+C3P,GAE3M+O,QAAQC,IAAI,cAAchP,EAAKK,UAA6BpC,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,WAAWP,SAAS,CAAcjB,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,oBAAoBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,4BAA4B0C,MAAM,CAACC,MAAM,QAAQlD,SAASc,EAAKK,SAAsBpC,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAC,cAAcc,EAAKkB,SAAS,uCAAoDjD,OAAOP,EAAkB,KAAzBO,CAA4B,KAAK,CAACiB,SAAS,CAAC,cAAcc,EAAKkB,SAAS,sFAAmGjD,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,qBAAqBP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACiB,SAAS,YAAyBjB,OAAOP,EAAiB,IAAxBO,CAA2BgF,EAAuB,EAAE,CAACK,IAAItD,EAAKqB,YAAYrB,EAAKqB,YAAY,KAAKgC,KAAK,QAAQ8G,UAAS,EAAKhI,MAAM,CAACC,MAAM,UAAuBnE,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACkE,MAAM,CAACC,MAAM,OAAO8N,WAAW,QAAQhR,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACoK,QAAQ,UAAUrN,SAAS,WAAWc,EAAKU,KAAKV,EAAKU,KAAK,KAAkBzC,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACoK,QAAQ,UAAUrN,SAAS,YAAYc,EAAKuB,MAAMvB,EAAKuB,MAAM,KAAkBtD,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACoK,QAAQ,UAAUrN,SAAS,eAAec,EAAKkB,SAASlB,EAAKkB,SAAS,KAAkBjD,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,IAAiBA,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACkE,MAAM,CAACoK,QAAQ,UAAUrN,SAAS,UAAUc,EAAKsB,IAAItB,EAAKsB,IAAI,cAA2BrD,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,MAAMP,SAAS,aAAauF,EAAeY,OAAO,EAAepH,OAAOP,EAAkB,KAAzBO,CAA4BP,EAAsB,SAAE,CAACwB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,wBAAwBP,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASgQ,EAAepL,MAAMqL,EAAcA,EAAc,OAAoBlR,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAFjxE,WAA8BoM,EAAcD,EAAe7J,SAAW6J,EAAe7J,OAAO8J,EAAc,EAAGC,EAAiBD,EAAc,GAASC,EAAiB,KAEmoElQ,SAAS,SAASiQ,EAAc,EAAelR,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAOuI,EAAS6D,EAAc,IAAKjQ,SAAS,SAAS,QAAQ,KAAkBjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,MAAMP,SAAS,aAAasQ,EAAwBnK,OAAO,EAAepH,OAAOP,EAAkB,KAAzBO,CAA4BP,EAAsB,SAAE,CAACwB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,wBAAwBP,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASuQ,EAAe3L,MAAMuH,EAAMA,EAAM,OAAoBpN,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAOuI,EAASD,EAAM,IAAKnM,SAAS,SAASmM,EAAM,EAAepN,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAOuI,EAASD,EAAM,IAAKnM,SAAS,SAAS,QAAQ,KAAkBjB,OAAOP,EAAiB,IAAxBO,CAA2B,KAAK,CAACwB,UAAU,MAAMP,SAAS,cAAcwP,EAAgBrJ,OAAO,EAAepH,OAAOP,EAAkB,KAAzBO,CAA4BP,EAAsB,SAAE,CAACwB,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B,MAAM,CAACwB,UAAU,wBAAwBP,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B+E,EAAsB,EAAEsB,MAAM,CAACC,YAAY,EAAErF,SAASwP,EAAgB5K,MAAM6K,EAAeA,EAAe,OAAoB1Q,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAO6L,EAAkBD,EAAe,IAAKzP,SAAS,SAASyP,EAAe,EAAe1Q,OAAOP,EAAiB,IAAxBO,CAA2B4B,EAAwB,EAAE,CAACJ,UAAU,mBAAmBsD,QAAQ,WAAmB,OAAO6L,EAAkBD,EAAe,IAAKzP,SAAS,SAAS,QAAQ,SAAiCjB,OAAOP,EAAiB,IAAxBO,CAA2BP,EAAsB,SAAE,CAACwB,SAAS,YAmCjjB,IAAIqR,EAArpH,WAAmB,IAAIvS,EAAUC,OAAOf,EAAgB,SAAvBe,CAA0B,IAAIC,EAAWD,OAAOV,EAA+B,EAAtCU,CAAyCD,EAAU,GAAGkG,EAAgBhG,EAAW,GAAGL,EAAmBK,EAAW,GAAOkC,EAAWnC,OAAOf,EAAgB,SAAvBe,CAA0B,MAAMqC,EAAWrC,OAAOV,EAA+B,EAAtCU,CAAyCmC,EAAW,GAAGJ,EAAKM,EAAW,GAAGL,EAAQK,EAAW,GAAOwG,EAAW7I,OAAOf,EAAgB,SAAvBe,CAA0B,IAAI8I,EAAW9I,OAAOV,EAA+B,EAAtCU,CAAyC6I,EAAW,GAAGH,EAAWI,EAAW,GAAGtB,EAAcsB,EAAW,GAAOC,EAAW/I,OAAOf,EAAgB,SAAvBe,CAA0B,GAAGgJ,EAAWhJ,OAAOV,EAA+B,EAAtCU,CAAyC+I,EAAW,GAAGlJ,EAAWmJ,EAAW,GAAGlJ,EAAckJ,EAAW,GAAOC,EAAWjJ,OAAOf,EAAgB,SAAvBe,EAA0B,GAAMkJ,EAAYlJ,OAAOV,EAA+B,EAAtCU,CAAyCiJ,EAAW,GAAGyF,EAASxF,EAAY,GAAGuF,EAAYvF,EAAY,GAAOE,EAAYpJ,OAAOf,EAAgB,SAAvBe,EAA0B,GAAOqJ,EAAYrJ,OAAOV,EAA+B,EAAtCU,CAAyCoJ,EAAY,GAAGT,EAAWU,EAAY,GAAGqI,EAAcrI,EAAY,GAA+0B,OAA50BrJ,OAAOf,EAAiB,UAAxBe,EAA2B,WAAWyO,GAAY,GAAOiD,GAAc,GAAMnR,MAAM,GAAGC,OAAO,4CAA4C,WAAWC,MAAK,SAASC,GAAU,OAAOA,EAASC,UAAUF,MAAK,SAASG,GAAM,OAAO4G,EAAc5G,QAAW,CAACmB,IAAO/B,OAAOf,EAAiB,UAAxBe,EAA2B,WAAW,GAAG+B,EAAK,CAAC,IAAc,IAAX2M,IAA+B,IAAb/F,EAAkB,CAAC,IAAIpF,EAAQ,CAACC,OAAO,QAAQc,QAAQ,CAACC,eAAe,oBAAoBd,KAAKe,KAAKC,UAAU,CAACrC,UAAS,KAAQ7B,MAAM,GAAGC,OAAO,4CAA4C,WAAWA,OAAOuB,EAAK6D,IAAIrC,GAAU,IAAc,IAAXmL,IAA8B,IAAb/F,EAAmB,CAAC,IAAI4J,EAAS,CAAC/O,OAAO,QAAQc,QAAQ,CAACC,eAAe,oBAAoBd,KAAKe,KAAKC,UAAU,CAACrC,UAAS,KAAS7B,MAAM,GAAGC,OAAO,4CAA4C,WAAWA,OAAOuB,EAAK6D,IAAI2M,OAAc,CAAC7D,EAAS/F,EAAWD,EAAW3G,IAA0B/B,OAAOP,EAAkB,KAAzBO,CAA4B,MAAM,CAACwB,UAAU,MAAMP,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2B2E,EAAQ,CAAC3C,QAAQA,EAAQD,KAAKA,EAAKnC,mBAAmBA,EAAmBC,WAAWA,EAAWC,cAAcA,IAA6BE,OAAOP,EAAkB,KAAzBO,CAA4BT,EAA6B,EAAE,CAAC0B,SAAS,CAAcjB,OAAOP,EAAiB,IAAxBO,CAA2BT,EAA+B,EAAE,CAACiT,OAAM,EAAKC,KAAK,IAAI7N,GAAG,UAAuB5E,OAAOP,EAAiB,IAAxBO,CAA2BT,EAA4B,EAAE,CAACmT,KAAK,QAAQzR,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B+M,EAAK,MAAmB/M,OAAOP,EAAiB,IAAxBO,CAA2BT,EAA4B,EAAE,CAACmT,KAAK,aAAazR,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2BgG,EAAU,CAACC,gBAAgBA,EAAgBpG,WAAWA,EAAWC,cAAcA,MAA+BE,OAAOP,EAAiB,IAAxBO,CAA2BT,EAA4B,EAAE,CAACmT,KAAK,gBAAgBzR,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2ByI,EAAS,CAACC,WAAWA,EAAWlB,cAAcA,EAAczF,KAAKA,EAAKC,QAAQA,EAAQ2G,WAAWA,EAAW+F,SAASA,EAAS9O,mBAAmBA,EAAmBC,WAAWA,EAAWC,cAAcA,MAA+BE,OAAOP,EAAiB,IAAxBO,CAA2BT,EAA4B,EAAE,CAACmT,KAAK,qBAAqBzR,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2BkS,EAAc,CAACnQ,KAAKA,EAAK2G,WAAWA,EAAWgG,SAASA,EAASD,YAAYA,EAAY9F,WAAWA,EAAW+I,cAAcA,MAA+B1R,OAAOP,EAAiB,IAAxBO,CAA2BT,EAA4B,EAAE,CAACiT,OAAM,EAAKE,KAAK,YAAYzR,SAASc,EAAkB/B,OAAOP,EAAiB,IAAxBO,CAA2ByR,EAAS,CAAC1P,KAAKA,EAAK2G,WAAWA,EAAWgG,SAASA,EAASD,YAAYA,EAAY9F,WAAWA,EAAW+I,cAAcA,IAA6B1R,OAAOP,EAAiB,IAAxBO,CAA2BT,EAA+B,EAAE,CAACqF,GAAG,mBAEjmHvF,EAAkBwI,EAAE8K,OAAoB3S,OAAOP,EAAiB,IAAxBO,CAA2Bd,EAAc2I,EAAE+K,WAAW,CAAC3R,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2B0E,EAAwC,EAAE,CAACzD,SAAsBjB,OAAOP,EAAiB,IAAxBO,CAA2BsS,EAAQ,QAAQ/H,SAASsI,eAAe,WAIlR,CAAC,CAAC,IAAI,EAAE"},"input":"(this[\"webpackJsonpbookfund\"] = this[\"webpackJsonpbookfund\"] || []).push([[0],{\n\n/***/ 150:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 151:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/index.js\nvar react_dom = __webpack_require__(56);\nvar react_dom_default = /*#__PURE__*/__webpack_require__.n(react_dom);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(150);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(12);\n\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(151);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-css/semantic.min.css\nvar semantic_min = __webpack_require__(152);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Input/Input.js\nvar Input = __webpack_require__(176);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/components/pages/MainNav/Search.js\nfunction Search(_ref){var setBooksFromSearch=_ref.setBooksFromSearch,startIndex=_ref.startIndex,setStartIndex=_ref.setStartIndex;var _useState=Object(react[\"useState\"])(\"\"),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),searchInput=_useState2[0],setSearchInput=_useState2[1];var history=Object(react_router[\"g\" /* useHistory */])();Object(react[\"useEffect\"])(function(){var searchTerms=searchInput.replace(/\\s/g,'+');fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(searchTerms,\"&maxResults=8&startIndex=\").concat(startIndex)).then(function(response){return response.json();}).then(function(data){setBooksFromSearch(data.items);});},[startIndex,searchInput,setBooksFromSearch]);function handleSubmit(e){e.preventDefault();setStartIndex(0);var searchTerms=searchInput.replace(/\\s/g,'+');fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(searchTerms,\"&maxResults=8&startIndex=\").concat(startIndex)).then(function(response){return response.json();}).then(function(data){setBooksFromSearch(data.items);history.push(\"/bookindex\");});}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Input[\"a\" /* default */],{icon:\"search\",placeholder:\"Search...\",type:\"text\",onChange:function onChange(e){return setSearchInput(e.target.value);},value:searchInput,className:\"search-input\"})});}\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/defineProperty.js\nvar defineProperty = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js\nvar objectSpread2 = __webpack_require__(23);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/modules/Modal/Modal.js + 6 modules\nvar Modal = __webpack_require__(178);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Button/Button.js + 3 modules\nvar Button = __webpack_require__(165);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/collections/Form/Form.js + 41 modules\nvar Form = __webpack_require__(177);\n\n// CONCATENATED MODULE: ./src/components/pages/MainNav/SignUp.js\nfunction SignUp(_ref){var user=_ref.user,setUser=_ref.setUser;var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=Object(react[\"useState\"])({eligible:true}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),formState=_useState4[0],setFormState=_useState4[1];function handleChange(e){setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},e.target.name,e.target.value)));}function handleImage(e){e.persist();setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},e.target.name,e.target.files[0])));}function handleSubmit(e){e.preventDefault();var form=new FormData();if(!formState.username){alert('Please enter a username.');}form.append(\"profile_pic\",formState.profile_pic);form.append(\"username\",formState.username);form.append(\"name\",formState.name);form.append(\"bio\",formState.bio);form.append(\"email\",formState.email);// console.log(formState)\nvar confObj={method:'POST',body:form};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users\"),confObj).then(function(response){return response.json();}).then(function(data){if(data.error){alert(\"Username must be unique\");setFormState({});}else{alert(\"welcome aboard \".concat(data.username,\"!\"));setUser(data);setFormState({});history.push('/userpage');}});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},open:open,trigger:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{children:\"Sign Up\"}),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Name\",name:\"name\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Password\",type:\"password\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Bio\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Bio\",name:\"bio\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{type:\"file\",name:\"profile_pic\",fluid:true,label:\"Image Upload\",onChange:function onChange(e){return handleImage(e);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",style:{float:'right',marginBottom:'10px'},children:\"Sign Up\"})]})})]});}\n// CONCATENATED MODULE: ./src/components/pages/MainNav/LogIn.js\nfunction LogIn(_ref){var setUser=_ref.setUser,user=_ref.user;var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])(false),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=Object(react[\"useState\"])({}),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),formState=_useState4[0],setFormState=_useState4[1];Object(react[\"useEffect\"])(function(){history.push('/userpage');},[user,history]);function handleChange(e){setFormState(Object(defineProperty[\"a\" /* default */])({},e.target.name,e.target.value));}function handleSubmit(e){e.preventDefault();setOpen(false);var confObj={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formState)};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users/login\"),confObj).then(function(response){return response.json();}).then(function(data){// console.log(data)\nsetUser(data);history.push('/userpage');});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Modal[\"a\" /* default */],{onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},open:open,trigger:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{children:\" Log In \"}),children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Header,{children:\"Log In\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Modal[\"a\" /* default */].Content,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"form \",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Password\",type:\"password\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",style:{float:'right',marginBottom:'10px'},children:\"Login\"})]})})})]});}\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(11);\n\n// CONCATENATED MODULE: ./src/components/pages/MainNav/MainNav.js\nfunction MainNav(_ref){var setBooksFromSearch=_ref.setBooksFromSearch,setUser=_ref.setUser,user=_ref.user,startIndex=_ref.startIndex,setStartIndex=_ref.setStartIndex;var history=Object(react_router[\"g\" /* useHistory */])();function handleSignOut(){history.push('/home');setUser(null);}return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"main-nav\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"logo\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{to:\"/\",style:{color:' #333'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{className:\"logo-text\",children:\"bookFun(d)\"})})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{className:\"search-form\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Search,{setBooksFromSearch:setBooksFromSearch,startIndex:startIndex,setStartIndex:setStartIndex})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"navLinks\",children:[user?null:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SignUp,{user:user,setUser:setUser}),user?null:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LogIn,{style:{color:'inherit'},user:user,setUser:setUser}),user?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Button[\"a\" /* default */],{children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{style:{color:'inherit'},to:\"/userpage\",children:\"  My Page  \"})]}):null,user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:function onClick(){return handleSignOut();},children:\"  Sign Out  \"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"c\" /* NavLink */],{style:{color:'inherit'},to:\"/\",children:\"  Home  \"})})]})]})});}\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/views/Card/Card.js + 5 modules\nvar Card = __webpack_require__(179);\n\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Image/Image.js + 4 modules\nvar Image = __webpack_require__(135);\n\n// CONCATENATED MODULE: ./src/components/pages/BookIndex/BookCard.js\nfunction BookCard(_ref){var book=_ref.book;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{style:{textAlign:'center'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{size:\"tiny\",src:book.volumeInfo.imageLinks?book.volumeInfo.imageLinks.thumbnail:null,wrapped:true,ui:false}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Header,{children:book.volumeInfo.title?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/bookpage/\".concat(book.id),children:[book.volumeInfo.title.slice(0,50),\" \"]}):null}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Description,{children:book.volumeInfo.authors?book.volumeInfo.authors[0].slice(0,50):null})]})]});}\n// CONCATENATED MODULE: ./src/components/pages/BookIndex/BookIndex.js\nfunction BookIndex(_ref){var booksFromSearch=_ref.booksFromSearch,startIndex=_ref.startIndex,setStartIndex=_ref.setStartIndex;var booksMapped=[];if(booksFromSearch){booksMapped=booksFromSearch.map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BookCard,{book:book});});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"book-index\",style:{marginTop:'100px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:8,children:booksMapped}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"buttons-combined\",style:{marginTop:'20px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setStartIndex(startIndex+8);},children:\"Next\"}),startIndex>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setStartIndex(startIndex-8);},children:\"Back\"}):null]})]});}\n// CONCATENATED MODULE: ./src/components/pages/BookPage/SponsorForm.js\nfunction SponsorForm(_ref){var waitingsMapped=_ref.waitingsMapped,book=_ref.book,user=_ref.user,setUser=_ref.setUser,waitlistRequest=_ref.waitlistRequest,setWaitlistRequest=_ref.setWaitlistRequest,setBackEndBook=_ref.setBackEndBook,backEndBook=_ref.backEndBook,toggleSponsorForm=_ref.toggleSponsorForm,setToggleSponsorForm=_ref.setToggleSponsorForm;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),number=_useState2[0],setNumber=_useState2[1];function handleSponsorSubmission(e){e.preventDefault();var confObj={method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify({num_books_funded:e.target.number.value,sponsor_id:user.id})};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings/sponsor/\").concat(book.id),confObj).then(function(response){return response.json();}).then(function(data){setToggleSponsorForm(!toggleSponsorForm);setWaitlistRequest(!waitlistRequest);});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"signup\",onSubmit:function onSubmit(e){return handleSponsorSubmission(e);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Number of copies I'd like to sponsor:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",name:\"number\",value:number,onChange:function onChange(e){return setNumber(e.target.value);}}),number>waitingsMapped.length?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:\"red\"},children:\"Please enter a number smaller than the waitlist total\"}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"submit\",value:\"Sponsor\",className:\"button\"})]});}\n// EXTERNAL MODULE: ./node_modules/react-stars/dist/react-stars.js\nvar react_stars = __webpack_require__(79);\nvar react_stars_default = /*#__PURE__*/__webpack_require__.n(react_stars);\n\n// CONCATENATED MODULE: ./src/components/pages/BookPage/ReviewForm.js\nfunction ReviewForm(_ref){var user=_ref.user,book=_ref.book,setSavedBooks=_ref.setSavedBooks,setWaitlistRequest=_ref.setWaitlistRequest,waitlistRequest=_ref.waitlistRequest,waitListRequestAndStoreInDBRequest=_ref.waitListRequestAndStoreInDBRequest,backEndBook=_ref.backEndBook,setBackEndBook=_ref.setBackEndBook,storeInDB=_ref.storeInDB;var _useState=Object(react[\"useState\"])({text:\"\",rating:0}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),formState=_useState2[0],setFormState=_useState2[1];function handleChange(e){if(user){storeInDB();setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({user_id:user.id,book_id:book.id},formState),{},Object(defineProperty[\"a\" /* default */])({},e.target.name,e.target.value)));}else{debugger;setFormState({});alert(\"Please sign in to leave a review.\");}}function ratingChanged(e){if(user){storeInDB();setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},{rating:e}));}else{setFormState({});alert(\"Please sign in to leave a rating.\");}}function handleSubmit(e){e.preventDefault();if(formState.text.length<100){alert(\"Please leave a review with more than 100 characters.\");}if(formState.text.length>100){var confObj={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(formState)};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/reviews\"),confObj).then(function(data){setWaitlistRequest(!waitlistRequest);setBackEndBook(true);fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\")).then(function(response){return response.json();}).then(function(data){setSavedBooks(data);});});}}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Leave A Review\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_stars_default.a,{className:\"react-stars\",count:5,onChange:ratingChanged,size:20,color2:'#ffd700',value:formState.rating,name:\"rating\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{reply:true,onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].TextArea,{value:formState.text,name:\"text\",rows:3,cols:25,onChange:function onChange(e){return handleChange(e);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",content:\"Add Review\",labelPosition:\"left\",icon:\"edit\",primary:true})]})]});}\n// CONCATENATED MODULE: ./src/components/pages/BookPage/BookPage.js\nfunction BookPage(_ref){var setSavedBooks=_ref.setSavedBooks,savedBooks=_ref.savedBooks,user=_ref.user,setUser=_ref.setUser,reviewLeft=_ref.reviewLeft;var _useState=Object(react[\"useState\"])({}),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),book=_useState2[0],setBook=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),backEndBook=_useState4[0],setBackEndBook=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),waitlistRequest=_useState6[0],setWaitlistRequest=_useState6[1];var _useState7=Object(react[\"useState\"])(false),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),toggleSponsorForm=_useState8[0],setToggleSponsorForm=_useState8[1];var _useState9=Object(react[\"useState\"])([]),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),booksFromSearch=_useState10[0],setBooksFromSearch=_useState10[1];var params=Object(react_router[\"h\" /* useParams */])();var _useState11=Object(react[\"useState\"])(0),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),bookId=_useState12[0],setBookId=_useState12[1];var _useState13=Object(react[\"useState\"])(0),_useState14=Object(slicedToArray[\"a\" /* default */])(_useState13,2),similarIndex=_useState14[0],setSimilarIndex=_useState14[1];var _useState15=Object(react[\"useState\"])([]),_useState16=Object(slicedToArray[\"a\" /* default */])(_useState15,2),users=_useState16[0],setUsers=_useState16[1];var waitingsMapped=null;var waitingsFulfilledMapped=0;var reviewsMapped=null;var booksMapped=[];var averageRating=0;var sponsorsMapped=[];function stripHtml(html){var tmp=document.createElement(\"DIV\");tmp.innerHTML=html;return tmp.textContent||tmp.innerText||\"\";}Object(react[\"useEffect\"])(function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\")).then(function(response){return response.json();}).then(function(data){var foundBook=null;foundBook=data.find(function(book){return book.api_id===params.id;});setBook(foundBook);if(foundBook){setBookId(foundBook.id);setBackEndBook(true);}if(!foundBook){fetch(\"https://www.googleapis.com/books/v1/volumes/\".concat(params.id)).then(function(response){return response.json();}).then(function(data){var title=\"\";var subtitle=\"\";var authors=[\"\"];var publisher=\"\";var publishedDate=\"\";var description=\"\";var image_url=\"\";if(data.volumeInfo.title){title=data.volumeInfo.title;}if(data.volumeInfo.authors){authors=data.volumeInfo.authors;}if(data.volumeInfo.subtitle){subtitle=data.volumeInfo.subtitle;}if(data.volumeInfo.publisher){publisher=data.volumeInfo.publisher;}if(data.volumeInfo.publishedDate){publishedDate=data.volumeInfo.publishedDate;}if(data.volumeInfo.description){description=data.volumeInfo.description;}if(data.volumeInfo.imageLinks){image_url=data.volumeInfo.imageLinks.thumbnail;}setBook({title:title,subtitle:subtitle,authors:authors.join(\", \"),publisher:publisher,publishedDate:publishedDate,description:stripHtml(description),image_url:image_url,api_id:data.id,waitings:[],reviews:[]});});}});fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users\")).then(function(response){return response.json();}).then(function(data){return setUsers(data);});},[waitlistRequest,backEndBook,params.id,bookId]);Object(react[\"useEffect\"])(function(){if(book){if(book.title){var searchTerms=book.title.split(\" \").pop();fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(searchTerms,\"&maxResults=20\")).then(function(response){return response.json();}).then(function(data){setBooksFromSearch(data.items);});}}},[book]);function storeInDB(){if(user){var confObj={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(book)};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\"),confObj).then(function(response){return response.json();}).then(function(data){setBook(data);setBookId(data.id);setBackEndBook(true);setWaitlistRequest(!waitlistRequest);});}else{alert('Please sign in to leave a review.');}}function waitListRequestAndStoreInDBRequest(){if(user){var confObj={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(book)};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\"),confObj).then(function(response){return response.json();}).then(function(data){setBook(data);setBookId(data.id);var bookIdea=data.id;var confObj={method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({user_id:user.id,book_id:bookIdea,fulfilled:false})};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings\"),confObj).then(function(response){return response.json();}).then(function(data){setBackEndBook(true);setWaitlistRequest(!waitlistRequest);if(data.error){alert(\"\".concat(data.error));}// else{\n//     fetch(`${process.env.REACT_APP_API_BASE_URL}/books`)\n//     .then(response=>response.json())\n//     .then(data=>setSavedBooks(data))\n// }\n});});}else{alert('Please sign in to join a waitlist.');}}if(booksFromSearch.length>0){booksMapped=booksFromSearch.slice(similarIndex,similarIndex+3).map(function(book){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BookCard,{book:book});});}if(backEndBook===true&&book){if(users.length>0){var sponsorsFiltered=book.waitings.filter(function(waiting){return waiting.fulfilled===true;});var arr=[];sponsorsMapped=sponsorsFiltered.map(function(waiting){var x=sponsorsFiltered.filter(function(wait){return wait.sponsor_id===waiting.sponsor_id;}).length;if(arr.find(function(elem){return elem===waiting.sponsor_id;})){return null;}else{arr.push(waiting.sponsor_id);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:users.find(function(user){return user.id===waiting.sponsor_id;}).profile_pic?users.find(function(user){return user.id===waiting.sponsor_id;}).profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/otheruserpage/\".concat(waiting.sponsor_id),children:users.find(function(user){return user.id===waiting.sponsor_id;}).username}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{float:'right'},children:[\" \",x,\" \",x===1?\" copy\":\"copies\"]})]});}});sponsorsMapped=sponsorsMapped.filter(function(waiting){return waiting!==null;});}waitingsMapped=book.waitings.filter(function(waiting){return waiting.fulfilled!==true;}).map(function(waiting){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:waiting.user.profile_pic?waiting.user.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:true}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/otheruserpage/\".concat(waiting.user.id),children:[waiting.user.username,\" \",waiting.user.eligible?\"(eligible)\":\"(ineligible)\"]})]});});waitingsFulfilledMapped=book.waitings.filter(function(waiting){return waiting.fulfilled===true;}).map(function(waiting){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:waiting.user.profile_pic?waiting.user.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/otheruserpage/\".concat(waiting.user.id),children:waiting.user.username})]});});reviewsMapped=book.reviews.map(function(review){if(user){var reducer=function reducer(accumulator,currentValue){return accumulator+currentValue;};averageRating=book.reviews.map(function(review){return review.rating;}).reduce(reducer)/book.reviews.length;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"review\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:review.user.profile_pic?review.user.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/otheruserpage/\".concat(review.user.id),children:review.user.username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_stars_default.a,{className:\"react-stars\",count:5,value:review.rating,size:15,color2:'#ffd700',edit:false// style={{fontSize: '20px'}}\n}),review.text,review.user.id===user.id?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{size:\"mini\",id:review.id,onClick:function onClick(e){return handleCommentDelete(e);},children:\"Delete\"}):null]});}else{var _reducer=function _reducer(accumulator,currentValue){return accumulator+currentValue;};averageRating=book.reviews.map(function(review){return review.rating;}).reduce(_reducer)/book.reviews.length;return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:review.user.profile_pic?review.user.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"mini\",circular:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/otheruserpage/\".concat(review.user.id),children:review.user.username}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_stars_default.a,{className:\"react-stars\",count:5,value:review.rating,size:15,color2:'#ffd700',edit:false})]}),review.text]});}});}function handleCommentDelete(e){var reviewId=parseInt(e.target.id);var confObj={method:'DELETE',headers:{'Content-Type':'application/json'}};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/reviews/\").concat(reviewId),confObj).then(function(data){return setWaitlistRequest(!waitlistRequest);});}function handleToggleRequest(){if(user){if(backEndBook){setToggleSponsorForm(!toggleSponsorForm);}else{alert(\"There is no one on the waitlist.\");}}else{alert(\"Please log in to Sponsor\");}}function similarNext(){if(similarIndex<booksFromSearch.length-2){setSimilarIndex(similarIndex+3);}else{alert('No More Books to Display');}}function similarBack(){setSimilarIndex(similarIndex-3);}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bookpage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"book-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"book-info-image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{style:{margin:'40px',float:'right'},size:\"small-medium\",src:book?book.image_url:\"N/A\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"book-info-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{style:{marginBottom:'-15px'},children:book?book.title:\"N/A\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:book?book.subtitle:\"N/A\"}),reviewsMapped?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_stars_default.a,{className:\"react-stars\",count:5,value:averageRating,size:20,color2:'#ffd700',edit:false}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"by:\"}),\" \",book?book.authors:\"N/A\",\" (\",book?book.publishedDate:\"N/A\",\")\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Publishing House:\"}),\" \",book?book.publisher:\"N/A\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"b\",{children:\"Description:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:book?book.description:\"N/A\"})]})]}),book?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"reviews\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Reviews\"}),backEndBook&&reviewsMapped.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{className:\"reviewsUl\",children:[\" \",reviewsMapped,\" \"]}):\"No one has reviewed this book yet. Be the first!\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReviewForm,{storeInDB:storeInDB,user:user,book:book,waitlistRequest:waitlistRequest,setWaitlistRequest:setWaitlistRequest,backEndBook:backEndBook,setBackEndBook:setBackEndBook,setSavedBooks:setSavedBooks,waitListRequestAndStoreInDBRequest:waitListRequestAndStoreInDBRequest,toggleSponsorForm:toggleSponsorForm,setToggleSponsorForm:setToggleSponsorForm})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bookpage-recipients-list\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{style:{textAlign:'center'},children:\"Recipients\"}),backEndBook&&waitingsFulfilledMapped.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ol\",{children:[\" \",waitingsFulfilledMapped,\"  \"]}):\"No one has received this book yet. Join the waitlist to be the first!\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bookpage-waiting-list\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{style:{textAlign:'center'},children:\"Waitlist\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ol\",{children:[backEndBook&&waitingsMapped.length>0?waitingsMapped:\"No one is currently waiting for this book. Be the first!\",\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"waiting-button\",onClick:waitListRequestAndStoreInDBRequest,children:\"Join the Waitlist\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"bookpage-sponsor-list\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{style:{textAlign:'center'},children:\"Sponsors\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ol\",{children:[backEndBook&&sponsorsMapped.length>0?sponsorsMapped:\"No one has sponsored this book yet.  Be the first!\",\" \"]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{onClick:handleToggleRequest,children:\" Sponsor this Book\"}),toggleSponsorForm?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SponsorForm,{waitingsMapped:waitingsMapped,book:book,user:user,setUser:setUser,waitlistRequest:waitlistRequest,setWaitlistRequest:setWaitlistRequest,setBackEndBook:setBackEndBook,backEndBook:backEndBook,setToggleSponsorForm:setToggleSponsorForm,toggleSponsorForm:toggleSponsorForm}):null]})]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"similar-books\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Similar Books\"}),booksFromSearch.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:3,children:booksMapped}):null,/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"buttons-combined\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return similarNext(similarIndex+3);},children:\"See More\"}),similarIndex>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return similarBack(similarIndex+3);},children:\"Go Back\"}):null]})]})]});}\n// CONCATENATED MODULE: ./src/components/pages/BookIndex/BackEndBookCard.js\nfunction BackendBookCard(_ref){var book=_ref.book,style=_ref.style;if(book){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{style:{textAlign:'center',style:style},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{size:\"small\",src:book.image_url?book.image_url:null,wrapped:true,ui:false}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Content,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Header,{children:book.title?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/bookpage/\".concat(book.api_id),children:[book.title.slice(0,50),\" \"]}):null}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Meta,{children:book.subtitle?book.subtitle.slice(0,50):null}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Description,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{className:\"date\",children:book.authors?book.authors:null})})]})]});}else{return null;}}\n// EXTERNAL MODULE: ./node_modules/semantic-ui-react/dist/es/elements/Icon/Icon.js + 1 modules\nvar Icon = __webpack_require__(61);\n\n// CONCATENATED MODULE: ./src/components/pages/Home/Home.js\nfunction Home(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=Object(react[\"useState\"])([]),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),backEndWaitings=_useState4[0],setBackEndWaitings=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),users=_useState6[0],setUsers=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),index=_useState8[0],setIndex=_useState8[1];var waitings=[];var waitingsMapped=[];var sponsorsMapped=[];var topReaders=[];var topReadersMapped=[];// console.log(process.env.REACT_APP_API_BASE_URL)\nObject(react[\"useEffect\"])(function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\")).then(function(response){return response.json();}).then(function(data){setBooks(data);});fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users\")).then(function(response){return response.json();}).then(function(data){setUsers(data);});fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings\")).then(function(response){return response.json();}).then(function(data){setBackEndWaitings(data);});},[]);if(books.length>0){for(var i=0;i<books.length;i++){var waitingsFulFilled=books[i].waitings.filter(function(waitings){return waitings.fulfilled!==false;}).length;waitings.push(Object(defineProperty[\"a\" /* default */])({},waitingsFulFilled,books[i]));}waitings.sort(function(a,b){return Object.keys(b)[0]-Object.keys(a)[0];});waitingsMapped=waitings.slice(index,index+8).map(function(waiting){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BackendBookCard,{book:Object.values(waiting)[0]});});}if(backEndWaitings.length>0){var sponsoredWaitings=backEndWaitings.filter(function(waiting){return waiting.fulfilled===true;});var sponsorAOH=[];var _loop=function _loop(_i){var userSponsors=sponsoredWaitings.filter(function(waiting){return waiting.sponsor_id===users[_i].id;});sponsorAOH.push(Object(defineProperty[\"a\" /* default */])({},userSponsors.length,users[_i]));};for(var _i=0;_i<users.length;_i++){_loop(_i);}var x=sponsorAOH.sort(function(a,b){return Object.keys(b)[0]-Object.keys(a)[0];});sponsorsMapped=x.slice(0,3).map(function(sponsor){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Header,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/otheruserpage/\".concat(Object.values(sponsor)[0].id),children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{textAlign:'center'},children:Object.values(sponsor)[0].username}),\" \"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Content,{style:{textAlign:'center'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{style:{margin:'auto'},src:Object.values(sponsor)[0].profile_pic?Object.values(sponsor)[0].profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"small\",circular:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Content,{extra:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"user\"}),Object.keys(sponsor)[0],\" sponsors\"]})]});});}if(users.length>0){topReaders=users.sort(function(a,b){return b.waitings.filter(function(waiting){return waiting.fulfilled===true;}).length-a.waitings.filter(function(waiting){return waiting.fulfilled===true;}).length;});topReadersMapped=topReaders.slice(0,3).map(function(reader){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Header,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router_dom[\"b\" /* Link */],{to:\"/otheruserpage/\".concat(reader.id),children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h4\",{style:{textAlign:'center'},children:[reader.username,\" \"]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Content,{style:{textAlign:'center'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:reader.profile_pic?reader.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"small\",circular:true})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */].Content,{extra:true,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Icon[\"a\" /* default */],{name:\"book\"}),reader.waitings.filter(function(waiting){return waiting.fulfilled===true;}).length,\" Books Read\"]})]});});}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"home-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"who\",children:\"Who we are\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"p\",{style:{fontSize:'15px'},children:[\"If you've ever read an impactful book that you'd like to share with others, BookFund is the place for you!\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"BookFund is a simple way for users to sponsor books they love and share the knowledge with others.\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),\"Users can sign up for a book via a waitlist to receive the next sponsored copy of that book. After receiving a book, users must publish a review of the book on the site, as well as enter a two week wait period before they are eligible to receive their next book.\"]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{className:\"pop\",children:\"Popular Now\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"popular-now\",children:waitingsMapped.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:8,children:waitingsMapped}):null}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"buttons-combined\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setIndex(index+8);},children:\"Next\"}),index>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setIndex(index-8);},children:\"Back\"}):null]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{display:'flex',marginTop:'50px'},className:\"bottom-home\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"top-readers-home\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Top Readers:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:3,children:topReadersMapped.length>0?topReadersMapped:null})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"top-sponsors-home\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{children:\"Top Sponsors:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:3,children:sponsorsMapped.length>0?sponsorsMapped:null})]})]})]});}\n// CONCATENATED MODULE: ./src/components/pages/UserPage/Timer.js\nvar Timer_Timer=function Timer(_ref){var mostRecent=_ref.mostRecent,timeLeft=_ref.timeLeft,setTimeLeft=_ref.setTimeLeft,displayTimer=_ref.displayTimer,setDisplayTimerTwo=_ref.setDisplayTimerTwo,reviewLeft=_ref.reviewLeft;// console.log('timer')\n// console.log('reviewleft:', reviewLeft)\n// console.log('timeleft:', timeLeft)\n// console.log('mostRecent!== null:', (mostRecent!== null))\nvar _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),timerDays=_useState2[0],setTimerDays=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),timerHours=_useState4[0],setTimerHours=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),timerMinutes=_useState6[0],setTimerMinutes=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),timerSeconds=_useState8[0],setTimerSeconds=_useState8[1];var interval=Object(react[\"useRef\"])();var startTimer=function startTimer(){// const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+1209600000)\nvar countDownDate=new Date(parseInt(mostRecent.sponsor_date)+60000);interval=setInterval(function(){var now=new Date().getTime();var timeRemaining=countDownDate-now;var days=Math.floor(timeRemaining/(1000*60*60*24));var hours=Math.floor(timeRemaining%(1000*60*60*24)/(1000*60*60));var minutes=Math.floor(timeRemaining%(1000*60*60)/(1000*60));var seconds=Math.floor(timeRemaining%(1000*60)/1000);if(timeRemaining<0){// debugger\nsetTimeLeft(false);clearInterval(interval.current);displayTimer=false;setDisplayTimerTwo(false);}else{//update timer\nsetTimerDays(days);setTimerHours(hours);setTimerMinutes(minutes);setTimerSeconds(seconds);}},1000);};Object(react[\"useEffect\"])(function(){var current=interval.current;startTimer();return function(){clearInterval(current);};});return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{class:\"container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{id:\"headline\",children:\"Countdown until your next book:\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{id:\"countdown\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"numbers\",children:timerDays}),\"days\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"numbers\",children:timerHours}),\"Hours\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{id:\"numbers\",children:timerMinutes}),\"Minutes\"]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"li\",{children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"span\",{id:\"numbers\",children:[timerSeconds,\" \"]}),\"Seconds\"]})]})})]});};/* harmony default export */ var UserPage_Timer = (Timer_Timer);\n// CONCATENATED MODULE: ./src/components/pages/UserPage/SponsorList.js\nfunction SponsorList(_ref){var allWaitings=_ref.allWaitings,user=_ref.user,savedBooks=_ref.savedBooks;var sponsoredWaitings=[];var sponsoredMapped=[];var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),sponsoredIndex=_useState2[0],setSponsoredIndex=_useState2[1];if(allWaitings.length>0){sponsoredWaitings=allWaitings.filter(function(waiting){return waiting.sponsor_id===user.id;});if(sponsoredWaitings.length>0){var arrTwo=[];arrTwo.push(sponsoredWaitings[0]);var _loop=function _loop(i){if(arrTwo.find(function(elem){return elem.book_id===sponsoredWaitings[i].book_id;})){}else{arrTwo.push(sponsoredWaitings[i]);}};for(var i=1;i<sponsoredWaitings.length;i++){_loop(i);}sponsoredMapped=arrTwo.map(function(waiting){//create JSX of books\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BackendBookCard,{book:savedBooks.find(function(savedBook){return savedBook.id===waiting.book_id;})});});console.log(sponsoredMapped);}}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"userpage-book-display\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:8,children:sponsoredMapped.slice(sponsoredIndex,sponsoredIndex+8)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setSponsoredIndex(sponsoredIndex+8);},children:\"Next\"}),sponsoredIndex>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setSponsoredIndex(sponsoredIndex-8);},children:\"Back\"}):null]});}\n// CONCATENATED MODULE: ./src/components/pages/UserPage/WaitList.js\nfunction WaitList(_ref){var waitlistMapped=_ref.waitlistMapped,user=_ref.user,savedBooks=_ref.savedBooks;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),waitlistIndex=_useState2[0],setWaitlistIndex=_useState2[1];var waitingsMapped=[];//get all unfulfilled waitings for a user\nvar waitingsUnfulfilled=user.waitings.filter(function(waiting){return waiting.fulfilled!==true;});var _loop=function _loop(i){waitingsMapped.push(savedBooks.find(function(saved_book){return saved_book.id===waitingsUnfulfilled[i].book_id;}));};for(var i=0;i<waitingsUnfulfilled.length;i++){_loop(i);}if(waitingsMapped.length>0){waitlistMapped=waitingsMapped.map(function(waiting){//create JSX of books\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BackendBookCard,{book:waiting});});}function handleNextClick(){if(waitlistIndex<waitlistMapped.length){if(waitlistMapped.length-waitlistIndex>8){setWaitlistIndex(waitlistIndex+8);}else{setWaitlistIndex(0);}}}if(waitingsMapped.length>0){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"userpage-book-display\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:8,children:waitlistMapped.slice(waitlistIndex,waitlistIndex+8)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:handleNextClick,children:\"Next\"}),waitlistIndex>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setWaitlistIndex(waitlistIndex-8);},children:\"Back\"}):null]});}else{return null;}}\n// CONCATENATED MODULE: ./src/components/pages/UserPage/ReceivedList.js\nfunction ReceivedList(_ref){var savedBooks=_ref.savedBooks,waitingsFulFilledMapped=_ref.waitingsFulFilledMapped,waitlistMapped=_ref.waitlistMapped;var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),index=_useState2[0],setIndex=_useState2[1];var receivedMapped=null;if(savedBooks.length>0){receivedMapped=waitingsFulFilledMapped.map(function(waiting){//create JSX of books\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BackendBookCard,{book:waiting});});}function handleNextClick(){if(index<waitlistMapped.length){if(waitlistMapped.length-index>8){setIndex(index+8);}else{setIndex(0);}}}return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"userpage-book-display\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:8,children:receivedMapped.slice(index,index+8)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return handleNextClick(index+8);},children:\"Next\"}),index>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setIndex(index-8);},children:\"Back\"}):null]});}\n// CONCATENATED MODULE: ./src/components/pages/UserPage/UserPage.js\nfunction UserPage(_ref){var user=_ref.user,savedBooks=_ref.savedBooks,timeLeft=_ref.timeLeft,setTimeLeft=_ref.setTimeLeft,reviewLeft=_ref.reviewLeft,setReviewLeft=_ref.setReviewLeft;var waitingsFulFilledMapped=[];var mostRecent={};var foundBook=null;var foundReview=null;var waitlistMapped=0;var displayTimer=false;var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),allWaitings=_useState2[0],setAllWaitings=_useState2[1];var _useState3=Object(react[\"useState\"])(true),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),displayTimerTwo=_useState4[0],setDisplayTimerTwo=_useState4[1];var _useState5=Object(react[\"useState\"])(false),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,1),editInfo=_useState6[0];var _useState7=Object(react[\"useState\"])({}),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),formState=_useState8[0],setFormState=_useState8[1];Object(react[\"useEffect\"])(function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings\")).then(function(response){return response.json();}).then(function(data){return setAllWaitings(data);});},[]);function handleChange(e){console.log(e);setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},e.target.name,e.target.value)));}function handleImage(e){e.persist();setFormState(Object(objectSpread2[\"a\" /* default */])(Object(objectSpread2[\"a\" /* default */])({},formState),{},Object(defineProperty[\"a\" /* default */])({},e.target.name,e.target.files[0])));}function handleSubmit(e){e.preventDefault();var form=new FormData();if(!formState.username){alert('Please enter a username.');}form.append(\"profile_pic\",formState.profile_pic);form.append(\"username\",formState.username);form.append(\"name\",formState.name);form.append(\"bio\",formState.bio);form.append(\"email\",formState.email);}if(user){(function(){if(user.waitings.length<1){// console.log(`setTimeLeft(false)`)\nsetTimeLeft(false);setReviewLeft(true);}var waitingsFulfilled=user.waitings.filter(function(waiting){return waiting.fulfilled===true;});//get all fulfilled waitings for a user\nvar _loop=function _loop(i){waitingsFulFilledMapped.push(savedBooks.find(function(saved_book){return saved_book.id===waitingsFulfilled[i].book_id;}));//create an array of those books by comparing to saved books\n};for(var i=0;i<waitingsFulfilled.length;i++){_loop(i);}if(waitingsFulfilled.length<1){setReviewLeft(true);}if(waitingsFulfilled.length>0){mostRecent=waitingsFulfilled.sort(function(a,b){// find most recent received\nreturn b.id-a.id;})[0];if(Object.keys(mostRecent).length!==0){// if theres not most recent book\n//check mostRecent.waiting date. if no time left between creation and future deadline, setTimeLeft(false), and vice versa\nvar creationDate=new Date(parseInt(mostRecent.sponsor_date)+60000).getTime();var now=new Date().getTime();if(now<creationDate){// wait period has not passed\ndisplayTimer=true;}else{displayTimer=false;console.log(\"setTimeLeft(false)\");setTimeLeft(false);}}foundBook=savedBooks.find(function(book){return book.id===mostRecent.book_id;});// find most recently received book based on most recent waiting\nif(foundBook){foundReview=foundBook.reviews.find(function(review){return review.user.id===user.id;});// check if they left a review on it\nif(foundReview){setReviewLeft(true);}else{setReviewLeft(false);//if book was found without a review\n}}else{// if no book is on received list\nsetReviewLeft(true);}}})();}if(user){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"userpage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"userpage-top-half\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"userpage-eligibility-info\",style:{float:'left'},children:[displayTimer&&displayTimerTwo?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserPage_Timer,{mostRecent:mostRecent,timeLeft:timeLeft,setTimeLeft:setTimeLeft,displayTimer:displayTimer,setDisplayTimerTwo:setDisplayTimerTwo,reviewLeft:reviewLeft}):null,displayTimer===false&&reviewLeft===true?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Looks like you're eligible for your next book!\"}):null,reviewLeft===false&&mostRecent!==null&&user.waitings.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{margin:'auto'},children:[\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Please leave a review for\"}),\" \",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{margin:'auto'},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BackendBookCard,{book:foundBook,style:{margin:'auto'}})}),\" \"]}):null]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"userpage-user-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:user.profile_pic?user.profile_pic:null,size:\"small\",circular:true,style:{float:'left'}}),editInfo?null:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{float:'left',marginLeft:'50px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{display:'inline'},children:\"Name: \"}),user.name!==\"undefined\"?user.name:null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{display:'inline'},children:\"Email: \"}),user.email!==\"undefined\"?user.email:null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{display:'inline'},children:\"Username: \"}),user.username!==\"undefined\"?user.username:null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{display:'inline'},children:\"Bio: \"}),user.bio!==\"undefined\"?user.bio:null]}),editInfo?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{style:{float:'left',marginLeft:'50px'},children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */],{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Name\",name:\"name\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Username\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Password\",type:\"password\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Form[\"a\" /* default */].Field,{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Bio\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{placeholder:\"Bio\",name:\"bio\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Form[\"a\" /* default */].Input,{type:\"file\",name:\"profile_pic\",fluid:true,label:\"Image Upload\",onChange:function onChange(e){return handleImage(e);}}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{type:\"submit\",style:{float:'right',marginBottom:'10px'},children:\"Sign Up\"})]})}):null]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"pop\",children:\"Waitlist\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(WaitList,{waitlistMapped:waitlistMapped,user:user,savedBooks:savedBooks}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"pop\",children:\"Received\"}),waitingsFulFilledMapped.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ReceivedList,{waitingsFulFilledMapped:waitingsFulFilledMapped,savedBooks:savedBooks,waitlistMapped:waitlistMapped}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"pop\",children:\"Sponsored\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SponsorList,{allWaitings:allWaitings,savedBooks:savedBooks,user:user})]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[\"Error. Please try again\",/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/bookindex\"})]});}}\n// CONCATENATED MODULE: ./src/components/pages/OtherUserPage/OtherUserPage.js\nfunction OtherUserPage(_ref){var savedBooks=_ref.savedBooks,timeLeft=_ref.timeLeft,setTimeLeft=_ref.setTimeLeft,reviewLeft=_ref.reviewLeft,setReviewLeft=_ref.setReviewLeft;var waitingsMapped=[];var waitingsFulFilledMapped=[];var mostRecent={};var foundBook=null;var foundReview=null;var receivedMapped=null;var waitlistMapped=null;var sponsoredWaitings=[];var sponsoredMapped=[];var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),allWaitings=_useState2[0],setAllWaitings=_useState2[1];var _useState3=Object(react[\"useState\"])(0),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),index=_useState4[0],setIndex=_useState4[1];var _useState5=Object(react[\"useState\"])(0),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),waitlistIndex=_useState6[0],setWaitlistIndex=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),sponsoredIndex=_useState8[0],setSponsoredIndex=_useState8[1];var _useState9=Object(react[\"useState\"])(null),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),user=_useState10[0],setUser=_useState10[1];var params=Object(react_router[\"h\" /* useParams */])();Object(react[\"useEffect\"])(function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users/\").concat(params.id)).then(function(response){return response.json();}).then(function(data){return setUser(data);});},[params.id]);Object(react[\"useEffect\"])(function(){fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/waitings\")).then(function(response){return response.json();}).then(function(data){return setAllWaitings(data);});},[]);if(user){(function(){if(user.waitings.length<1){console.log(\"setTimeLeft(false)\");setTimeLeft(false);setReviewLeft(true);}var waitingsUnfulfilled=user.waitings.filter(function(waiting){return waiting.fulfilled!==true;});//get all unfulfilled waitings for a user\nvar _loop=function _loop(i){waitingsMapped.push(savedBooks.find(function(saved_book){return saved_book.id===waitingsUnfulfilled[i].book_id;}));//create an array of those books by comparing to saved books\n};for(var i=0;i<waitingsUnfulfilled.length;i++){_loop(i);}if(waitingsMapped.length>0){waitlistMapped=waitingsMapped.map(function(waiting){//create JSX of books\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BackendBookCard,{book:waiting});});}if(allWaitings.length>0){sponsoredWaitings=allWaitings.filter(function(waiting){return waiting.sponsor_id===user.id;});if(sponsoredWaitings.length>0){var arrTwo=[];arrTwo.push(sponsoredWaitings[0]);var _loop2=function _loop2(_i){if(arrTwo.find(function(elem){return elem.book_id===sponsoredWaitings[_i].book_id;})){}else{arrTwo.push(sponsoredWaitings[_i]);}};for(var _i=1;_i<sponsoredWaitings.length;_i++){_loop2(_i);}sponsoredMapped=arrTwo.map(function(waiting){//create JSX of books\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BackendBookCard,{book:savedBooks.find(function(savedBook){return savedBook.id===waiting.book_id;})});});}}var waitingsFulfilled=user.waitings.filter(function(waiting){return waiting.fulfilled===true;});//get all fulfilled waitings for a user\nvar _loop3=function _loop3(_i2){waitingsFulFilledMapped.push(savedBooks.find(function(saved_book){return saved_book.id===waitingsFulfilled[_i2].book_id;}));//create an array of those books by comparing to saved books\n};for(var _i2=0;_i2<waitingsFulfilled.length;_i2++){_loop3(_i2);}if(waitingsFulfilled.length<1){setReviewLeft(true);}if(savedBooks.length>0){receivedMapped=waitingsFulFilledMapped.map(function(waiting){//create JSX of books\nreturn/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BackendBookCard,{book:waiting});});}if(waitingsFulfilled.length>0){mostRecent=waitingsFulfilled.sort(function(a,b){// find most recent received\nreturn b.id-a.id;})[0];if(Object.keys(mostRecent).length!==0){// if theres not most recent book\n//check mostRecent.waiting date. if no time left between creation and future deadline, setTimeLeft(false), and vice versa\nvar creationDate=new Date(parseInt(mostRecent.sponsor_date)+60000).getTime();var now=new Date().getTime();if(now<creationDate){// wait period has not passed\n}else{console.log(\"setTimeLeft(false)\");setTimeLeft(false);}}foundBook=savedBooks.find(function(book){return book.id===mostRecent.book_id;});// find most recently received book based on most recent waiting\nif(foundBook){foundReview=foundBook.reviews.find(function(review){return review.user.id===user.id;});// check if they left a review on it\nif(foundReview){setReviewLeft(true);}else{setReviewLeft(false);//if book was found without a review\n}}else{// if no book is on received list\nsetReviewLeft(true);}}})();}function handleNextClick(){if(waitlistIndex<waitlistMapped.length){if(waitlistMapped.length-waitlistIndex>8){setWaitlistIndex(waitlistIndex+8);}else{setWaitlistIndex(0);}}}if(user){// console.log('timeleft:', timeLeft)\n// console.log('reviewleft:', reviewLeft)\nconsole.log('eligibilty:',user.eligible);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"userpage\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"userpage-top-half\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"userpage-eligibility-info\",style:{float:'left'},children:user.eligible?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"Looks like \",user.username,\" is eligible for their next book!\"]}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"h3\",{children:[\"Looks like \",user.username,\" needs to wait two weeks or leave a review to be eligible for their next book!\"]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"userpage-user-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Image[\"a\" /* default */],{src:user.profile_pic?user.profile_pic:null,size:\"small\",circular:true,style:{float:'left'}}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{style:{float:'left',marginLeft:'50px'},children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{display:'inline'},children:\"Name: \"}),user.name?user.name:null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{display:'inline'},children:\"Email: \"}),user.email?user.email:null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{display:'inline'},children:\"Username: \"}),user.username?user.username:null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"br\",{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h4\",{style:{display:'inline'},children:\"Bio: \"}),user.bio?user.bio:null]})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"pop\",children:\"Waitlist\"}),waitingsMapped.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"userpage-book-display\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:8,children:waitlistMapped.slice(waitlistIndex,waitlistIndex+8)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:handleNextClick,children:\"Next\"}),waitlistIndex>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setIndex(waitlistIndex-8);},children:\"Back\"}):null]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"pop\",children:\"Received\"}),waitingsFulFilledMapped.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"userpage-book-display\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:8,children:receivedMapped.slice(index,index+8)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setIndex(index+8);},children:\"Next\"}),index>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setIndex(index-8);},children:\"Back\"}):null]}):null,/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{className:\"pop\",children:\"Sponsored\"}),sponsoredMapped.length>0?/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"userpage-book-display\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */].Group,{itemsPerRow:8,children:sponsoredMapped.slice(sponsoredIndex,sponsoredIndex+8)})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setSponsoredIndex(sponsoredIndex+8);},children:\"Next\"}),sponsoredIndex>0?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Button[\"a\" /* default */],{className:\"next-back-button\",onClick:function onClick(){return setSponsoredIndex(sponsoredIndex-8);},children:\"Back\"}):null]}):null]});}else{return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(jsx_runtime[\"Fragment\"],{children:\"Loading\"});}}// export default function OtherUserPage({savedBooks}){\n//     const [otherUser, setOtherUser] = useState(null)\n//     const params = useParams()\n//     let waitingsMapped = []\n//     let waitlistMapped = []\n//     useEffect(()=>{\n//         fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${params.id}`)\n//         .then(response => response.json())\n//         .then(data=>setOtherUser(data))  \n//     },[])\n//     if (otherUser && savedBooks.length > 0){  \n//         let waitingsUnfulfilled = otherUser.waitings.filter(waiting=>waiting.fulfilled!==true)\n//         for(let i=0;i<waitingsUnfulfilled.length;i++){\n//         waitingsMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsUnfulfilled[i].book_id))\n//         } \n//         waitlistMapped = waitingsMapped.map(waiting=>{\n//             return (<BackEndBookCard book={waiting}/>)\n//         })\n//         return(\n//             <div> \n//                 <img src={otherUser.profile_pic ? otherUser.profile_pic : null}></img>\n//                 <p>name: {otherUser.name ? otherUser.name : null}</p>\n//                 <p>email: {otherUser.email ? otherUser.email : null}</p>\n//                 <p>username: {otherUser.username ? otherUser.username : null }</p>\n//                 <p>bio: {otherUser.bio ? otherUser.bio : null}</p>\n//                 <p>waitlist:</p>\n//                 <ul>{waitingsMapped.length > 0 ? waitlistMapped:null}</ul>\n//             </div>\n//         )\n//     }\n//     else{\n//         return <p>loading</p>\n//     }\n// }\n// CONCATENATED MODULE: ./src/App.js\nfunction App_App(){var _useState=Object(react[\"useState\"])([]),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),booksFromSearch=_useState2[0],setBooksFromSearch=_useState2[1];var _useState3=Object(react[\"useState\"])(null),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=Object(react[\"useState\"])([]),_useState6=Object(slicedToArray[\"a\" /* default */])(_useState5,2),savedBooks=_useState6[0],setSavedBooks=_useState6[1];var _useState7=Object(react[\"useState\"])(0),_useState8=Object(slicedToArray[\"a\" /* default */])(_useState7,2),startIndex=_useState8[0],setStartIndex=_useState8[1];var _useState9=Object(react[\"useState\"])(true),_useState10=Object(slicedToArray[\"a\" /* default */])(_useState9,2),timeLeft=_useState10[0],setTimeLeft=_useState10[1];var _useState11=Object(react[\"useState\"])(false),_useState12=Object(slicedToArray[\"a\" /* default */])(_useState11,2),reviewLeft=_useState12[0],setReviewLeft=_useState12[1];Object(react[\"useEffect\"])(function(){setTimeLeft(false);setReviewLeft(true);fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/books\")).then(function(response){return response.json();}).then(function(data){return setSavedBooks(data);});},[user]);Object(react[\"useEffect\"])(function(){if(user){if(timeLeft===false&&reviewLeft===true){var confObj={method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify({eligible:true})};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users/\").concat(user.id),confObj);}if(timeLeft===true||reviewLeft===false){var _confObj={method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify({eligible:false})};fetch(\"\".concat(\"https://fast-citadel-52863.herokuapp.com/\",\"/users/\").concat(user.id),_confObj);}}},[timeLeft,reviewLeft,savedBooks,user]);return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"app\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MainNav,{setUser:setUser,user:user,setBooksFromSearch:setBooksFromSearch,startIndex:startIndex,setStartIndex:setStartIndex}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{exact:true,from:\"/\",to:\"/home\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/home\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Home,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/bookindex\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BookIndex,{booksFromSearch:booksFromSearch,startIndex:startIndex,setStartIndex:setStartIndex})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/bookpage/:id\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(BookPage,{savedBooks:savedBooks,setSavedBooks:setSavedBooks,user:user,setUser:setUser,reviewLeft:reviewLeft,timeLeft:timeLeft,setBooksFromSearch:setBooksFromSearch,startIndex:startIndex,setStartIndex:setStartIndex})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/otheruserpage/:id\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(OtherUserPage,{user:user,savedBooks:savedBooks,timeLeft:timeLeft,setTimeLeft:setTimeLeft,reviewLeft:reviewLeft,setReviewLeft:setReviewLeft})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{exact:true,path:\"/userpage\",children:user?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserPage,{user:user,savedBooks:savedBooks,timeLeft:timeLeft,setTimeLeft:setTimeLeft,reviewLeft:reviewLeft,setReviewLeft:setReviewLeft}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/home\"})})]})]});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\nreact_dom_default.a.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}),document.getElementById('root'));\n\n/***/ })\n\n},[[164,1,2]]]);","inputSourceMap":{"version":3,"sources":["/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/postcss-loader/src/index.js??postcss!/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/index.css","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/mini-css-extract-plugin/dist/loader.js??ref--5-oneOf-4-0!/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/css-loader/dist/cjs.js??ref--5-oneOf-4-1!/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/postcss-loader/src/index.js??postcss!/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/App.css","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/MainNav/Search.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/MainNav/SignUp.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/MainNav/LogIn.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/MainNav/MainNav.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/BookIndex/BookCard.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/BookIndex/BookIndex.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/BookPage/SponsorForm.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/BookPage/ReviewForm.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/BookPage/BookPage.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/BookIndex/BackEndBookCard.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/Home/Home.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/Timer.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/SponsorList.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/WaitList.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/ReceivedList.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/UserPage.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/OtherUserPage/OtherUserPage.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/App.js","/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/index.js"],"names":["Search","setBooksFromSearch","startIndex","setStartIndex","useState","searchInput","setSearchInput","history","useHistory","useEffect","searchTerms","replace","fetch","then","response","json","data","items","handleSubmit","e","preventDefault","push","target","value","SignUp","user","setUser","open","setOpen","eligible","formState","setFormState","handleChange","name","handleImage","persist","files","form","FormData","username","alert","append","profile_pic","bio","email","confObj","method","body","process","error","float","marginBottom","LogIn","headers","JSON","stringify","MainNav","handleSignOut","color","BookCard","book","textAlign","volumeInfo","imageLinks","thumbnail","title","id","slice","authors","BookIndex","booksFromSearch","booksMapped","map","marginTop","SponsorForm","waitingsMapped","waitlistRequest","setWaitlistRequest","setBackEndBook","backEndBook","toggleSponsorForm","setToggleSponsorForm","number","setNumber","handleSponsorSubmission","num_books_funded","sponsor_id","length","ReviewForm","setSavedBooks","waitListRequestAndStoreInDBRequest","storeInDB","text","rating","user_id","book_id","ratingChanged","BookPage","savedBooks","reviewLeft","setBook","params","useParams","bookId","setBookId","similarIndex","setSimilarIndex","users","setUsers","waitingsFulfilledMapped","reviewsMapped","averageRating","sponsorsMapped","stripHtml","html","tmp","document","createElement","innerHTML","textContent","innerText","foundBook","find","api_id","subtitle","publisher","publishedDate","description","image_url","join","waitings","reviews","split","pop","bookIdea","fulfilled","sponsorsFiltered","filter","waiting","arr","x","wait","elem","review","reducer","accumulator","currentValue","reduce","handleCommentDelete","reviewId","parseInt","handleToggleRequest","similarNext","similarBack","margin","BackendBookCard","style","Home","books","setBooks","backEndWaitings","setBackEndWaitings","index","setIndex","topReaders","topReadersMapped","i","waitingsFulFilled","sort","a","b","Object","keys","values","sponsoredWaitings","sponsorAOH","userSponsors","sponsor","reader","fontSize","display","Timer","mostRecent","timeLeft","setTimeLeft","displayTimer","setDisplayTimerTwo","timerDays","setTimerDays","timerHours","setTimerHours","timerMinutes","setTimerMinutes","timerSeconds","setTimerSeconds","interval","useRef","startTimer","countDownDate","Date","sponsor_date","setInterval","now","getTime","timeRemaining","days","Math","floor","hours","minutes","seconds","clearInterval","current","SponsorList","allWaitings","sponsoredMapped","sponsoredIndex","setSponsoredIndex","arrTwo","savedBook","console","log","WaitList","waitlistMapped","waitlistIndex","setWaitlistIndex","waitingsUnfulfilled","saved_book","handleNextClick","ReceivedList","waitingsFulFilledMapped","receivedMapped","UserPage","setReviewLeft","foundReview","setAllWaitings","displayTimerTwo","editInfo","waitingsFulfilled","creationDate","marginLeft","OtherUserPage","App","ReactDOM","render","getElementById"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import React, { useState, useEffect } from \"react\"\nimport { useHistory } from \"react-router-dom\";\n\nimport { Input } from 'semantic-ui-react'\n\nexport default function Search ({setBooksFromSearch, startIndex, setStartIndex}){\n\n    const [searchInput, setSearchInput] = useState(\"\")\n    const history = useHistory()\n\n    useEffect(()=>{\n        let searchTerms = searchInput.replace(/\\s/g, '+')\n        fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchTerms}&maxResults=8&startIndex=${startIndex}`)\n        .then(response=>response.json())\n        .then(data=>{\n            setBooksFromSearch(data.items)\n        })\n    },[startIndex, searchInput, setBooksFromSearch])\n\n    function handleSubmit(e){\n        e.preventDefault()\n        setStartIndex(0)\n        let searchTerms = searchInput.replace(/\\s/g, '+')\n        fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchTerms}&maxResults=8&startIndex=${startIndex}`)\n        .then(response=>response.json())\n        .then(data=>{\n            setBooksFromSearch(data.items)\n            history.push(`/bookindex`)\n        })\n    }\n\n    return(\n        \n            <form onSubmit={handleSubmit}>\n                <Input icon='search' placeholder='Search...' \n                type=\"text\"\n                onChange={e=>setSearchInput(e.target.value)}\n                value={searchInput}\n                className=\"search-input\"/>\n            {/* <button type='submit' className=\"fa fa-search\"> Search </button> */}\n            </form>\n    )\n}","import React,{useState} from \"react\"\nimport { Button, Modal, Form } from 'semantic-ui-react'\nimport { useHistory } from \"react-router-dom\";\n\n\nexport default function SignUp({user, setUser}) {\n\n    let history = useHistory()\n    const [open, setOpen] = useState(false)\n    const [formState, setFormState] = useState({\n            eligible: true\n        })\n\n    function handleChange(e){\n        setFormState({\n            ...formState,\n            [e.target.name]: e.target.value\n        })   \n    }\n\n    function handleImage (e){\n        e.persist()\n        setFormState({\n            ...formState,\n            [e.target.name]: e.target.files[0]\n        })\n    }\n\n\n    function handleSubmit(e){\n        e.preventDefault()\n        const form = new FormData()\n\n        if (!(formState.username)){\n            alert('Please enter a username.')\n        }\n\n        form.append(\"profile_pic\", formState.profile_pic)\n        form.append(\"username\", formState.username)\n        form.append(\"name\", formState.name)\n        form.append(\"bio\", formState.bio)\n        form.append(\"email\", formState.email)\n      \n\n        // console.log(formState)\n        \n        let confObj = {\n            method: 'POST',\n            body: (form),\n        }\n\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/users`, confObj)\n        .then(response=>response.json())\n        .then(data=>{\n            if (data.error){\n                alert(\"Username must be unique\")\n                setFormState({})\n            }\n            else{\n                alert(`welcome aboard ${data.username}!`)\n                setUser(data)\n                setFormState({})\n                history.push('/userpage')\n            }\n        })\n    \n    }\n  \n  return (\n    <Modal\n      onClose={() => setOpen(false)}\n      onOpen={() => setOpen(true)}\n      open={open}\n      trigger={<Button>Sign Up</Button>}\n    >\n      <Modal.Header>Sign Up</Modal.Header>\n      <Modal.Content >\n       \n        <Form onSubmit={(e)=>handleSubmit(e)}>\n                    <Form.Field>\n                        <label>Name</label>\n                        <input placeholder='Name' name=\"name\" onChange={(e)=>handleChange(e)}/>\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Username</label>\n                        <input placeholder='Username' name=\"username\" onChange={(e)=>handleChange(e)}/>\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Email</label>\n                        <input placeholder='Email' name=\"email\" onChange={(e)=>handleChange(e)}/>\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Password</label>\n                        <input placeholder='Password' type=\"password\" />\n                    </Form.Field>\n                    <Form.Field >\n                        <label>Bio</label>\n                        <input placeholder='Bio' name=\"bio\" onChange={(e)=>handleChange(e)}/>\n                    </Form.Field>\n                    <Form.Input \n                    type=\"file\" \n                    name=\"profile_pic\" \n                    fluid label='Image Upload' \n                    onChange={(e)=>handleImage(e)} \n                    />\n                    <Button type='submit' style={{float:'right', marginBottom: '10px'}}>Sign Up</Button>\n            </Form>\n         \n      </Modal.Content>\n\n    </Modal>\n  )\n}\n\n\n\n","import React,{useEffect, useState} from \"react\"\nimport { useHistory } from \"react-router-dom\";\nimport { Button, Modal, Form } from 'semantic-ui-react'\n\nexport default function LogIn ({setUser, user}){\n\n    let history = useHistory()\n\n    const [open, setOpen] = useState(false)\n    const [formState, setFormState] = useState({})\n\n    useEffect(()=>{\n        history.push('/userpage')\n    },[user, history])\n\n    function handleChange(e){\n        setFormState({\n            [e.target.name]: e.target.value\n        })\n    }\n\n    function handleSubmit(e){\n        e.preventDefault()\n        setOpen(false)\n        let confObj = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(formState),\n        }\n\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/users/login`, confObj)\n        .then(response=>response.json())\n        .then(data=>{\n            // console.log(data)\n            setUser(data)      \n            history.push('/userpage')\n        })\n\n    }\n\n    return (\n        <Modal\n            onClose={() => setOpen(false)}\n            onOpen={() => setOpen(true)}\n            open={open}\n            trigger = {<Button> Log In </Button>}\n        >\n        <Modal.Header>Log In</Modal.Header>\n            <Modal.Content >\n                <div className=\"form \">\n                        <Form onSubmit={(e)=>handleSubmit(e)}>\n                            <Form.Field>\n                                <label>Username</label>\n                                <input placeholder='Username' name=\"username\" onChange={(e)=>handleChange(e)}/>\n                                \n                            </Form.Field>\n                            <Form.Field>\n                                <label>Password</label>\n                                <input placeholder='Password' type=\"password\" />\n                            </Form.Field>\n                            <Button type='submit' style={{float:'right', marginBottom: '10px'}}>Login</Button>\n                        </Form>\n                    </div>\n            </Modal.Content>\n        </Modal>\n        \n    )\n}\n\n","import Search from './Search'\nimport SignUp from './SignUp'\nimport LogIn from './LogIn'\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport { Button } from 'semantic-ui-react'\n\nexport default function MainNav ({setBooksFromSearch, setUser, user, startIndex, setStartIndex}){\n\n    let history = useHistory()\n\n    function handleSignOut(){\n        history.push('/home')\n        setUser(null)\n    }\n\n    return(\n\n        <div className=\"main-nav\">\n\n            <ul>\n                <li className=\"logo\">\n                    <NavLink to=\"/\" style={{color:' #333'}}> \n                        <h1 className=\"logo-text\" >bookFun(d)</h1>\n                        {/* <h9 className=\"signed-in\">{user ? `signed in as ${user.username}`: \"not signed in\"} </h9>   */}\n                    </NavLink>\n                </li>\n                <li className= \"search-form\">\n                    <Search \n                    setBooksFromSearch={setBooksFromSearch}\n                    startIndex={startIndex}\n                    setStartIndex={setStartIndex}\n                    />\n                </li>\n                <div className = \"navLinks\">\n                    \n                        {/* {user ? null :<NavLink to=\"/signup\"> SignUp </NavLink> } */}\n                        {user ? null : <SignUp user={user} setUser={setUser}/> }\n                    \n                        \n                            {user ? null : <LogIn style={{color: 'inherit'}} user={user} setUser={setUser}/> }\n                        \n                    \n                        \n                            {user ? <Button> <NavLink style={{color: 'inherit'}} to=\"/userpage\">  My Page  </NavLink></Button> : null}\n                        \n\n                        \n                            {user ? <Button onClick={()=>handleSignOut()}>  Sign Out  </Button> : null}\n                        \n\n                        <Button>\n                            <NavLink style={{color: 'inherit'}} to=\"/\">  Home  </NavLink>\n                        </Button>\n                    \n                </div>\n                \n            </ul>\n        </div>\n    )\n\n}","import {Link} from 'react-router-dom'\nimport { Card, Image } from 'semantic-ui-react'\n\nexport default function BookCard({book}){\n    return(\n        <Card style={{textAlign: 'center'}}>\n            <Image \n                size='tiny' \n                src={ book.volumeInfo.imageLinks ? book.volumeInfo.imageLinks.thumbnail: null }wrapped ui={false} \n            />\n            <Card.Content>\n            <Card.Header>\n                {book.volumeInfo.title ? <Link to={`/bookpage/${book.id}`}>{book.volumeInfo.title.slice(0,50)} </Link> : null}\n            </Card.Header>\n            <Card.Description>\n                {book.volumeInfo.authors ? book.volumeInfo.authors[0].slice(0,50): null}\n            </Card.Description>\n            </Card.Content>\n        </Card>\n        )\n}\n\n","import BookCard from './BookCard'\nimport { Card, Button } from 'semantic-ui-react'\n\nexport default function BookIndex ({booksFromSearch, startIndex, setStartIndex}){\n\n    let booksMapped = []\n\n    if (booksFromSearch){\n         booksMapped = booksFromSearch.map(book=>{\n            return(\n                <BookCard book ={book}/>\n            )\n        })\n    }\n    \n    return (\n        <div className=\"book-index\" style={{marginTop:'100px'}}>\n            <Card.Group itemsPerRow={8}>\n                {booksMapped}  \n            </Card.Group>\n            <div className=\"buttons-combined\" style={{marginTop:'20px'}}>\n                <Button className=\"next-back-button\"  onClick={()=>setStartIndex(startIndex+8)}>Next</Button>\n                {startIndex > 0 ? <Button className=\"next-back-button\" onClick={()=>setStartIndex(startIndex-8)}>Back</Button>: null}\n            </div>     \n        </div>\n    )\n}","import {useState } from \"react\";\n\nexport default function SponsorForm({waitingsMapped, book, user, setUser, waitlistRequest, setWaitlistRequest, setBackEndBook, backEndBook, toggleSponsorForm, setToggleSponsorForm}){\n    \n\n    const[number, setNumber] = useState(0)\n\n\n    function handleSponsorSubmission(e){\n        e.preventDefault()\n\n        let confObj = {\n            method: 'PATCH',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({num_books_funded: e.target.number.value, sponsor_id: user.id })\n        }\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/waitings/sponsor/${book.id}`, confObj)\n        .then(response=>response.json())\n        .then(data=>{\n            setToggleSponsorForm(!toggleSponsorForm)\n            setWaitlistRequest(!waitlistRequest)\n        })\n   \n\n    }\n\n        return (\n            <form className=\"signup\" onSubmit={e=>handleSponsorSubmission(e)} >\n                <label>Number of copies I'd like to sponsor:</label>\n                    <input type=\"number\" name=\"number\" value={number} onChange={e=>setNumber(e.target.value)}/>\n                    {number > waitingsMapped.length ? (\n                        <p style={{ color: \"red\" }}>Please enter a number smaller than the waitlist total</p>\n                    ) : null}\n                    <input type=\"submit\" value=\"Sponsor\" className=\"button\"/>\n            </form>\n        )\n\n    }\n    ","import {useState } from \"react\";\nimport ReactStars from 'react-stars'\nimport { Button, Form } from 'semantic-ui-react'\n\nexport default function ReviewForm ({user, book, setSavedBooks, setWaitlistRequest, \n    waitlistRequest, waitListRequestAndStoreInDBRequest, backEndBook, setBackEndBook, storeInDB}){\n\n    \n    const [formState, setFormState] = useState({\n        text: \"\",\n        rating: 0\n    })\n\n    function handleChange(e){    \n        if (user){\n            storeInDB()\n            setFormState({\n                user_id: user.id, \n                book_id: book.id,\n                ...formState,\n                [e.target.name] : e.target.value\n            })\n        }\n        else{\n            debugger\n            setFormState({})\n            alert(\"Please sign in to leave a review.\")\n        }\n    }\n\n    function ratingChanged(e){\n         if (user){\n            storeInDB()\n            setFormState({\n                ...formState,\n                rating: e\n            })\n        }\n        else{\n            setFormState({})\n            alert(\"Please sign in to leave a rating.\")\n        }\n    }\n\n    function handleSubmit(e){\n        e.preventDefault()\n        if (formState.text.length < 100){\n            alert(\"Please leave a review with more than 100 characters.\")\n        }\n        if (formState.text.length > 100){\n            let confObj = {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify(formState),\n                }\n\n            fetch(`${process.env.REACT_APP_API_BASE_URL}/reviews`, confObj)\n            .then(data=>{\n                setWaitlistRequest(!waitlistRequest)\n                setBackEndBook(true)\n                fetch(`${process.env.REACT_APP_API_BASE_URL}/books`)\n                .then(response=>response.json())\n                .then(data=>{setSavedBooks(data)})\n            })\n            \n        }\n    }\n\n    return (\n    <div>\n        <h3>Leave A Review</h3>\n        <ReactStars\n            className=\"react-stars\"\n            count={5}\n            onChange={ratingChanged}\n            size={20}\n            color2={'#ffd700'} \n            value={formState.rating}\n            name=\"rating\"/>\n            \n        <Form reply onSubmit={e=>handleSubmit(e)}>\n            <Form.TextArea \n                value={formState.text}\n                name=\"text\"             \n                rows={3}\n                cols={25}\n                onChange={e=>handleChange(e)}/>\n            <Button type='submit' content='Add Review' labelPosition='left' icon='edit' primary />\n        </Form>\n        \n    </div> \n    )\n    \n}\n","import { useEffect, useState } from \"react\";\nimport { useParams, Link,  } from \"react-router-dom\";\nimport SponsorForm from './SponsorForm'\nimport ReviewForm from './ReviewForm'\nimport BookCard from '../BookIndex/BookCard'\nimport { Card, Button, Image } from 'semantic-ui-react'\nimport ReactStars from 'react-stars'\n\nexport default function BookPage({setSavedBooks, savedBooks, user, setUser, reviewLeft}){\n \n    const [book, setBook] = useState ({})\n    const [backEndBook, setBackEndBook] = useState(false)\n    const [waitlistRequest, setWaitlistRequest] = useState(false)\n    const [toggleSponsorForm, setToggleSponsorForm] = useState(false)\n    const [booksFromSearch, setBooksFromSearch] = useState([])\n    const params = useParams()\n    const [bookId, setBookId] = useState(0)\n    const[similarIndex, setSimilarIndex] = useState(0)\n    const [users, setUsers] = useState([])\n\n    let waitingsMapped = null\n    let waitingsFulfilledMapped = 0\n    let reviewsMapped = null\n    let booksMapped = []\n    let averageRating = 0\n    let sponsorsMapped=[]\n\n    function stripHtml(html){\n        let tmp = document.createElement(\"DIV\");\n        tmp.innerHTML = html;\n        return tmp.textContent || tmp.innerText || \"\";\n    }\n\n    useEffect(()=>{\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/books`)\n        .then(response=>response.json())\n        .then(data=>{\n            let foundBook = null\n            foundBook = data.find(book => book.api_id === params.id)\n            setBook(foundBook)\n\n            if (foundBook){\n                setBookId (foundBook.id)\n                setBackEndBook(true)\n            }\n            if (!foundBook){\n                fetch(`https://www.googleapis.com/books/v1/volumes/${params.id}`)\n                .then(response => response.json())\n                .then(data=>{\n                    let title = \"\"\n                    let subtitle = \"\"\n                    let authors = [\"\"]\n                    let publisher = \"\"\n                    let publishedDate = \"\"\n                    let description = \"\"\n                    let image_url = \"\"\n                    if (data.volumeInfo.title){\n                        title = data.volumeInfo.title\n                    }\n                    if (data.volumeInfo.authors){\n                        authors = data.volumeInfo.authors\n                    }\n                    if (data.volumeInfo.subtitle){\n                        subtitle = data.volumeInfo.subtitle\n                    }\n                    if (data.volumeInfo.publisher){\n                        publisher = data.volumeInfo.publisher\n                    }\n                    if (data.volumeInfo.publishedDate){\n                        publishedDate = data.volumeInfo.publishedDate\n                    }\n                    if (data.volumeInfo.description){\n                        description = data.volumeInfo.description\n                    }\n                    if (data.volumeInfo.imageLinks){\n                        image_url = data.volumeInfo.imageLinks.thumbnail\n                    }\n                    setBook({\n                        title: title, \n                        subtitle: subtitle, \n                        authors: authors.join(\", \"), \n                        publisher: publisher, \n                        publishedDate: publishedDate, \n                        description: stripHtml(description),\n                        image_url: image_url, \n                        api_id: data.id, \n                        waitings: [],\n                        reviews: []\n                    })\n                })\n            }\n        })\n\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/users`)\n        .then(response=>response.json())\n        .then(data=>setUsers(data))\n\n    },[waitlistRequest, backEndBook, params.id, bookId])\n\n    useEffect(()=>{\n        if (book){\n            if (book.title){\n                let searchTerms = book.title.split(\" \").pop()\n                fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchTerms}&maxResults=20`)\n                .then(response=>response.json())\n                .then(data=>{\n                    setBooksFromSearch(data.items)\n                })\n            }\n        }\n    },[book])\n\n    function storeInDB(){\n        if (user){\n            let confObj = {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(book),\n            }\n            fetch(`${process.env.REACT_APP_API_BASE_URL}/books`, confObj)\n            .then(response=>response.json())\n            .then(data=>{\n                setBook(data)\n                setBookId(data.id)\n                setBackEndBook(true)\n                setWaitlistRequest(!waitlistRequest)\n            })\n        }\n        else{\n            alert('Please sign in to leave a review.')\n        }\n    }\n\n\n   \n\n    function waitListRequestAndStoreInDBRequest (){\n        if (user){\n            let confObj = {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(book),\n            }\n            fetch(`${process.env.REACT_APP_API_BASE_URL}/books`, confObj)\n            .then(response=>response.json())\n            .then(data=>{\n                setBook(data)\n                setBookId(data.id)\n                let bookIdea = data.id\n                let confObj = {\n                    method: 'POST',\n                    headers: {\n                        'Content-Type': 'application/json',\n                    },\n                    body: JSON.stringify({user_id: user.id, book_id: bookIdea, fulfilled: false}),\n                }\n                fetch(`${process.env.REACT_APP_API_BASE_URL}/waitings`, confObj)\n                .then(response=>response.json())\n                .then(data=>{                  \n                    setBackEndBook(true)\n                    setWaitlistRequest(!waitlistRequest)\n                    if (data.error){\n                        alert(`${data.error}`)\n                    }\n                    // else{\n                    //     fetch(`${process.env.REACT_APP_API_BASE_URL}/books`)\n                    //     .then(response=>response.json())\n                    //     .then(data=>setSavedBooks(data))\n                    // }\n                })\n            })\n        }\n\n        else{\n            alert('Please sign in to join a waitlist.')\n        }\n    }\n\n    if (booksFromSearch.length > 0){\n         booksMapped = booksFromSearch.slice(similarIndex, similarIndex+3).map(book=>{\n            return(\n                <BookCard book = {book}/>\n            )\n        })\n    }\n   \n    \n\n    if (backEndBook === true && book){\n         if (users.length > 0){\n            let sponsorsFiltered = book.waitings.filter(waiting=>waiting.fulfilled===true)\n            let arr = []\n            sponsorsMapped = sponsorsFiltered.map(waiting=>{\n                let x = sponsorsFiltered.filter(wait=>wait.sponsor_id===waiting.sponsor_id).length\n\n                if (arr.find(elem=>elem===waiting.sponsor_id)){\n                    return null\n                }\n                else{\n                arr.push(waiting.sponsor_id)\n                    return(\n                    <li>\n                        <Image src={users.find(user=>user.id===waiting.sponsor_id).profile_pic  ? users.find(user=>user.id===waiting.sponsor_id).profile_pic : \"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\"} size='mini' circular />\n                        <Link to={`/otheruserpage/${waiting.sponsor_id}`}>\n                            {users.find(user=>user.id===waiting.sponsor_id).username} \n                        </Link>\n                        <div style={{float: 'right'}}> {x} {x === 1 ? \" copy\" : \"copies\"}</div>\n                    </li>)\n                }\n            })\n            sponsorsMapped = sponsorsMapped.filter(waiting=>waiting!==null)\n        }\n         \n        waitingsMapped = book.waitings.filter(waiting => waiting.fulfilled !== true).map(waiting=>{\n            return(\n            <li>\n                <Image src={waiting.user.profile_pic ? waiting.user.profile_pic : \"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\"} size='mini' circular />\n                <Link to={`/otheruserpage/${waiting.user.id}`}>\n                    {waiting.user.username} {waiting.user.eligible? \"(eligible)\": \"(ineligible)\"}\n                </Link>\n            </li>)\n        })\n        \n       \n        \n        waitingsFulfilledMapped = book.waitings.filter(waiting => waiting.fulfilled === true).map(waiting=>{\n            return(\n            <li>\n                <Image src={waiting.user.profile_pic ? waiting.user.profile_pic : \"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\"} size='mini' circular />\n                <Link to={`/otheruserpage/${waiting.user.id}`}>{waiting.user.username}</Link>\n            </li>)\n        })\n\n        reviewsMapped = book.reviews.map(review=>{  \n            \n            if (user){\n                let reducer = (accumulator, currentValue) => accumulator + currentValue;\n                averageRating = book.reviews.map(review=>review.rating).reduce(reducer)/book.reviews.length\n                return(\n                    <div className=\"review\">\n                        <Image src={review.user.profile_pic ? review.user.profile_pic : \"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\"} size='mini'  circular/>\n                        <Link to={`/otheruserpage/${review.user.id}`}>{review.user.username}</Link> \n                        <ReactStars\n                            className=\"react-stars\"\n                            count={5}\n                            value={review.rating}\n                            size={15}\n                            color2={'#ffd700'}\n                            edit={false}\n                            // style={{fontSize: '20px'}}\n                        />\n                        {review.text} \n                        {review.user.id === user.id ? <Button size='mini' id={review.id} onClick={e=>handleCommentDelete(e)}>Delete</Button> :null}\n                    </div>\n                )   \n            }\n            else{\n                let reducer = (accumulator, currentValue) => accumulator + currentValue;\n                averageRating = book.reviews.map(review=>review.rating).reduce(reducer)/book.reviews.length\n                return(\n                    <li>\n                        <div>\n                            <Image src={review.user.profile_pic ? review.user.profile_pic : \"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\"} size='mini' circular />\n                            <Link to={`/otheruserpage/${review.user.id}`}>{review.user.username}</Link> \n                            <ReactStars\n                                className=\"react-stars\"\n                                count={5}\n                                value={review.rating}\n                                size={15}\n                                color2={'#ffd700'}\n                                edit={false}\n                            />\n                        </div>\n                        {review.text} \n                    </li>\n                )   \n            }\n        })\n    }\n\n    function handleCommentDelete(e){\n        let reviewId = parseInt(e.target.id)\n        let confObj = {\n            method: 'DELETE',\n            headers: {\n                'Content-Type': 'application/json',\n            }\n        }\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/reviews/${reviewId}`, confObj)\n        .then(data=>setWaitlistRequest(!waitlistRequest))\n\n    }\n\n    function handleToggleRequest(){\n        if (user){\n            if (backEndBook){\n                setToggleSponsorForm(!toggleSponsorForm)\n            }\n            else{\n                alert(\"There is no one on the waitlist.\")\n            }\n        }\n        else{\n        alert(\"Please log in to Sponsor\")\n        }\n    }\n\n    function similarNext(){\n        if (similarIndex < booksFromSearch.length - 2){\n            setSimilarIndex(similarIndex+3)\n        }\n        else{\n            alert('No More Books to Display')\n        }\n    }\n\n    function similarBack(){\n        setSimilarIndex(similarIndex-3)\n    }\n\n    return(\n        <div className=\"bookpage\">\n            <div className=\"book-info\">\n                <div className=\"book-info-image\">\n                    <Image style={{margin: '40px', float:'right'}}size='small-medium'src={ book ? book.image_url: \"N/A\" }/>\n                </div>\n                <div className=\"book-info-info\">\n                    <h2 style={{marginBottom: '-15px'}}>{book? book.title: \"N/A\"}</h2>\n                    <h3>{book? book.subtitle: \"N/A\"}</h3>\n                    {reviewsMapped ? \n                        <ReactStars\n                            className=\"react-stars\"\n                            count={5}\n                            value={averageRating}\n                            size={20}\n                            color2={'#ffd700'}\n                            edit={false}\n                        />\n                    : null}\n                \n                        <b>by:</b> {book? book.authors: \"N/A\"} ({book? book.publishedDate: \"N/A\"})\n                    \n                        <br></br>\n                        <b>Publishing House:</b> {book? book.publisher: \"N/A\"}\n                        <br></br>\n                        \n                        <b>Description:</b> \n                        <p>\n                            {book? book.description: \"N/A\"} \n                        </p>\n                </div>\n\n\n            </div>\n            \n\n            { book ? \n            <>\n                <div className=\"reviews\">\n                    <h3>Reviews</h3>\n                    {backEndBook && reviewsMapped.length > 0 ? \n                        <ul className=\"reviewsUl\"> {reviewsMapped} </ul> \n                    : \"No one has reviewed this book yet. Be the first!\"} \n                    <ReviewForm \n                    storeInDB={storeInDB}\n                    user={user} \n                    book={book} \n                    waitlistRequest={waitlistRequest} \n                    setWaitlistRequest={setWaitlistRequest}\n                    backEndBook={backEndBook}\n                    setBackEndBook={setBackEndBook}\n                    setSavedBooks={setSavedBooks}\n                    waitListRequestAndStoreInDBRequest={waitListRequestAndStoreInDBRequest}\n                    toggleSponsorForm={toggleSponsorForm} \n                    setToggleSponsorForm={setToggleSponsorForm}/>\n                </div>\n\n                <div className=\"bookpage-recipients-list\">\n                    <h3  style={{textAlign: 'center'}}>Recipients</h3>\n                    {backEndBook && waitingsFulfilledMapped.length > 0 ? <ol> {waitingsFulfilledMapped}  </ol>: \"No one has received this book yet. Join the waitlist to be the first!\"}\n                        \n                </div>\n                <div className= \"bookpage-waiting-list\">\n                    <h3 style={{textAlign: 'center'}}>Waitlist</h3>\n                    <ol>{ backEndBook && waitingsMapped.length > 0 ? waitingsMapped: \"No one is currently waiting for this book. Be the first!\"} </ol>\n                    <Button className=\"waiting-button\" onClick={waitListRequestAndStoreInDBRequest}>Join the Waitlist</Button>\n\n                </div>\n                <div className= \"bookpage-sponsor-list\">\n                    <h3 style={{textAlign: 'center'}}>Sponsors</h3>\n                    <ol>{ backEndBook && sponsorsMapped.length > 0 ? sponsorsMapped: \"No one has sponsored this book yet.  Be the first!\"} </ol>\n                    <Button onClick={handleToggleRequest}> Sponsor this Book</Button>\n                        {toggleSponsorForm ? \n                            <SponsorForm \n                                waitingsMapped={waitingsMapped} \n                                book={book} \n                                user={user}\n                                setUser={setUser}\n                                waitlistRequest={waitlistRequest}\n                                setWaitlistRequest={setWaitlistRequest}\n                                setBackEndBook={setBackEndBook}\n                                backEndBook={backEndBook}\n                                setToggleSponsorForm={setToggleSponsorForm}\n                                toggleSponsorForm={ toggleSponsorForm}\n                            /> \n                        : null}\n                </div>\n                </>\n            : null\n            }\n            <div className = \"similar-books\">\n                <h3>Similar Books</h3>\n                {booksFromSearch.length > 0 ? \n                    <Card.Group itemsPerRow={3}>\n                        {booksMapped}  \n                    </Card.Group>\n                : null}\n                \n                <div className=\"buttons-combined\">\n                    <Button className=\"next-back-button\" onClick={()=>similarNext(similarIndex+3)}>See More</Button>\n                    {similarIndex > 0 ? <Button className=\"next-back-button\" onClick={()=>similarBack(similarIndex+3)}>Go Back</Button>: null}\n                </div>\n            </div>\n            \n        </div>\n    )\n\n}\n\n\n\n\n\n\n\n\n\n\n","import { Link } from 'react-router-dom'\nimport { Card, Image } from 'semantic-ui-react'\n\nexport default function BackendBookCard({book, style}){\n    if (book){\n        return(\n            <Card style={{textAlign: 'center', style}}>\n                <Image size=\"small\" src={ book.image_url ? book.image_url: null }wrapped ui={false} />\n                <Card.Content>\n                <Card.Header>\n                    {book.title ? <Link to={`/bookpage/${book.api_id}`}>{book.title.slice(0,50)} </Link>:null}\n                </Card.Header>\n                <Card.Meta>\n                    {book.subtitle? book.subtitle.slice(0,50): null}\n                </Card.Meta>\n                <Card.Description>\n                    <span className='date'>{book.authors ? book.authors: null}</span>\n                </Card.Description>\n                </Card.Content>\n            </Card>\n        )\n    }\n    else{\n        return (null)\n    }\n    \n}","import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport BackEndBookCard from '../BookIndex/BackEndBookCard'\nimport { Card, Button, Image, Icon} from 'semantic-ui-react'\n\nexport default function Home(){\n\n    const[books,setBooks] = useState([])\n    const[backEndWaitings, setBackEndWaitings] = useState([])\n    const[users, setUsers] = useState([])\n    const[index, setIndex] = useState(0)\n\n    let waitings = []\n    let waitingsMapped = []\n    let sponsorsMapped = []\n    let topReaders = []\n    let topReadersMapped = []\n    // console.log(process.env.REACT_APP_API_BASE_URL)\n    useEffect(()=>{\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/books`)\n        .then(response=>response.json())\n        .then(data=>{setBooks(data)})\n\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/users`)\n        .then(response=>response.json())\n        .then(data=>{setUsers(data)})\n        \n        fetch(`${process.env.REACT_APP_API_BASE_URL}/waitings`)\n        .then(response=>response.json())\n        .then(data=>{setBackEndWaitings(data)})\n    },[])\n\n     if (books.length > 0){\n        for(let i=0; i< books.length; i++){\n            let waitingsFulFilled = books[i].waitings.filter(waitings=>waitings.fulfilled!==false).length\n            waitings.push({[waitingsFulFilled]:books[i]})\n        }\n        waitings.sort(function (a, b){\n            return Object.keys(b)[0] - Object.keys(a)[0]\n        })\n        waitingsMapped = waitings.slice(index, (index+8)).map(waiting=>{\n            return (<BackEndBookCard book = {Object.values(waiting)[0]}/>)\n        })\n    }\n\n    if (backEndWaitings.length > 0){ \n        let sponsoredWaitings = backEndWaitings.filter(waiting=>waiting.fulfilled===true)\n        let sponsorAOH=[]\n        for (let i=0;i<users.length;i++){\n            let userSponsors = sponsoredWaitings.filter(waiting=>waiting.sponsor_id===users[i].id)\n            sponsorAOH.push({[userSponsors.length]:users[i]})\n        }\n        let x = sponsorAOH.sort(function (a, b){\n            return Object.keys(b)[0] - Object.keys(a)[0]\n        })\n        sponsorsMapped = x.slice(0,3).map(sponsor=>{\n            return( \n                    <Card>\n                        <Card.Header><Link to={`/otheruserpage/${Object.values(sponsor)[0].id}`} > <h4 style={{textAlign:'center'}}>{Object.values(sponsor)[0].username}</h4> </Link></Card.Header>\n                            <Card.Content style={{textAlign:'center'}}>\n                                <Image style={{margin:'auto'}} src={Object.values(sponsor)[0].profile_pic? Object.values(sponsor)[0].profile_pic: \"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\"} size='small' circular />\n                            </Card.Content>\n                            <Card.Content extra>\n                            <Icon name='user' />\n                                {Object.keys(sponsor)[0]} sponsors\n                            </Card.Content>\n                    </Card>\n\n                    \n                    \n                \n\n                )\n        })\n    }\n    if (users.length > 0){\n       topReaders = users.sort(function (a, b){\n            return   (b.waitings.filter(waiting=>waiting.fulfilled===true).length) - (a.waitings.filter(waiting=>waiting.fulfilled===true).length) \n        })  \n        topReadersMapped = topReaders.slice(0,3).map(reader=>{\n            return( \n                    <Card>\n                        <Card.Header><Link to={`/otheruserpage/${reader.id}`}> <h4 style={{textAlign:'center'}}>{reader.username} </h4></Link></Card.Header>\n                        <Card.Content style={{textAlign:'center'}}>\n                            <Image src={reader.profile_pic ? reader.profile_pic : \"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\"} size='small' circular />\n                        </Card.Content>\n                            <Card.Content extra>\n                            <Icon name='book' />\n                             {reader.waitings.filter(waiting=>waiting.fulfilled===true).length } Books Read\n                        </Card.Content>\n                    </Card>\n                )\n        })\n        \n    }\n    \n    return(\n        <>\n            <div className=\"home-info\">\n                <h2 className=\"who\">\n                    Who we are\n                    \n                </h2>\n                <p style={{fontSize: '15px'}}>\n                    If you've ever read an impactful book that you'd like to share with others, BookFund is the place for you!\n                    <br></br>\n                    BookFund is a simple way for users to sponsor books they love and share the knowledge with others. \n                    <br></br>\n                    Users can sign up for a book via a waitlist to receive the next sponsored copy of that book. After receiving a book, users must publish a review of the book on the site, as well as enter a two week wait period before they are eligible to receive their next book.\n                </p>\n            </div>\n\n                <h2 className=\"pop\" >Popular Now</h2>\n            <div className=\"popular-now\">\n                {waitingsMapped.length >0 ? \n                <Card.Group itemsPerRow={8}>\n                    {waitingsMapped}  \n                </Card.Group>\n                :null} \n\n            </div>\n                <div className=\"buttons-combined\">\n                    <Button className=\"next-back-button\"  onClick={()=>setIndex(index+8)}>Next</Button>\n                    {index > 0 ? <Button className=\"next-back-button\" onClick={()=>setIndex(index-8)}>Back</Button>: null}\n                </div>\n            <div style={{display:'flex',marginTop: '50px'}}className=\"bottom-home\">\n                 <div className=\"top-readers-home\">\n\n                    <h4>Top Readers:</h4>\n                    <Card.Group itemsPerRow={3}>\n                        {topReadersMapped.length>0 ? topReadersMapped :null}\n                    </Card.Group>\n                </div>\n\n                <div className=\"top-sponsors-home\">\n                    <h4>Top Sponsors:</h4>\n                    <Card.Group itemsPerRow={3}>\n                        {sponsorsMapped.length>0 ? sponsorsMapped :null}\n                    </Card.Group>\n                </div>                                                \n            </div>\n        </>\n    )\n}","import React, {useState, useRef, useEffect} from 'react'\n\n \nconst Timer = ({mostRecent, timeLeft, setTimeLeft, displayTimer, setDisplayTimerTwo, reviewLeft })=>{\n    // console.log('timer')\n    // console.log('reviewleft:', reviewLeft)\n    // console.log('timeleft:', timeLeft)\n    // console.log('mostRecent!== null:', (mostRecent!== null))\n\n    const [timerDays, setTimerDays] = useState(0)\n    const [timerHours, setTimerHours] = useState(0)\n    const [timerMinutes, setTimerMinutes] = useState(0)\n    const [timerSeconds, setTimerSeconds] = useState(0)\n\n\n    let interval = useRef()\n\n    const startTimer = () => {\n\n        // const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+1209600000)\n        const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+60000)\n\n   \n        interval = setInterval(()=>{\n            const now = new Date().getTime()\n            const timeRemaining = countDownDate - now\n\n            const days = Math.floor(timeRemaining / (1000 * 60 * 60 *24))\n            const hours = Math.floor((timeRemaining % (1000 * 60 * 60 *24) / (1000*60*60)))\n            const minutes = Math.floor((timeRemaining % (1000 * 60 * 60) / (1000 * 60)))\n            const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000)\n            \n            if (timeRemaining < 0){\n                // debugger\n                setTimeLeft(false)\n                clearInterval(interval.current)\n                displayTimer = false\n                setDisplayTimerTwo(false)\n            }\n            else{\n                //update timer\n                setTimerDays(days)\n                setTimerHours(hours)\n                setTimerMinutes(minutes)\n                setTimerSeconds(seconds)\n            }\n\n        }, 1000)\n    }\n\n    useEffect(()=>{\n        let current = interval.current\n        startTimer()\n        return()=>{\n            clearInterval(current)\n        }\n    })\n    \n    return (\n        \n\n        <div class=\"container\">\n            <h1 id=\"headline\">Countdown until your next book:</h1>\n                <div id=\"countdown\">\n                    <ul>\n                        <li><span id=\"numbers\">{timerDays}</span>days</li>\n                        <li><span id=\"numbers\">{timerHours}</span>Hours</li>\n                        <li><span id=\"numbers\">{timerMinutes}</span>Minutes</li>\n                        <li><span id=\"numbers\">{timerSeconds} </span>Seconds</li>\n                    </ul>\n                </div>\n          </div>\n         \n    )\n}\n\nexport default Timer\n\n\n\n ","import { Card, Button } from 'semantic-ui-react'\nimport BackEndBookCard from '../BookIndex/BackEndBookCard'\nimport React, { useState } from \"react\"\n\nexport default function SponsorList({allWaitings, user, savedBooks}){\n    \n    let sponsoredWaitings = []\n    let sponsoredMapped = []\n\n    const [sponsoredIndex, setSponsoredIndex] = useState(0)\n\n    if (allWaitings.length > 0){\n        sponsoredWaitings = allWaitings.filter(waiting=>waiting.sponsor_id === user.id)\n        if (sponsoredWaitings.length > 0){\n            let arrTwo = []\n            arrTwo.push(sponsoredWaitings[0])\n            for (let i=1;i < sponsoredWaitings.length;i++){\n                if (arrTwo.find(elem=>elem.book_id===sponsoredWaitings[i].book_id))\n                {\n                    \n                }\n                else{\n                    arrTwo.push(sponsoredWaitings[i])\n                }\n            }\n            sponsoredMapped = arrTwo.map(waiting=>{ //create JSX of books\n                return (<BackEndBookCard book={savedBooks.find(savedBook => savedBook.id === waiting.book_id)}/>)\n            })\n            console.log(sponsoredMapped)\n        }\n    }    \n    return (\n            <>\n                <div className=\"userpage-book-display\">\n                    <Card.Group itemsPerRow={8}>\n                        {sponsoredMapped.slice(sponsoredIndex, sponsoredIndex+8)}  \n                    </Card.Group>\n                </div>\n\n                <Button className=\"next-back-button\"  onClick={()=>setSponsoredIndex(sponsoredIndex+8)}>Next</Button>\n                {sponsoredIndex > 0 ? <Button className=\"next-back-button\"  onClick={()=>setSponsoredIndex(sponsoredIndex-8)}>Back</Button> : null}\n            </>\n            )\n}","import React, { useState } from \"react\"\nimport { Card, Button } from 'semantic-ui-react'\nimport BackEndBookCard from '../BookIndex/BackEndBookCard'\n\nexport default function WaitList({waitlistMapped, user, savedBooks}){\n    const [waitlistIndex, setWaitlistIndex] = useState(0)\n\n    let waitingsMapped = []\n\n     //get all unfulfilled waitings for a user\n    let waitingsUnfulfilled = user.waitings.filter(waiting=>waiting.fulfilled!==true)\n    for(let i=0;i<waitingsUnfulfilled.length;i++){\n        waitingsMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsUnfulfilled[i].book_id))\n    } \n    if (waitingsMapped.length > 0){\n        waitlistMapped = waitingsMapped.map(waiting=>{ //create JSX of books\n            return (<BackEndBookCard book={waiting}/>)\n        })\n    }       \n\n    function handleNextClick(){\n        if (waitlistIndex < waitlistMapped.length){\n            if (waitlistMapped.length - waitlistIndex > 8){\n                setWaitlistIndex(waitlistIndex+8)\n            }\n            else{\n            setWaitlistIndex(0)\n            }\n        }\n    }\n    if (waitingsMapped.length > 0 ){\n        return(\n        <>\n            <div className=\"userpage-book-display\">\n                <Card.Group itemsPerRow={8}>\n                    {waitlistMapped.slice(waitlistIndex, waitlistIndex+8)}  \n                </Card.Group>\n            </div>\n            <Button className=\"next-back-button\"  onClick={handleNextClick}>Next</Button>\n            {waitlistIndex > 0 ? <Button className=\"next-back-button\"  onClick={()=>setWaitlistIndex(waitlistIndex-8)}>Back</Button>: null}\n        </>\n        ) \n    }    \n    else{\n        return null\n    }\n    \n}","import { Card, Button } from 'semantic-ui-react'\nimport React, { useState } from \"react\"\nimport BackEndBookCard from '../BookIndex/BackEndBookCard'\n\n\n\nexport default function ReceivedList({savedBooks, waitingsFulFilledMapped, waitlistMapped}){\n\n    const [index, setIndex] = useState(0)\n    let receivedMapped = null\n\n     if (savedBooks.length > 0){\n        receivedMapped = waitingsFulFilledMapped.map(waiting=>{ //create JSX of books\n            return (<BackEndBookCard book={waiting}/>)\n        })\n    }\n\n    function handleNextClick(){\n        if (index < waitlistMapped.length){\n            if (waitlistMapped.length - index > 8){\n                setIndex(index+8)\n            }\n            else{\n            setIndex(0)\n            }\n        }\n    }\n\n\n    return (\n        <>\n            <div className=\"userpage-book-display\">\n                <Card.Group itemsPerRow={8}>\n                    {receivedMapped.slice(index, index+8)}  \n                </Card.Group>\n            </div>\n            <Button className=\"next-back-button\"  onClick={()=>handleNextClick(index+8)}>Next</Button>\n            {index > 0 ? <Button className=\"next-back-button\"  onClick={()=>setIndex(index-8)}>Back</Button>: null}\n        </>\n    )\n}","import { Button } from 'semantic-ui-react'\nimport React, { useState, useEffect } from \"react\"\nimport { Redirect } from \"react-router-dom\";\nimport Timer from './Timer'\nimport BackEndBookCard from '../BookIndex/BackEndBookCard'\nimport { Image, Form } from 'semantic-ui-react'\nimport SponsorList from './SponsorList'\nimport WaitList from \"./WaitList\";\nimport ReceivedList from './ReceivedList'\n\nexport default function UserPage({user, savedBooks, timeLeft, setTimeLeft, reviewLeft, setReviewLeft}){\n\n    let waitingsFulFilledMapped = []\n    let mostRecent = {}\n    let foundBook = null\n    let foundReview = null\n    let waitlistMapped = 0\n    let displayTimer = false\n    \n    const [allWaitings, setAllWaitings] = useState([])\n    const [displayTimerTwo, setDisplayTimerTwo] = useState(true)\n    const [editInfo] = useState(false)\n    const [formState, setFormState] = useState({})\n\n    \n    useEffect(()=>{\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/waitings`)\n    .then(response=>response.json())\n    .then(data=>setAllWaitings(data))\n    },[])\n\n    function handleChange(e){\n        console.log(e)\n        setFormState({\n            ...formState,\n            [e.target.name]: e.target.value\n        })   \n    }\n\n    function handleImage (e){\n        e.persist()\n        setFormState({\n            ...formState,\n            [e.target.name]: e.target.files[0]\n        })\n    }\n\n    function handleSubmit(e){\n        e.preventDefault()\n        const form = new FormData()\n\n        if (!(formState.username)){\n            alert('Please enter a username.')\n        }\n\n        form.append(\"profile_pic\", formState.profile_pic)\n        form.append(\"username\", formState.username)\n        form.append(\"name\", formState.name)\n        form.append(\"bio\", formState.bio)\n        form.append(\"email\", formState.email)\n    \n    }\n    \n    if (user){ \n        if (user.waitings.length < 1){\n            // console.log(`setTimeLeft(false)`)\n            setTimeLeft(false)\n            setReviewLeft(true)\n        }\n\n        let waitingsFulfilled = user.waitings.filter(waiting=>waiting.fulfilled===true) //get all fulfilled waitings for a user\n        for(let i = 0;i < waitingsFulfilled.length; i++){\n            waitingsFulFilledMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsFulfilled[i].book_id)) //create an array of those books by comparing to saved books\n        } \n        \n        if (waitingsFulfilled.length < 1){\n             setReviewLeft(true)\n        }\n        \n        if (waitingsFulfilled.length > 0){\n            mostRecent = (waitingsFulfilled.sort(function (a, b){ // find most recent received\n                return b.id - a.id\n            })[0])\n            if (Object.keys(mostRecent).length !== 0){ // if theres not most recent book\n                //check mostRecent.waiting date. if no time left between creation and future deadline, setTimeLeft(false), and vice versa\n                let creationDate = new Date(parseInt(mostRecent.sponsor_date)+60000).getTime()\n                let now = new Date().getTime()\n\n                if (now < creationDate){ // wait period has not passed\n                    displayTimer = true\n                }\n                else\n                {\n                    displayTimer = false\n                    console.log(`setTimeLeft(false)`)\n                    setTimeLeft(false)\n                }\n\n            }\n                foundBook = savedBooks.find(book=>book.id===mostRecent.book_id) // find most recently received book based on most recent waiting\n                if (foundBook){\n                    foundReview = foundBook.reviews.find(review=>review.user.id===user.id) // check if they left a review on it\n                    if (foundReview){\n                        setReviewLeft(true)\n                    }\n                    else{\n                        setReviewLeft(false) //if book was found without a review\n                    }\n                    \n                }\n                else{ // if no book is on received list\n                    setReviewLeft(true)\n                }\n        }\n         \n\n    }\n    if (user){\n\n        return(\n        <div className=\"userpage\"> \n\n        <div className=\"userpage-top-half\">\n\n             <div className=\"userpage-eligibility-info\" style={{float:'left'}}>\n                { displayTimer && displayTimerTwo ?\n                <Timer \n                    mostRecent={mostRecent}\n                    timeLeft={timeLeft} \n                    setTimeLeft={setTimeLeft}\n                    displayTimer={displayTimer}\n                    setDisplayTimerTwo={setDisplayTimerTwo}\n                    reviewLeft={reviewLeft}\n                />\n            : null}\n                {displayTimer === false && reviewLeft === true ? <h3>Looks like you're eligible for your next book!</h3> : null}\n                {reviewLeft === false && mostRecent!== null && (user.waitings.length > 0) ? (<div style={{margin:'auto'}} > <h3 >Please leave a review for</h3> <div style={{margin:'auto'}}><BackEndBookCard book={foundBook} style={{margin:'auto'}}/></div> </div>): null}\n            </div>\n            <div className=\"userpage-user-info\"  >\n                <h3>Profile</h3>\n                <Image src={user.profile_pic ? user.profile_pic : null} size=\"small\" circular style={{float:'left'}}/>\n                    {editInfo ? null :\n                    <div style={{float:'left', marginLeft: '50px'}}>\n                        <h4 style={{display:'inline'}}>Name: </h4>{user.name !== \"undefined\"? user.name : null}\n                        <br></br>\n                        <br></br>\n                        <h4 style={{display:'inline'}}>Email: </h4>{user.email !== \"undefined\" ?  user.email : null}\n                        <br></br>\n                        <br></br>\n                        <h4 style={{display:'inline'}}>Username: </h4>{user.username !== \"undefined\" ? user.username : null }\n                        <br></br>\n                        <br></br>\n                        <h4 style={{display:'inline'}}>Bio: </h4>{user.bio !== \"undefined\" ? user.bio : null}\n                    </div>\n                }\n\n                {editInfo ? \n                <div style={{float:'left', marginLeft: '50px'}}>\n                     <Form onSubmit={(e)=>handleSubmit(e)}>\n                        <Form.Field>\n                            <label>Name</label>\n                            <input placeholder='Name' name=\"name\" onChange={(e)=>handleChange(e)}/>\n                        </Form.Field>\n                        <Form.Field>\n                            <label>Username</label>\n                            <input placeholder='Username' name=\"username\" onChange={(e)=>handleChange(e)}/>\n                        </Form.Field>\n                        <Form.Field>\n                            <label>Email</label>\n                            <input placeholder='Email' name=\"email\" onChange={(e)=>handleChange(e)}/>\n                        </Form.Field>\n                        <Form.Field>\n                            <label>Password</label>\n                            <input placeholder='Password' type=\"password\" />\n                        </Form.Field>\n                        <Form.Field >\n                            <label>Bio</label>\n                            <input placeholder='Bio' name=\"bio\" onChange={(e)=>handleChange(e)}/>\n                        </Form.Field>\n                        <Form.Input \n                        type=\"file\" \n                        name=\"profile_pic\" \n                        fluid label='Image Upload' \n                        onChange={(e)=>handleImage(e)} \n                        />\n                    <Button type='submit' style={{float:'right', marginBottom: '10px'}}>Sign Up</Button>\n                    </Form>   \n                </div>\n                    \n                : null}\n\n                {/* <Button style={{float:'right', marginRight: '50px'}} onClick={()=>setEditInfo(!editInfo)}> Edit Profile Info </Button> */}\n            \n            </div>\n\n                \n\n\n\n\n\n                    \n        \n        \n        </div>\n                <h3 className=\"pop\">Waitlist</h3>\n        \n                <WaitList\n                waitlistMapped={waitlistMapped}\n                user={user}\n                savedBooks={savedBooks}/>\n\n\n                <h3 className=\"pop\">Received</h3>\n                {waitingsFulFilledMapped.length > 0 ? \n                    <ReceivedList\n                    waitingsFulFilledMapped={waitingsFulFilledMapped}\n                    savedBooks={savedBooks}\n                    waitlistMapped={waitlistMapped}/>\n                :null}\n\n\n                <h3 className=\"pop\">Sponsored</h3>\n                <SponsorList\n                allWaitings={allWaitings}\n                savedBooks={savedBooks}\n                user={user}/>\n            </div>\n        )\n\n    }\n    else{\n        return <>\n        Error. Please try again\n            <Redirect to =\"/bookindex\"/>\n        </>\n    }\n}\n\n\n","import React, { useEffect, useState } from \"react\"\nimport BackEndBookCard from '../BookIndex/BackEndBookCard'\nimport {  useParams } from \"react-router-dom\";\nimport { Card, Button, Image } from 'semantic-ui-react'\n\n\n\nexport default function OtherUserPage({savedBooks, timeLeft, setTimeLeft, reviewLeft, setReviewLeft}){\n\n    let waitingsMapped = []\n    let waitingsFulFilledMapped = []\n    let mostRecent = {}\n    let foundBook = null\n    let foundReview = null\n    let receivedMapped = null\n    let waitlistMapped = null\n    let sponsoredWaitings = []\n    let sponsoredMapped = []\n    \n    const [allWaitings, setAllWaitings] = useState([])\n    const [index, setIndex] = useState(0)\n    const [waitlistIndex, setWaitlistIndex] = useState(0)\n    const [sponsoredIndex, setSponsoredIndex] = useState(0)\n    const [user, setUser] = useState(null)\n    const params = useParams()\n\n    useEffect(()=>{\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${params.id}`)\n        .then(response => response.json())\n        .then(data=>setUser(data))  \n    },[params.id])\n    \n\n    useEffect(()=>{\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/waitings`)\n    .then(response=>response.json())\n    .then(data=> setAllWaitings(data))\n    },[])\n    \n    if (user){ \n        if (user.waitings.length < 1){\n            console.log(`setTimeLeft(false)`)\n             setTimeLeft(false)\n             setReviewLeft(true)\n        }\n\n        let waitingsUnfulfilled = user.waitings.filter(waiting=>waiting.fulfilled!==true)//get all unfulfilled waitings for a user\n        for(let i=0;i<waitingsUnfulfilled.length;i++){\n            waitingsMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsUnfulfilled[i].book_id))//create an array of those books by comparing to saved books\n        } \n        if (waitingsMapped.length > 0){\n            waitlistMapped = waitingsMapped.map(waiting=>{ //create JSX of books\n                return (<BackEndBookCard book={waiting}/>)\n            })\n        }\n        if (allWaitings.length > 0){\n            sponsoredWaitings = allWaitings.filter(waiting=>waiting.sponsor_id === user.id)\n\n            \n            if (sponsoredWaitings.length > 0){\n                let arrTwo = []\n                arrTwo.push(sponsoredWaitings[0])\n                for (let i=1;i < sponsoredWaitings.length;i++){\n                    if (arrTwo.find(elem=>elem.book_id===sponsoredWaitings[i].book_id))\n                    {\n                        \n                    }\n                    else{\n                        arrTwo.push(sponsoredWaitings[i])\n                    }\n                    \n                }\n\n                sponsoredMapped = arrTwo.map(waiting=>{ //create JSX of books\n                    return (<BackEndBookCard book={savedBooks.find(savedBook => savedBook.id === waiting.book_id)}/>)\n                })\n            }\n            }        \n\n\n        let waitingsFulfilled = user.waitings.filter(waiting=>waiting.fulfilled===true) //get all fulfilled waitings for a user\n        for(let i=0;i<waitingsFulfilled.length;i++){\n            waitingsFulFilledMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsFulfilled[i].book_id)) //create an array of those books by comparing to saved books\n        } \n        \n        if (waitingsFulfilled.length < 1){\n             setReviewLeft(true)\n         }\n\n\n\n        if (savedBooks.length > 0){\n            receivedMapped = waitingsFulFilledMapped.map(waiting=>{ //create JSX of books\n                return (<BackEndBookCard book={waiting}/>)\n            })\n        }\n        \n        \n        if (waitingsFulfilled.length > 0){\n            mostRecent = (waitingsFulfilled.sort(function (a, b){ // find most recent received\n                return b.id - a.id\n            })[0])\n            if (Object.keys(mostRecent).length !== 0){ // if theres not most recent book\n                \n                //check mostRecent.waiting date. if no time left between creation and future deadline, setTimeLeft(false), and vice versa\n                let creationDate = new Date(parseInt(mostRecent.sponsor_date)+60000).getTime()\n                let now = new Date().getTime()\n\n                if (now < creationDate){ // wait period has not passed\n                }\n                else\n                {\n\n                    console.log(`setTimeLeft(false)`)\n                    setTimeLeft(false)\n                }\n\n            }\n                foundBook = savedBooks.find(book=>book.id===mostRecent.book_id) // find most recently received book based on most recent waiting\n                if (foundBook){\n                    foundReview = foundBook.reviews.find(review=>review.user.id===user.id) // check if they left a review on it\n                    if (foundReview){\n                        setReviewLeft(true)\n                    }\n                    else{\n                        setReviewLeft(false) //if book was found without a review\n                    }\n                    \n                }\n                else{ // if no book is on received list\n                    setReviewLeft(true)\n                }\n        } \n    }\n    \n    function handleNextClick(){\n        if (waitlistIndex < waitlistMapped.length){\n            if (waitlistMapped.length - waitlistIndex > 8){\n                setWaitlistIndex(waitlistIndex+8)\n            }\n            else{\n            setWaitlistIndex(0)\n            }\n        }\n    }\n\n    if (user){\n        // console.log('timeleft:', timeLeft)\n        // console.log('reviewleft:', reviewLeft)\n        console.log('eligibilty:', user.eligible)\n        return(\n        <div className=\"userpage\"> \n\n        <div className=\"userpage-top-half\">\n\n             <div className=\"userpage-eligibility-info\" style={{float:'left'}}>\n\n                {user.eligible? <h3>Looks like {user.username} is eligible for their next book!</h3> : <h3>Looks like {user.username} needs to wait two weeks or leave a review to be eligible for their next book!</h3>}\n                {/* {reviewLeft === false && mostRecent!== null && (user.waitings.length > 0) ? (<div style={{margin:'auto'}} > <h3 >Please leave a review for</h3> <div style={{margin:'auto'}}><BackEndBookCard book={foundBook} style={{margin:'auto'}}/></div> </div>): null} */}\n            </div>\n\n                <div className=\"userpage-user-info\">\n                    <h3>Profile</h3>\n                    <Image src={user.profile_pic ? user.profile_pic : null} size=\"small\" circular style={{float:'left'}}/>\n                    <div style={{float:'left', marginLeft: '50px'}}>\n                        <h4 style={{display:'inline'}}>Name: </h4>{user.name ? user.name : null}\n                        <br></br>\n                        <br></br>\n                        <h4 style={{display:'inline'}}>Email: </h4>{user.email ?  user.email : null}\n                        <br></br>\n                        <br></br>\n                        <h4 style={{display:'inline'}}>Username: </h4>{user.username ? user.username : null }\n                        <br></br>\n                        <br></br>\n                        <h4 style={{display:'inline'}}>Bio: </h4>{user.bio ? user.bio : null}\n                    </div>\n                    \n                </div>\n                \n\n        </div>\n           \n\n                <h3 className=\"pop\">Waitlist</h3>\n                {waitingsMapped.length > 0 ? \n                    <>\n                        <div className=\"userpage-book-display\">\n                            <Card.Group itemsPerRow={8}>\n                                {waitlistMapped.slice(waitlistIndex, waitlistIndex+8)}  \n                            </Card.Group>\n                        </div>\n                        <Button className=\"next-back-button\"  onClick={handleNextClick}>Next</Button>\n                        {waitlistIndex > 0 ? <Button className=\"next-back-button\"  onClick={()=>setIndex(waitlistIndex-8)}>Back</Button>: null}\n                    </>\n                :null}\n\n                <h3 className=\"pop\">Received</h3>\n                {waitingsFulFilledMapped.length > 0 ? \n                    <>\n                        <div className=\"userpage-book-display\">\n                            <Card.Group itemsPerRow={8}>\n                                {receivedMapped.slice(index, index+8)}  \n                            </Card.Group>\n                        </div>\n                        <Button className=\"next-back-button\"  onClick={()=>setIndex(index+8)}>Next</Button>\n                        {index > 0 ? <Button className=\"next-back-button\"  onClick={()=>setIndex(index-8)}>Back</Button>: null}\n                    </>\n                :null}\n\n\n                <h3 className=\"pop\">Sponsored</h3>\n                {sponsoredMapped.length > 0 ?\n                    <>\n                        <div className=\"userpage-book-display\">\n                            <Card.Group itemsPerRow={8}>\n                                {sponsoredMapped.slice(sponsoredIndex, sponsoredIndex+8)}  \n                            </Card.Group>\n                        </div>\n                        <Button className=\"next-back-button\"  onClick={()=>setSponsoredIndex(sponsoredIndex+8)}>Next</Button>\n                        {sponsoredIndex > 0 ? <Button className=\"next-back-button\"  onClick={()=>setSponsoredIndex(sponsoredIndex-8)}>Back</Button>: null}\n                    </>\n                :null}\n\n            </div>\n        )\n\n    }\n    else{\n        return <>\n        Loading\n        \n        </>\n    }\n}\n\n\n// export default function OtherUserPage({savedBooks}){\n\n//     const [otherUser, setOtherUser] = useState(null)\n\n//     const params = useParams()\n//     let waitingsMapped = []\n//     let waitlistMapped = []\n    \n\n//     useEffect(()=>{\n//         fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${params.id}`)\n//         .then(response => response.json())\n//         .then(data=>setOtherUser(data))  \n//     },[])\n\n\n//     if (otherUser && savedBooks.length > 0){  \n\n//         let waitingsUnfulfilled = otherUser.waitings.filter(waiting=>waiting.fulfilled!==true)\n//         for(let i=0;i<waitingsUnfulfilled.length;i++){\n//         waitingsMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsUnfulfilled[i].book_id))\n//         } \n//         waitlistMapped = waitingsMapped.map(waiting=>{\n//             return (<BackEndBookCard book={waiting}/>)\n//         })\n \n//         return(\n//             <div> \n//                 <img src={otherUser.profile_pic ? otherUser.profile_pic : null}></img>\n//                 <p>name: {otherUser.name ? otherUser.name : null}</p>\n//                 <p>email: {otherUser.email ? otherUser.email : null}</p>\n//                 <p>username: {otherUser.username ? otherUser.username : null }</p>\n//                 <p>bio: {otherUser.bio ? otherUser.bio : null}</p>\n//                 <p>waitlist:</p>\n//                 <ul>{waitingsMapped.length > 0 ? waitlistMapped:null}</ul>\n//             </div>\n//         )\n//     }\n    \n//     else{\n//         return <p>loading</p>\n//     }\n// }\n","import {Route, Switch, Redirect} from 'react-router-dom'\nimport './App.css';\nimport 'semantic-ui-css/semantic.min.css'\nimport MainNav from './components/pages/MainNav/MainNav'\nimport React, { useEffect, useState } from \"react\"\nimport BookIndex from './components/pages/BookIndex/BookIndex'\nimport BookPage from './components/pages/BookPage/BookPage'\nimport Home from './components/pages/Home/Home'\nimport UserPage from './components/pages/UserPage/UserPage'\nimport OtherUserPage from './components/pages/OtherUserPage/OtherUserPage'\n\nfunction App() {\n\n  const [booksFromSearch, setBooksFromSearch] = useState([])\n  const [user, setUser] = useState(null)\n  const [savedBooks, setSavedBooks] = useState([])\n  const [startIndex, setStartIndex] = useState(0)\n  const [timeLeft, setTimeLeft] = useState(true)\n  const [reviewLeft, setReviewLeft] = useState(false)\n\n  \n  useEffect(()=>{\n    setTimeLeft(false)\n    setReviewLeft(true)\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/books`)\n    .then(response=>response.json())\n    .then(data=>setSavedBooks(data))\n  },[user])\n\n\n  useEffect(()=>{\n    if (user){\n      if (timeLeft === false && reviewLeft === true){\n        let confObj = {\n              method: 'PATCH',\n              headers: {\n                  'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({eligible: true}),\n          }\n          fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${user.id}`, confObj)\n      }\n\n      if (timeLeft === true || reviewLeft === false){\n        let confObj = {\n              method: 'PATCH',\n              headers: {\n                  'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({eligible: false}),\n          }\n          fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${user.id}`, confObj)\n      }\n    }\n  },[timeLeft, reviewLeft, savedBooks, user])\n\n\n  return (\n    <div className=\"app\">\n    <MainNav\n      setUser={setUser}\n      user={user}\n      setBooksFromSearch={setBooksFromSearch}\n      startIndex={startIndex}\n      setStartIndex={setStartIndex}\n    />\n      <Switch>\n        <Redirect exact from=\"/\" to=\"/home\" />\n        <Route path=\"/home\">\n          <Home />\n        </Route>\n        <Route path=\"/bookindex\">\n          <BookIndex \n            booksFromSearch={booksFromSearch}\n            startIndex={startIndex}\n            setStartIndex={setStartIndex}\n          />\n        </Route>\n        <Route path=\"/bookpage/:id\">\n          <BookPage \n          savedBooks={savedBooks} \n          setSavedBooks={setSavedBooks} \n          user={user} \n          setUser={setUser}\n          reviewLeft={reviewLeft}\n          timeLeft={timeLeft}\n          setBooksFromSearch={setBooksFromSearch}\n          startIndex={startIndex}\n          setStartIndex={setStartIndex}\n        />\n        </Route>\n        <Route path=\"/otheruserpage/:id\">\n          <OtherUserPage \n          user={user} \n          savedBooks={savedBooks} \n          timeLeft={timeLeft} \n          setTimeLeft={setTimeLeft}\n          reviewLeft={reviewLeft}\n          setReviewLeft={setReviewLeft}/>\n        </Route>\n        <Route exact path=\"/userpage\">\n          {user ? \n          <UserPage \n            user={user} \n            savedBooks={savedBooks} \n            timeLeft={timeLeft} \n            setTimeLeft={setTimeLeft}\n            reviewLeft={reviewLeft}\n            setReviewLeft={setReviewLeft}\n          /> : <Redirect to = \"/home\"/>}\n          \n        </Route>\n      </Switch>\n    </div>\n  \n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { BrowserRouter} from 'react-router-dom'\n\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"]}}