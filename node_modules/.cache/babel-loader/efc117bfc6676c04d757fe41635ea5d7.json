{"ast":null,"code":"import _slicedToArray from\"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useHistory}from\"react-router-dom\";import{Input}from'semantic-ui-react';import{jsx as _jsx}from\"react/jsx-runtime\";export default function Search(_ref){var setBooksFromSearch=_ref.setBooksFromSearch,startIndex=_ref.startIndex,setStartIndex=_ref.setStartIndex;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchInput=_useState2[0],setSearchInput=_useState2[1];var history=useHistory();useEffect(function(){var searchTerms=searchInput.replace(/\\s/g,'+');fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(searchTerms,\"&maxResults=8&startIndex=\").concat(startIndex)).then(function(response){return response.json();}).then(function(data){setBooksFromSearch(data.items);});},[startIndex,searchInput,setBooksFromSearch]);function handleSubmit(e){e.preventDefault();setStartIndex(0);var searchTerms=searchInput.replace(/\\s/g,'+');fetch(\"https://www.googleapis.com/books/v1/volumes?q=\".concat(searchTerms,\"&maxResults=8&startIndex=\").concat(startIndex)).then(function(response){return response.json();}).then(function(data){setBooksFromSearch(data.items);history.push(\"/bookindex\");});}return/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsx(Input,{icon:\"search\",placeholder:\"Search...\",type:\"text\",onChange:function onChange(e){return setSearchInput(e.target.value);},value:searchInput,className:\"search-input\"})});}","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/MainNav/Search.js"],"names":["React","useState","useEffect","useHistory","Input","Search","setBooksFromSearch","startIndex","setStartIndex","searchInput","setSearchInput","history","searchTerms","replace","fetch","then","response","json","data","items","handleSubmit","e","preventDefault","push","target","value"],"mappings":"2JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,OAASC,KAAT,KAAsB,mBAAtB,C,2CAEA,cAAe,SAASC,CAAAA,MAAT,MAAiE,IAA/CC,CAAAA,kBAA+C,MAA/CA,kBAA+C,CAA3BC,UAA2B,MAA3BA,UAA2B,CAAfC,aAAe,MAAfA,aAAe,eAEtCP,QAAQ,CAAC,EAAD,CAF8B,wCAErEQ,WAFqE,eAExDC,cAFwD,eAG5E,GAAMC,CAAAA,OAAO,CAAGR,UAAU,EAA1B,CAEAD,SAAS,CAAC,UAAI,CACV,GAAIU,CAAAA,WAAW,CAAGH,WAAW,CAACI,OAAZ,CAAoB,KAApB,CAA2B,GAA3B,CAAlB,CACAC,KAAK,yDAAkDF,WAAlD,qCAAyFL,UAAzF,EAAL,CACCQ,IADD,CACM,SAAAC,QAAQ,QAAEA,CAAAA,QAAQ,CAACC,IAAT,EAAF,EADd,EAECF,IAFD,CAEM,SAAAG,IAAI,CAAE,CACRZ,kBAAkB,CAACY,IAAI,CAACC,KAAN,CAAlB,CACH,CAJD,EAKH,CAPQ,CAOP,CAACZ,UAAD,CAAaE,WAAb,CAA0BH,kBAA1B,CAPO,CAAT,CASA,QAASc,CAAAA,YAAT,CAAsBC,CAAtB,CAAwB,CACpBA,CAAC,CAACC,cAAF,GACAd,aAAa,CAAC,CAAD,CAAb,CACA,GAAII,CAAAA,WAAW,CAAGH,WAAW,CAACI,OAAZ,CAAoB,KAApB,CAA2B,GAA3B,CAAlB,CACAC,KAAK,yDAAkDF,WAAlD,qCAAyFL,UAAzF,EAAL,CACCQ,IADD,CACM,SAAAC,QAAQ,QAAEA,CAAAA,QAAQ,CAACC,IAAT,EAAF,EADd,EAECF,IAFD,CAEM,SAAAG,IAAI,CAAE,CACRZ,kBAAkB,CAACY,IAAI,CAACC,KAAN,CAAlB,CACAR,OAAO,CAACY,IAAR,eACH,CALD,EAMH,CAED,mBAEQ,aAAM,QAAQ,CAAEH,YAAhB,uBACI,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,WAAW,CAAC,WAAjC,CACA,IAAI,CAAC,MADL,CAEA,QAAQ,CAAE,kBAAAC,CAAC,QAAEX,CAAAA,cAAc,CAACW,CAAC,CAACG,MAAF,CAASC,KAAV,CAAhB,EAFX,CAGA,KAAK,CAAEhB,WAHP,CAIA,SAAS,CAAC,cAJV,EADJ,EAFR,CAWH","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { useHistory } from \"react-router-dom\";\n\nimport { Input } from 'semantic-ui-react'\n\nexport default function Search ({setBooksFromSearch, startIndex, setStartIndex}){\n\n    const [searchInput, setSearchInput] = useState(\"\")\n    const history = useHistory()\n\n    useEffect(()=>{\n        let searchTerms = searchInput.replace(/\\s/g, '+')\n        fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchTerms}&maxResults=8&startIndex=${startIndex}`)\n        .then(response=>response.json())\n        .then(data=>{\n            setBooksFromSearch(data.items)\n        })\n    },[startIndex, searchInput, setBooksFromSearch])\n\n    function handleSubmit(e){\n        e.preventDefault()\n        setStartIndex(0)\n        let searchTerms = searchInput.replace(/\\s/g, '+')\n        fetch(`https://www.googleapis.com/books/v1/volumes?q=${searchTerms}&maxResults=8&startIndex=${startIndex}`)\n        .then(response=>response.json())\n        .then(data=>{\n            setBooksFromSearch(data.items)\n            history.push(`/bookindex`)\n        })\n    }\n\n    return(\n        \n            <form onSubmit={handleSubmit}>\n                <Input icon='search' placeholder='Search...' \n                type=\"text\"\n                onChange={e=>setSearchInput(e.target.value)}\n                value={searchInput}\n                className=\"search-input\"/>\n            {/* <button type='submit' className=\"fa fa-search\"> Search </button> */}\n            </form>\n    )\n}"]},"metadata":{},"sourceType":"module"}