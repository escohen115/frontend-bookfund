{"ast":null,"code":"var _jsxFileName = \"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/OtherUserPage/OtherUserPage.js\",\n    _s = $RefreshSig$();\n\nimport { useParams } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function OtherUserPage({\n  savedBooks\n}) {\n  _s();\n\n  const [otherUser, setOtherUser] = useState(null);\n  const [userWaitings, setUserWaitings] = useState([]);\n  const params = useParams();\n  let waitingsMapped = [];\n  useEffect(() => {\n    fetch(`http://localhost:3000/users/${params.id}`).then(response => response.json()).then(data => setOtherUser(data));\n  }, []);\n\n  if (otherUser) {\n    let waitingsUnfulfilled = otherUser.waitings.filter(waiting => waiting.fulfilled !== true);\n\n    for (let i = 0; i < waitingsUnfulfilled.length; i++) {\n      waitingsMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsUnfulfilled[i].book_id));\n    }\n\n    let waitlistMapped = waitingsMapped.map(waiting => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: waiting.image_url\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: `/bookpage/${waiting.api_id}`,\n          children: waiting.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this);\n    });\n  }\n\n  if (otherUser) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: otherUser.profile_pic ? otherUser.profile_pic : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"name: \", otherUser.name ? otherUser.name : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"email: \", otherUser.email ? otherUser.email : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"username: \", otherUser.username ? otherUser.username : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"bio: \", otherUser.bio ? otherUser.bio : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"waitlist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: waitingsMapped.length > 0 ? waitlistMapped : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 16\n    }, this);\n  }\n}\n\n_s(OtherUserPage, \"yvsJTup6wN9RDqbZKPl611sNp0E=\", false, function () {\n  return [useParams];\n});\n\n_c = OtherUserPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"OtherUserPage\");","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/OtherUserPage/OtherUserPage.js"],"names":["useParams","React","useEffect","useState","OtherUserPage","savedBooks","otherUser","setOtherUser","userWaitings","setUserWaitings","params","waitingsMapped","fetch","id","then","response","json","data","waitingsUnfulfilled","waitings","filter","waiting","fulfilled","i","length","push","find","saved_book","book_id","waitlistMapped","map","image_url","api_id","title","profile_pic","name","email","username","bio"],"mappings":"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","sourcesContent":["import { useParams } from \"react-router-dom\";\nimport React, { useEffect, useState } from \"react\"\n\nexport default function OtherUserPage({savedBooks}){\n\n    const [otherUser, setOtherUser] = useState(null)\n    const[userWaitings, setUserWaitings] = useState([])\n    const params = useParams()\n    let waitingsMapped = []\n    \n\n    useEffect(()=>{\n        fetch(`http://localhost:3000/users/${params.id}`)\n        .then(response => response.json())\n        .then(data=>setOtherUser(data))  \n    },[])\n\n\n\n    if (otherUser){  \n        \n        let waitingsUnfulfilled = otherUser.waitings.filter(waiting=>waiting.fulfilled!==true)\n        for(let i=0;i<waitingsUnfulfilled.length;i++){\n        waitingsMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsUnfulfilled[i].book_id))\n        } \n        let waitlistMapped = waitingsMapped.map(waiting=>{\n            return (\n            <li>\n                <img src = {waiting.image_url }></img>\n                <Link to={`/bookpage/${waiting.api_id}`}>{waiting.title}</Link>\n            </li>\n            )\n        })\n    }\n\n\n\n    if (otherUser){\n        return(\n            <div> \n                <img src={otherUser.profile_pic ? otherUser.profile_pic : null}></img>\n                <p>name: {otherUser.name ? otherUser.name : null}</p>\n                <p>email: {otherUser.email ? otherUser.email : null}</p>\n                <p>username: {otherUser.username ? otherUser.username : null }</p>\n                <p>bio: {otherUser.bio ? otherUser.bio : null}</p>\n                <p>waitlist</p>\n                <ul>{waitingsMapped.length>0 ? waitlistMapped:null}</ul>\n            </div>\n        )\n    }\n    else{\n        return <p>loading</p>\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}