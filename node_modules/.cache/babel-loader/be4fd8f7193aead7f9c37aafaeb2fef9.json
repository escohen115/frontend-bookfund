{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EmulationManager = void 0;\n\nclass EmulationManager {\n  constructor(client) {\n    this._emulatingMobile = false;\n    this._hasTouch = false;\n    this._client = client;\n  }\n\n  async emulateViewport(viewport) {\n    const mobile = viewport.isMobile || false;\n    const width = viewport.width;\n    const height = viewport.height;\n    const deviceScaleFactor = viewport.deviceScaleFactor || 1;\n    const screenOrientation = viewport.isLandscape ? {\n      angle: 90,\n      type: 'landscapePrimary'\n    } : {\n      angle: 0,\n      type: 'portraitPrimary'\n    };\n    const hasTouch = viewport.hasTouch || false;\n    await Promise.all([this._client.send('Emulation.setDeviceMetricsOverride', {\n      mobile,\n      width,\n      height,\n      deviceScaleFactor,\n      screenOrientation\n    }), this._client.send('Emulation.setTouchEmulationEnabled', {\n      enabled: hasTouch\n    })]);\n    const reloadNeeded = this._emulatingMobile !== mobile || this._hasTouch !== hasTouch;\n    this._emulatingMobile = mobile;\n    this._hasTouch = hasTouch;\n    return reloadNeeded;\n  }\n\n}\n\nexports.EmulationManager = EmulationManager;","map":{"version":3,"sources":["../../../../src/common/EmulationManager.ts"],"names":[],"mappings":";;;;;;;AAmBA,MAAa,gBAAb,CAA6B;AAK3B,EAAA,WAAA,CAAY,MAAZ,EAA8B;AAH9B,SAAA,gBAAA,GAAmB,KAAnB;AACA,SAAA,SAAA,GAAY,KAAZ;AAGE,SAAK,OAAL,GAAe,MAAf;AACD;;AAEoB,QAAf,eAAe,CAAC,QAAD,EAAmB;AACtC,UAAM,MAAM,GAAG,QAAQ,CAAC,QAAT,IAAqB,KAApC;AACA,UAAM,KAAK,GAAG,QAAQ,CAAC,KAAvB;AACA,UAAM,MAAM,GAAG,QAAQ,CAAC,MAAxB;AACA,UAAM,iBAAiB,GAAG,QAAQ,CAAC,iBAAT,IAA8B,CAAxD;AACA,UAAM,iBAAiB,GAAyC,QAAQ,CAAC,WAAT,GAC5D;AAAE,MAAA,KAAK,EAAE,EAAT;AAAa,MAAA,IAAI,EAAE;AAAnB,KAD4D,GAE5D;AAAE,MAAA,KAAK,EAAE,CAAT;AAAY,MAAA,IAAI,EAAE;AAAlB,KAFJ;AAGA,UAAM,QAAQ,GAAG,QAAQ,CAAC,QAAT,IAAqB,KAAtC;AAEA,UAAM,OAAO,CAAC,GAAR,CAAY,CAChB,KAAK,OAAL,CAAa,IAAb,CAAkB,oCAAlB,EAAwD;AACtD,MAAA,MADsD;AAEtD,MAAA,KAFsD;AAGtD,MAAA,MAHsD;AAItD,MAAA,iBAJsD;AAKtD,MAAA;AALsD,KAAxD,CADgB,EAQhB,KAAK,OAAL,CAAa,IAAb,CAAkB,oCAAlB,EAAwD;AACtD,MAAA,OAAO,EAAE;AAD6C,KAAxD,CARgB,CAAZ,CAAN;AAaA,UAAM,YAAY,GAChB,KAAK,gBAAL,KAA0B,MAA1B,IAAoC,KAAK,SAAL,KAAmB,QADzD;AAEA,SAAK,gBAAL,GAAwB,MAAxB;AACA,SAAK,SAAL,GAAiB,QAAjB;AACA,WAAO,YAAP;AACD;;AArC0B;;AAA7B,OAAA,CAAA,gBAAA,GAAA,gBAAA","sourceRoot":"","sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmulationManager = void 0;\nclass EmulationManager {\n    constructor(client) {\n        this._emulatingMobile = false;\n        this._hasTouch = false;\n        this._client = client;\n    }\n    async emulateViewport(viewport) {\n        const mobile = viewport.isMobile || false;\n        const width = viewport.width;\n        const height = viewport.height;\n        const deviceScaleFactor = viewport.deviceScaleFactor || 1;\n        const screenOrientation = viewport.isLandscape\n            ? { angle: 90, type: 'landscapePrimary' }\n            : { angle: 0, type: 'portraitPrimary' };\n        const hasTouch = viewport.hasTouch || false;\n        await Promise.all([\n            this._client.send('Emulation.setDeviceMetricsOverride', {\n                mobile,\n                width,\n                height,\n                deviceScaleFactor,\n                screenOrientation,\n            }),\n            this._client.send('Emulation.setTouchEmulationEnabled', {\n                enabled: hasTouch,\n            }),\n        ]);\n        const reloadNeeded = this._emulatingMobile !== mobile || this._hasTouch !== hasTouch;\n        this._emulatingMobile = mobile;\n        this._hasTouch = hasTouch;\n        return reloadNeeded;\n    }\n}\nexports.EmulationManager = EmulationManager;\n//# sourceMappingURL=EmulationManager.js.map"]},"metadata":{},"sourceType":"script"}