{"ast":null,"code":"import _slicedToArray from\"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useRef,useEffect}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Timer=function Timer(_ref){var mostRecent=_ref.mostRecent,timeLeft=_ref.timeLeft,setTimeLeft=_ref.setTimeLeft,displayTimer=_ref.displayTimer,setDisplayTimerTwo=_ref.setDisplayTimerTwo,reviewLeft=_ref.reviewLeft;// console.log('timer')\n// console.log('reviewleft:', reviewLeft)\n// console.log('timeleft:', timeLeft)\n// console.log('mostRecent!== null:', (mostRecent!== null))\nvar _useState=useState(0),_useState2=_slicedToArray(_useState,2),timerDays=_useState2[0],setTimerDays=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),timerHours=_useState4[0],setTimerHours=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),timerMinutes=_useState6[0],setTimerMinutes=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),timerSeconds=_useState8[0],setTimerSeconds=_useState8[1];var interval=useRef();var startTimer=function startTimer(){// const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+1209600000)\nvar countDownDate=new Date(parseInt(mostRecent.sponsor_date)+60000);interval=setInterval(function(){var now=new Date().getTime();var timeRemaining=countDownDate-now;var days=Math.floor(timeRemaining/(1000*60*60*24));var hours=Math.floor(timeRemaining%(1000*60*60*24)/(1000*60*60));var minutes=Math.floor(timeRemaining%(1000*60*60)/(1000*60));var seconds=Math.floor(timeRemaining%(1000*60)/1000);if(timeRemaining<0){// debugger\nsetTimeLeft(false);clearInterval(interval.current);displayTimer=false;setDisplayTimerTwo(false);}else{//update timer\nsetTimerDays(days);setTimerHours(hours);setTimerMinutes(minutes);setTimerSeconds(seconds);}},1000);};useEffect(function(){startTimer();return function(){clearInterval(interval.current);};});return/*#__PURE__*/_jsxs(\"div\",{class:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{id:\"headline\",children:\"Countdown until your next book:\"}),/*#__PURE__*/_jsx(\"div\",{id:\"countdown\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{id:\"numbers\",children:timerDays}),\"days\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{id:\"numbers\",children:timerHours}),\"Hours\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"span\",{id:\"numbers\",children:timerMinutes}),\"Minutes\"]}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsxs(\"span\",{id:\"numbers\",children:[timerSeconds,\" \"]}),\"Seconds\"]})]})})]});};export default Timer;","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/Timer.js"],"names":["React","useState","useRef","useEffect","Timer","mostRecent","timeLeft","setTimeLeft","displayTimer","setDisplayTimerTwo","reviewLeft","timerDays","setTimerDays","timerHours","setTimerHours","timerMinutes","setTimerMinutes","timerSeconds","setTimerSeconds","interval","startTimer","countDownDate","Date","parseInt","sponsor_date","setInterval","now","getTime","timeRemaining","days","Math","floor","hours","minutes","seconds","clearInterval","current"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\n\n \nconst Timer = ({mostRecent, timeLeft, setTimeLeft, displayTimer, setDisplayTimerTwo, reviewLeft })=>{\n    // console.log('timer')\n    // console.log('reviewleft:', reviewLeft)\n    // console.log('timeleft:', timeLeft)\n    // console.log('mostRecent!== null:', (mostRecent!== null))\n\n    const [timerDays, setTimerDays] = useState(0)\n    const [timerHours, setTimerHours] = useState(0)\n    const [timerMinutes, setTimerMinutes] = useState(0)\n    const [timerSeconds, setTimerSeconds] = useState(0)\n\n\n    let interval = useRef()\n\n    const startTimer = () => {\n\n        // const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+1209600000)\n        const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+60000)\n\n   \n        interval = setInterval(()=>{\n            const now = new Date().getTime()\n            const timeRemaining = countDownDate - now\n\n            const days = Math.floor(timeRemaining / (1000 * 60 * 60 *24))\n            const hours = Math.floor((timeRemaining % (1000 * 60 * 60 *24) / (1000*60*60)))\n            const minutes = Math.floor((timeRemaining % (1000 * 60 * 60) / (1000 * 60)))\n            const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000)\n            \n            if (timeRemaining < 0){\n                // debugger\n                setTimeLeft(false)\n                clearInterval(interval.current)\n                displayTimer = false\n                setDisplayTimerTwo(false)\n            }\n            else{\n                //update timer\n                setTimerDays(days)\n                setTimerHours(hours)\n                setTimerMinutes(minutes)\n                setTimerSeconds(seconds)\n            }\n\n        }, 1000)\n    }\n\n    useEffect(()=>{\n        startTimer()\n        return()=>{\n            clearInterval(interval.current)\n        }\n    })\n    \n    return (\n        \n\n        <div class=\"container\">\n            <h1 id=\"headline\">Countdown until your next book:</h1>\n                <div id=\"countdown\">\n                    <ul>\n                        <li><span id=\"numbers\">{timerDays}</span>days</li>\n                        <li><span id=\"numbers\">{timerHours}</span>Hours</li>\n                        <li><span id=\"numbers\">{timerMinutes}</span>Minutes</li>\n                        <li><span id=\"numbers\">{timerSeconds} </span>Seconds</li>\n                    </ul>\n                </div>\n          </div>\n         \n    )\n}\n\nexport default Timer\n\n\n\n "]},"metadata":{},"sourceType":"module"}