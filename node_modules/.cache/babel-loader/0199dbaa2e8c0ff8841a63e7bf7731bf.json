{"ast":null,"code":"var _jsxFileName = \"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/Timer.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Timer = ({\n  mostRecent,\n  timeLeft,\n  setTimeLeft,\n  displayTimer,\n  setDisplayTimerTwo,\n  reviewLeft\n}) => {\n  _s();\n\n  console.log('timer');\n  console.log('reviewleft:', reviewLeft);\n  console.log('mostRecent!== null:', mostRecent !== null);\n  const [timerDays, setTimerDays] = useState(0);\n  const [timerHours, setTimerHours] = useState(0);\n  const [timerMinutes, setTimerMinutes] = useState(0);\n  const [timerSeconds, setTimerSeconds] = useState(0);\n  let interval = useRef();\n\n  const startTimer = () => {\n    const countDownDate = new Date(parseInt(mostRecent.sponsor_date) + 1209600000); // const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+180000)\n    // const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+60000)\n\n    interval = setInterval(() => {\n      const now = new Date().getTime();\n      const timeRemaining = countDownDate - now;\n      const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));\n      const hours = Math.floor(timeRemaining % (1000 * 60 * 60 * 24) / (1000 * 60 * 60));\n      const minutes = Math.floor(timeRemaining % (1000 * 60 * 60) / (1000 * 60));\n      const seconds = Math.floor(timeRemaining % (1000 * 60) / 1000);\n\n      if (timeRemaining < 0) {\n        // debugger\n        setTimeLeft(false);\n        clearInterval(interval.current);\n        displayTimer = false;\n        setDisplayTimerTwo(false);\n      } else {\n        //update timer\n        setTimerDays(days);\n        setTimerHours(hours);\n        setTimerMinutes(minutes);\n        setTimerSeconds(seconds);\n      }\n    }, 1000);\n  };\n\n  useEffect(() => {\n    startTimer();\n    return () => {\n      clearInterval(interval.current);\n    };\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'baseline'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      id: \"headline\",\n      children: \"Countdown until your next book:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"countdown\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 29\n          }, this), \"days\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"hours\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 29\n          }, this), \"Hours\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"minutes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 29\n          }, this), \"Minutes\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            id: \"seconds\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 29\n          }, this), \"Seconds\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: timerDays\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: timerHours\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: timerMinutes\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: timerSeconds\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }, this), \"days hours minutes seconds\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Timer, \"lI7B1ryibPW7YMeHsYk2WazqT5Y=\");\n\n_c = Timer;\nexport default Timer;\n\nvar _c;\n\n$RefreshReg$(_c, \"Timer\");","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/Timer.js"],"names":["React","useState","useRef","useEffect","Timer","mostRecent","timeLeft","setTimeLeft","displayTimer","setDisplayTimerTwo","reviewLeft","console","log","timerDays","setTimerDays","timerHours","setTimerHours","timerMinutes","setTimerMinutes","timerSeconds","setTimerSeconds","interval","startTimer","countDownDate","Date","parseInt","sponsor_date","setInterval","now","getTime","timeRemaining","days","Math","floor","hours","minutes","seconds","clearInterval","current","display","alignItems"],"mappings":"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","sourcesContent":["import React, {useState, useRef, useEffect} from 'react'\n\n \nconst Timer = ({mostRecent, timeLeft, setTimeLeft, displayTimer, setDisplayTimerTwo, reviewLeft })=>{\n    console.log('timer')\n    console.log('reviewleft:', reviewLeft)\n\n    console.log('mostRecent!== null:', (mostRecent!== null))\n    const [timerDays, setTimerDays] = useState(0)\n    const [timerHours, setTimerHours] = useState(0)\n    const [timerMinutes, setTimerMinutes] = useState(0)\n    const [timerSeconds, setTimerSeconds] = useState(0)\n\n\n    let interval = useRef()\n\n    const startTimer = () => {\n\n        const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+1209600000)\n        // const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+180000)\n\n        // const countDownDate = new Date(parseInt(mostRecent.sponsor_date)+60000)\n\n   \n        interval = setInterval(()=>{\n            const now = new Date().getTime()\n            const timeRemaining = countDownDate - now\n\n            const days = Math.floor(timeRemaining / (1000 * 60 * 60 *24))\n            const hours = Math.floor((timeRemaining % (1000 * 60 * 60 *24) / (1000*60*60)))\n            const minutes = Math.floor((timeRemaining % (1000 * 60 * 60) / (1000 * 60)))\n            const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000)\n            \n            if (timeRemaining < 0){\n                // debugger\n                setTimeLeft(false)\n                clearInterval(interval.current)\n                displayTimer = false\n                setDisplayTimerTwo(false)\n            }\n            else{\n                //update timer\n                setTimerDays(days)\n                setTimerHours(hours)\n                setTimerMinutes(minutes)\n                setTimerSeconds(seconds)\n            }\n\n        }, 1000)\n    }\n\n    useEffect(()=>{\n        startTimer()\n        return()=>{\n            clearInterval(interval.current)\n        }\n    })\n    \n    return (\n        <div style={{display:'flex', alignItems:'baseline'}}>\n\n            <h1 id=\"headline\">Countdown until your next book:</h1>\n                <div id=\"countdown\">\n                    <ul>\n                        <li><span id=\"days\"></span>days</li>\n                        <li><span id=\"hours\"></span>Hours</li>\n                        <li><span id=\"minutes\"></span>Minutes</li>\n                        <li><span id=\"seconds\"></span>Seconds</li>\n                    </ul>\n                </div>\n      \n                <h2>{timerDays}</h2>  \n                <h2>{timerHours}</h2>  \n                <h2>{timerMinutes}</h2>  \n                <h2>{timerSeconds}</h2> \n                <br></br>\n                days \n                hours \n                minutes \n                seconds\n            \n           \n        </div>  \n    )\n}\n\nexport default Timer\n\n\n\n "]},"metadata":{},"sourceType":"module"}