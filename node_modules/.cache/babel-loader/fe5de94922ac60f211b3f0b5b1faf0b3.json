{"ast":null,"code":"import _defineProperty from\"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import BackEndBookCard from'../BookIndex/BackEndBookCard';import{Card,Button,Image,Icon}from'semantic-ui-react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),books=_useState2[0],setBooks=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),backEndWaitings=_useState4[0],setBackEndWaitings=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),users=_useState6[0],setUsers=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),index=_useState8[0],setIndex=_useState8[1];var waitings=[];var waitingsMapped=[];var sponsorsMapped=[];var topReaders=[];var topReadersMapped=[];// console.log(process.env.REACT_APP_API_BASE_URL)\nuseEffect(function(){fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/books\")).then(function(response){return response.json();}).then(function(data){setBooks(data);});fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/users\")).then(function(response){return response.json();}).then(function(data){setUsers(data);});fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/waitings\")).then(function(response){return response.json();}).then(function(data){setBackEndWaitings(data);});},[]);if(books.length>0){for(var i=0;i<books.length;i++){var waitingsFulFilled=books[i].waitings.filter(function(waitings){return waitings.fulfilled!==false;}).length;waitings.push(_defineProperty({},waitingsFulFilled,books[i]));}waitings.sort(function(a,b){return Object.keys(b)[0]-Object.keys(a)[0];});waitingsMapped=waitings.slice(index,index+8).map(function(waiting){return/*#__PURE__*/_jsx(BackEndBookCard,{book:Object.values(waiting)[0]});});}if(backEndWaitings.length>0){var sponsoredWaitings=backEndWaitings.filter(function(waiting){return waiting.fulfilled===true;});var sponsorAOH=[];var _loop=function _loop(_i){var userSponsors=sponsoredWaitings.filter(function(waiting){return waiting.sponsor_id===users[_i].id;});sponsorAOH.push(_defineProperty({},userSponsors.length,users[_i]));};for(var _i=0;_i<users.length;_i++){_loop(_i);}var x=sponsorAOH.sort(function(a,b){return Object.keys(b)[0]-Object.keys(a)[0];});sponsorsMapped=x.slice(0,3).map(function(sponsor){return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(Link,{to:\"/otheruserpage/\".concat(Object.values(sponsor)[0].id),children:[\" \",/*#__PURE__*/_jsx(\"h4\",{style:{textAlign:'center'},children:Object.values(sponsor)[0].username}),\" \"]})}),/*#__PURE__*/_jsx(Card.Content,{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(Image,{style:{margin:'auto'},src:Object.values(sponsor)[0].profile_pic?Object.values(sponsor)[0].profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"small\",circular:true})}),/*#__PURE__*/_jsxs(Card.Content,{extra:true,children:[/*#__PURE__*/_jsx(Icon,{name:\"user\"}),Object.keys(sponsor)[0],\" sponsors\"]})]});});}if(users.length>0){topReaders=users.sort(function(a,b){return b.waitings.filter(function(waiting){return waiting.fulfilled===true;}).length-a.waitings.filter(function(waiting){return waiting.fulfilled===true;}).length;});console.log(topReaders);topReadersMapped=topReaders.slice(0,3).map(function(reader){return/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(Card.Header,{children:/*#__PURE__*/_jsxs(Link,{to:\"/otheruserpage/\".concat(reader.id),children:[\" \",/*#__PURE__*/_jsxs(\"h4\",{style:{textAlign:'center'},children:[reader.username,\" \"]})]})}),/*#__PURE__*/_jsx(Card.Content,{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(Image,{src:reader.profile_pic?reader.profile_pic:\"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\",size:\"small\",circular:true})}),/*#__PURE__*/_jsxs(Card.Content,{extra:true,children:[/*#__PURE__*/_jsx(Icon,{name:\"book\"}),reader.waitings.filter(function(waiting){return waiting.fulfilled===true;}).length,\" Books Read\"]})]});});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"home-info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"who\",children:\"Who we are\"}),/*#__PURE__*/_jsxs(\"p\",{style:{fontSize:'15px'},children:[\"If you've ever read an impactful book that you'd like to share with others, BookFund is the place for you!\",/*#__PURE__*/_jsx(\"br\",{}),\"BookFund is a simple way for users to sponsor books they love and share the knowledge with others.\",/*#__PURE__*/_jsx(\"br\",{}),\"Users can sign up for a book via a waitlist to receive the next sponsored copy of that book. After receiving a book, users must publish a review of the book on the site, as well as enter a two week wait period before they are eligible to receive their next book.\"]})]}),/*#__PURE__*/_jsx(\"h2\",{className:\"pop\",children:\"Popular Now\"}),/*#__PURE__*/_jsx(\"div\",{className:\"popular-now\",children:waitingsMapped.length>0?/*#__PURE__*/_jsx(Card.Group,{itemsPerRow:8,children:waitingsMapped}):null}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons-combined\",children:[/*#__PURE__*/_jsx(Button,{className:\"next-back-button\",onClick:function onClick(){return setIndex(index+8);},children:\"Next\"}),index>0?/*#__PURE__*/_jsx(Button,{className:\"next-back-button\",onClick:function onClick(){return setIndex(index-8);},children:\"Back\"}):null]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',marginTop:'50px'},className:\"bottom-home\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-readers-home\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Top Readers:\"}),/*#__PURE__*/_jsx(Card.Group,{itemsPerRow:3,children:topReadersMapped.length>0?topReadersMapped:null})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"top-sponsors-home\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Top Sponsors:\"}),/*#__PURE__*/_jsx(Card.Group,{itemsPerRow:3,children:sponsorsMapped.length>0?sponsorsMapped:null})]})]})]});}","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/Home/Home.js"],"names":["useEffect","useState","Link","BackEndBookCard","Card","Button","Image","Icon","Home","books","setBooks","backEndWaitings","setBackEndWaitings","users","setUsers","index","setIndex","waitings","waitingsMapped","sponsorsMapped","topReaders","topReadersMapped","fetch","process","env","REACT_APP_API_BASE_URL","then","response","json","data","length","i","waitingsFulFilled","filter","fulfilled","push","sort","a","b","Object","keys","slice","map","waiting","values","sponsoredWaitings","sponsorAOH","userSponsors","sponsor_id","id","x","sponsor","textAlign","username","margin","profile_pic","console","log","reader","fontSize","display","marginTop"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport BackEndBookCard from '../BookIndex/BackEndBookCard'\nimport { Card, Button, Image, Icon} from 'semantic-ui-react'\n\nexport default function Home(){\n\n    const[books,setBooks] = useState([])\n    const[backEndWaitings, setBackEndWaitings] = useState([])\n    const[users, setUsers] = useState([])\n    const[index, setIndex] = useState(0)\n\n    let waitings = []\n    let waitingsMapped = []\n    let sponsorsMapped = []\n    let topReaders = []\n    let topReadersMapped = []\n    // console.log(process.env.REACT_APP_API_BASE_URL)\n    useEffect(()=>{\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/books`)\n        .then(response=>response.json())\n        .then(data=>{setBooks(data)})\n\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/users`)\n        .then(response=>response.json())\n        .then(data=>{setUsers(data)})\n        \n        fetch(`${process.env.REACT_APP_API_BASE_URL}/waitings`)\n        .then(response=>response.json())\n        .then(data=>{setBackEndWaitings(data)})\n    },[])\n\n    \n\n\n     if (books.length > 0){\n        for(let i=0;i < books.length;i++){\n            let waitingsFulFilled = books[i].waitings.filter(waitings=>waitings.fulfilled!==false).length\n\n            waitings.push({[waitingsFulFilled]:books[i]})\n        }\n        waitings.sort(function (a, b){\n            return Object.keys(b)[0] - Object.keys(a)[0]\n        })\n        waitingsMapped = waitings.slice(index, (index+8)).map(waiting=>{\n            return( <BackEndBookCard book = {Object.values(waiting)[0]}/>)\n        })\n    }\n\n    if (backEndWaitings.length > 0){ \n        let sponsoredWaitings = backEndWaitings.filter(waiting=>waiting.fulfilled===true)\n        let sponsorAOH=[]\n        for (let i=0;i<users.length;i++){\n            let userSponsors = sponsoredWaitings.filter(waiting=>waiting.sponsor_id===users[i].id)\n            sponsorAOH.push({[userSponsors.length]:users[i]})\n        }\n        let x = sponsorAOH.sort(function (a, b){\n            return Object.keys(b)[0] - Object.keys(a)[0]\n        })\n        sponsorsMapped = x.slice(0,3).map(sponsor=>{\n            return( \n                    <Card>\n                            <Card.Header><Link to={`/otheruserpage/${Object.values(sponsor)[0].id}`} > <h4 style={{textAlign:'center'}}>{Object.values(sponsor)[0].username}</h4> </Link></Card.Header>\n                        <Card.Content style={{textAlign:'center'}}>\n                            <Image style={{margin:'auto'}} src={Object.values(sponsor)[0].profile_pic? Object.values(sponsor)[0].profile_pic: \"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\"} size='small' circular />\n                        </Card.Content>\n                            <Card.Content extra>\n                            <Icon name='user' />\n                             {Object.keys(sponsor)[0]} sponsors\n                        </Card.Content>\n                    </Card>\n\n                    \n                    \n                \n\n                )\n        })\n    }\n    if (users.length > 0){\n       topReaders = users.sort(function (a, b){\n            return   (b.waitings.filter(waiting=>waiting.fulfilled===true).length) - (a.waitings.filter(waiting=>waiting.fulfilled===true).length) \n        })  \n        console.log(topReaders)\n        topReadersMapped = topReaders.slice(0,3).map(reader=>{\n            return( \n                    <Card>\n                        <Card.Header><Link to={`/otheruserpage/${reader.id}`}> <h4 style={{textAlign:'center'}}>{reader.username} </h4></Link></Card.Header>\n                        <Card.Content style={{textAlign:'center'}}>\n                            <Image src={reader.profile_pic ? reader.profile_pic : \"https://www.xovi.com/wp-content/plugins/all-in-one-seo-pack/images/default-user-image.png\"} size='small' circular />\n                        </Card.Content>\n                            <Card.Content extra>\n                            <Icon name='book' />\n                             {reader.waitings.filter(waiting=>waiting.fulfilled===true).length } Books Read\n                        </Card.Content>\n                    </Card>\n\n                \n                \n\n                )\n        })\n        \n    }\n    \n    return(\n        <>\n            <div className=\"home-info\">\n                <h2 className=\"who\">\n                    Who we are\n                    \n                </h2>\n                <p style={{fontSize: '15px'}}>\n                    If you've ever read an impactful book that you'd like to share with others, BookFund is the place for you!\n                    <br></br>\n                    BookFund is a simple way for users to sponsor books they love and share the knowledge with others. \n                    <br></br>\n                    Users can sign up for a book via a waitlist to receive the next sponsored copy of that book. After receiving a book, users must publish a review of the book on the site, as well as enter a two week wait period before they are eligible to receive their next book.\n                </p>\n            </div>\n\n                <h2 className=\"pop\" >Popular Now</h2>\n            <div className=\"popular-now\">\n                {waitingsMapped.length >0 ? \n                <Card.Group itemsPerRow={8}>\n                    {waitingsMapped}  \n                </Card.Group>\n                :null} \n            </div>\n                <div className=\"buttons-combined\">\n                    <Button className=\"next-back-button\"  onClick={()=>setIndex(index+8)}>Next</Button>\n                    {index > 0 ? <Button className=\"next-back-button\" onClick={()=>setIndex(index-8)}>Back</Button>: null}\n                </div>\n            <div style={{display:'flex',marginTop: '50px'}}className=\"bottom-home\">\n                 <div className=\"top-readers-home\">\n                    <h4>Top Readers:</h4>\n                    <Card.Group itemsPerRow={3}>\n                        {topReadersMapped.length>0 ? topReadersMapped :null}\n                    </Card.Group>\n                </div>\n\n                <div className=\"top-sponsors-home\">\n                    <h4>Top Sponsors:</h4>\n                    <Card.Group itemsPerRow={3}>\n                        {sponsorsMapped.length>0 ? sponsorsMapped :null}\n                    </Card.Group>\n                </div>\n\n                \n                \n                \n            </div>\n        </>\n    )\n}"]},"metadata":{},"sourceType":"module"}