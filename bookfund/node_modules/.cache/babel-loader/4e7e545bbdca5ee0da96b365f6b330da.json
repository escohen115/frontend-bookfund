{"ast":null,"code":"import _defineProperty from\"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Button,Modal,Form}from'semantic-ui-react';import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignUp(_ref){var user=_ref.user,setUser=_ref.setUser;var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState({eligible:true}),_useState4=_slicedToArray(_useState3,2),formState=_useState4[0],setFormState=_useState4[1];function handleChange(e){setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},e.target.name,e.target.value)));}function handleImage(e){e.persist();setFormState(_objectSpread(_objectSpread({},formState),{},_defineProperty({},e.target.name,e.target.files[0])));}console.log(formState);function handleSubmit(e){e.preventDefault();var form=new FormData();form.append(\"profile_pic\",formState.profile_pic);form.append(\"username\",formState.username);form.append(\"name\",formState.name);form.append(\"bio\",formState.bio);form.append(\"email\",formState.email);console.log(formState);var confObj={method:'POST',body:form};fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/users\"),confObj).then(function(response){return response.json();}).then(function(data){if(data.error){alert(\"Username must be unique\");setFormState({});}else{alert(\"welcome aboard \".concat(data.username,\"!\"));setUser(data);setFormState({});history.push('/userpage');}});}return/*#__PURE__*/_jsxs(Modal,{onClose:function onClose(){return setOpen(false);},onOpen:function onOpen(){return setOpen(true);},open:open,trigger:/*#__PURE__*/_jsx(Button,{children:\"Sign Up\"}),children:[/*#__PURE__*/_jsx(Modal.Header,{children:\"Sign Up\"}),/*#__PURE__*/_jsx(Modal.Content,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Name\",name:\"name\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Username\",name:\"username\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Email\",name:\"email\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Password\",type:\"password\"})]}),/*#__PURE__*/_jsxs(Form.Field,{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Bio\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Bio\",name:\"bio\",onChange:function onChange(e){return handleChange(e);}})]}),/*#__PURE__*/_jsx(Form.Input,{type:\"file\",name:\"profile_pic\",fluid:true,label:\"Image Upload\",onChange:function onChange(e){return handleImage(e);}}),/*#__PURE__*/_jsx(Button,{type:\"submit\",style:{float:'right',marginBottom:'10px'},children:\"Sign Up\"})]})})]});}","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/MainNav/SignUp.js"],"names":["React","useState","Button","Modal","Form","useHistory","SignUp","user","setUser","history","open","setOpen","eligible","formState","setFormState","handleChange","e","target","name","value","handleImage","persist","files","console","log","handleSubmit","preventDefault","form","FormData","append","profile_pic","username","bio","email","confObj","method","body","fetch","process","env","REACT_APP_API_BASE_URL","then","response","json","data","error","alert","push","float","marginBottom"],"mappings":"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","sourcesContent":["import React,{useState} from \"react\"\nimport { Button, Modal, Form } from 'semantic-ui-react'\nimport { useHistory } from \"react-router-dom\";\n\n\nexport default function SignUp({user, setUser}) {\n\n    let history = useHistory()\n    const [open, setOpen] = useState(false)\n    const [formState, setFormState] = useState({\n            eligible: true\n        })\n\n    function handleChange(e){\n        setFormState({\n            ...formState,\n            [e.target.name]: e.target.value\n        })   \n    }\n\n    function handleImage (e){\n        e.persist()\n        setFormState({\n            ...formState,\n            [e.target.name]: e.target.files[0]\n        })\n    }\n    console.log(formState)\n\n    function handleSubmit(e){\n        e.preventDefault()\n        const form = new FormData()\n\n        form.append(\"profile_pic\", formState.profile_pic)\n        form.append(\"username\", formState.username)\n        form.append(\"name\", formState.name)\n        form.append(\"bio\", formState.bio)\n        form.append(\"email\", formState.email)\n      \n\n        console.log(formState)\n        \n        let confObj = {\n            method: 'POST',\n            body: (form),\n        }\n\n        fetch(`${process.env.REACT_APP_API_BASE_URL}/users`, confObj)\n        .then(response=>response.json())\n        .then(data=>{\n            if (data.error){\n                alert(\"Username must be unique\")\n                setFormState({})\n            }\n            else{\n                alert(`welcome aboard ${data.username}!`)\n                setUser(data)\n                setFormState({})\n                history.push('/userpage')\n            }\n        })\n    \n    }\n  \n  return (\n    <Modal\n      onClose={() => setOpen(false)}\n      onOpen={() => setOpen(true)}\n      open={open}\n      trigger={<Button>Sign Up</Button>}\n    >\n      <Modal.Header>Sign Up</Modal.Header>\n      <Modal.Content >\n           {/* <div className=\"form \">\n\n            <form className=\"signup\" onSubmit={(e)=>handleSubmit(e)}>\n                <label>\n                    Username:\n                    <input type=\"text\" name=\"username\" onChange={(e)=>handleChange(e)}/>\n                <Form.Input \n                type=\"file\" \n                name=\"profile_pic\" \n                fluid label='Image Upload' \n                onChange={(e)=>handleImage(e)} \n                />\n                </label>\n                    <input type=\"submit\" value=\"Sign Up\" className=\"button\"/>\n            </form>\n    \n        </div> */}\n\n        <Form onSubmit={(e)=>handleSubmit(e)}>\n                    <Form.Field>\n                        <label>Name</label>\n                        <input placeholder='Name' name=\"name\" onChange={(e)=>handleChange(e)}/>\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Username</label>\n                        <input placeholder='Username' name=\"username\" onChange={(e)=>handleChange(e)}/>\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Email</label>\n                        <input placeholder='Email' name=\"email\" onChange={(e)=>handleChange(e)}/>\n                    </Form.Field>\n                    <Form.Field>\n                        <label>Password</label>\n                        <input placeholder='Password' type=\"password\" />\n                    </Form.Field>\n                    <Form.Field >\n                        <label>Bio</label>\n                        <input placeholder='Bio' name=\"bio\" onChange={(e)=>handleChange(e)}/>\n                    </Form.Field>\n                    <Form.Input \n                    type=\"file\" \n                    name=\"profile_pic\" \n                    fluid label='Image Upload' \n                    onChange={(e)=>handleImage(e)} \n                    />\n                    <Button type='submit' style={{float:'right', marginBottom: '10px'}}>Sign Up</Button>\n                </Form>\n         \n      </Modal.Content>\n\n    </Modal>\n  )\n}\n\n\n\n"]},"metadata":{},"sourceType":"module"}