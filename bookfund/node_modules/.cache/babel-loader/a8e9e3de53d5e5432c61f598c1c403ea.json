{"ast":null,"code":"var _jsxFileName = \"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/UserPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserPage({\n  user\n}) {\n  _s();\n\n  const [userWaitings, setUserWaitings] = useState([]);\n  const [savedBooks, setSavedBooks] = useState([]);\n  let waitingsMapped = [];\n  let foundCopy = null;\n  useEffect(() => {\n    fetch(`http://localhost:3000/books`).then(response => response.json()).then(data => setSavedBooks(data));\n  }, []);\n\n  if (user) {\n    let waitingsUnfulfilled = user.waitings.filter(waiting => waiting.fulfilled !== true);\n\n    for (let i = 0; i < waitingsUnfulfilled.length; i++) {\n      waitingsMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsUnfulfilled[i].book_id));\n    }\n\n    console.log(waitingsMapped);\n    let waitlistMapped = waitingsUnfulfilled.map(waiting => {\n      return /*#__PURE__*/_jsxDEV(\"li\", {\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/bookpage/${waiting[i].api_id}`,\n          children: [Object.values(waiting)[0].title, \" \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 24,\n          columnNumber: 24\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 20\n      }, this);\n    });\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: user.profile_pic ? user.profile_pic : null\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"name:\", user.name ? user.name : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"email:\", user.email ? user.email : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"username:\", user.username ? user.username : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"bio:\", user.bio ? user.bio : null]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"waitlist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"sponsored list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"received list\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 9\n    }, this);\n  } else {\n    return null;\n  }\n}\n\n_s(UserPage, \"jbUGyUKxW/ehCG6zMrg0OWKcSXU=\");\n\n_c = UserPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserPage\");","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/UserPage.js"],"names":["React","useState","useEffect","UserPage","user","userWaitings","setUserWaitings","savedBooks","setSavedBooks","waitingsMapped","foundCopy","fetch","then","response","json","data","waitingsUnfulfilled","waitings","filter","waiting","fulfilled","i","length","push","find","saved_book","id","book_id","console","log","waitlistMapped","map","api_id","Object","values","title","profile_pic","name","email","username","bio"],"mappings":";;;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;;AAEA,eAAe,SAASC,QAAT,CAAkB;AAACC,EAAAA;AAAD,CAAlB,EAAyB;AAAA;;AAEpC,QAAK,CAACC,YAAD,EAAeC,eAAf,IAAkCL,QAAQ,CAAC,EAAD,CAA/C;AACA,QAAM,CAACM,UAAD,EAAaC,aAAb,IAA8BP,QAAQ,CAAC,EAAD,CAA5C;AACA,MAAIQ,cAAc,GAAG,EAArB;AACA,MAAIC,SAAS,GAAG,IAAhB;AAEAR,EAAAA,SAAS,CAAC,MAAI;AACVS,IAAAA,KAAK,CAAE,6BAAF,CAAL,CACCC,IADD,CACMC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EADhB,EAECF,IAFD,CAEMG,IAAI,IAAEP,aAAa,CAACO,IAAD,CAFzB;AAGH,GAJQ,EAIP,EAJO,CAAT;;AAMA,MAAIX,IAAJ,EAAS;AACL,QAAIY,mBAAmB,GAAGZ,IAAI,CAACa,QAAL,CAAcC,MAAd,CAAqBC,OAAO,IAAEA,OAAO,CAACC,SAAR,KAAoB,IAAlD,CAA1B;;AACA,SAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACL,mBAAmB,CAACM,MAAlC,EAAyCD,CAAC,EAA1C,EAA6C;AAC7CZ,MAAAA,cAAc,CAACc,IAAf,CAAoBhB,UAAU,CAACiB,IAAX,CAAgBC,UAAU,IAAIA,UAAU,CAACC,EAAX,KAAkBV,mBAAmB,CAACK,CAAD,CAAnB,CAAuBM,OAAvE,CAApB;AACC;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAYpB,cAAZ;AACA,QAAIqB,cAAc,GAAGd,mBAAmB,CAACe,GAApB,CAAwBZ,OAAO,IAAE;AAClD,0BAAO;AAAA,+BAAI,QAAC,IAAD;AAAM,UAAA,EAAE,EAAG,aAAYA,OAAO,CAACE,CAAD,CAAP,CAAWW,MAAO,EAAzC;AAAA,qBAA8CC,MAAM,CAACC,MAAP,CAAcf,OAAd,EAAuB,CAAvB,EAA0BgB,KAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAJ;AAAA;AAAA;AAAA;AAAA,cAAP;AACH,KAFoB,CAArB;AAIJ,wBACI;AAAA,8BACI;AAAK,QAAA,GAAG,EAAE/B,IAAI,CAACgC,WAAL,GAAmBhC,IAAI,CAACgC,WAAxB,GAAsC;AAAhD;AAAA;AAAA;AAAA;AAAA,cADJ,eAEI;AAAA,4BAAShC,IAAI,CAACiC,IAAL,GAAYjC,IAAI,CAACiC,IAAjB,GAAwB,IAAjC;AAAA;AAAA;AAAA;AAAA;AAAA,cAFJ,eAGI;AAAA,6BAAUjC,IAAI,CAACkC,KAAL,GAAalC,IAAI,CAACkC,KAAlB,GAA0B,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,eAII;AAAA,gCAAalC,IAAI,CAACmC,QAAL,GAAgBnC,IAAI,CAACmC,QAArB,GAAgC,IAA7C;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,eAKI;AAAA,2BAAQnC,IAAI,CAACoC,GAAL,GAAWpC,IAAI,CAACoC,GAAhB,GAAsB,IAA9B;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,eAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cANJ,eAOI;AAAA;AAAA;AAAA;AAAA,cAPJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ,eASI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cATJ;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAYE,GAtBF,MAuBI;AACA,WAAO,IAAP;AACH;AACJ;;GAvCuBrC,Q;;KAAAA,Q","sourcesContent":["\nimport React, { useState, useEffect } from \"react\"\n\nexport default function UserPage({user}){\n    \n    const[userWaitings, setUserWaitings] = useState([])\n    const [savedBooks, setSavedBooks] = useState([])\n    let waitingsMapped = []\n    let foundCopy = null\n\n    useEffect(()=>{\n        fetch(`http://localhost:3000/books`)\n        .then(response=>response.json())\n        .then(data=>setSavedBooks(data))\n    },[])\n\n    if (user){  \n        let waitingsUnfulfilled = user.waitings.filter(waiting=>waiting.fulfilled!==true)\n        for(let i=0;i<waitingsUnfulfilled.length;i++){\n        waitingsMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsUnfulfilled[i].book_id))\n        }   \n        console.log(waitingsMapped)\n        let waitlistMapped = waitingsUnfulfilled.map(waiting=>{\n            return <li><Link to={`/bookpage/${waiting[i].api_id}`} >{Object.values(waiting)[0].title} </Link></li>\n        })\n\n    return(\n        <div> \n            <img src={user.profile_pic ? user.profile_pic : null}></img>\n            <p>name:{user.name ? user.name : null}</p>\n            <p>email:{user.email ? user.email : null}</p>\n            <p>username:{user.username ? user.username : null }</p>\n            <p>bio:{user.bio ? user.bio : null}</p>\n            <p>waitlist</p>\n            <ul></ul>\n            <p>sponsored list</p>\n            <p>received list</p>\n        </div>\n    )}\n    else{\n        return null\n    }\n}"]},"metadata":{},"sourceType":"module"}