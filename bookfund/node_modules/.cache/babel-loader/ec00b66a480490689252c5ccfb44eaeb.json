{"ast":null,"code":"import _slicedToArray from\"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import'./App.css';import'semantic-ui-css/semantic.min.css';import MainNav from'./components/pages/MainNav/MainNav';import{Route,Switch,Redirect}from'react-router-dom';import React,{useEffect,useState}from\"react\";import BookIndex from'./components/pages/BookIndex/BookIndex';import BookPage from'./components/pages/BookPage/BookPage';import Home from'./components/pages/Home/Home';import UserPage from'./components/pages/UserPage/UserPage';import OtherUserPage from'./components/pages/OtherUserPage/OtherUserPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),booksFromSearch=_useState2[0],setBooksFromSearch=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),user=_useState4[0],setUser=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),savedBooks=_useState6[0],setSavedBooks=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),startIndex=_useState8[0],setStartIndex=_useState8[1];var _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),timeLeft=_useState10[0],setTimeLeft=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),reviewLeft=_useState12[0],setReviewLeft=_useState12[1];useEffect(function(){setTimeLeft(true);setReviewLeft(false);fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/books\")).then(function(response){return response.json();}).then(function(data){return setSavedBooks(data);});},[user]);useEffect(function(){if(user){if(timeLeft===false&&reviewLeft===true){var confObj={method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify({eligible:true})};fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/users/\").concat(user.id),confObj);}if(timeLeft===true||reviewLeft===false){var _confObj={method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify({eligible:false})};fetch(\"\".concat(process.env.REACT_APP_API_BASE_URL,\"/users/\").concat(user.id),_confObj);}}},[timeLeft,reviewLeft,savedBooks,user]);return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsx(MainNav,{setUser:setUser,user:user,setBooksFromSearch:setBooksFromSearch,startIndex:startIndex,setStartIndex:setStartIndex}),/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Redirect,{exact:true,from:\"/\",to:\"/home\"}),/*#__PURE__*/_jsx(Route,{path:\"/home\",children:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/bookindex\",children:/*#__PURE__*/_jsx(BookIndex,{booksFromSearch:booksFromSearch,startIndex:startIndex,setStartIndex:setStartIndex})}),/*#__PURE__*/_jsx(Route,{path:\"/bookpage/:id\",children:/*#__PURE__*/_jsx(BookPage,{savedBooks:savedBooks,setSavedBooks:setSavedBooks,user:user,setUser:setUser,reviewLeft:reviewLeft,timeLeft:timeLeft,setBooksFromSearch:setBooksFromSearch,startIndex:startIndex,setStartIndex:setStartIndex})}),/*#__PURE__*/_jsx(Route,{path:\"/otheruserpage/:id\",children:/*#__PURE__*/_jsx(OtherUserPage,{user:user,savedBooks:savedBooks,timeLeft:timeLeft,setTimeLeft:setTimeLeft,reviewLeft:reviewLeft,setReviewLeft:setReviewLeft})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/userpage\",children:user?/*#__PURE__*/_jsx(UserPage,{user:user,savedBooks:savedBooks,timeLeft:timeLeft,setTimeLeft:setTimeLeft,reviewLeft:reviewLeft,setReviewLeft:setReviewLeft}):/*#__PURE__*/_jsx(Redirect,{to:\"/home\"})})]})]});}export default App;","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/App.js"],"names":["MainNav","Route","Switch","Redirect","React","useEffect","useState","BookIndex","BookPage","Home","UserPage","OtherUserPage","App","booksFromSearch","setBooksFromSearch","user","setUser","savedBooks","setSavedBooks","startIndex","setStartIndex","timeLeft","setTimeLeft","reviewLeft","setReviewLeft","fetch","process","env","REACT_APP_API_BASE_URL","then","response","json","data","confObj","method","headers","body","JSON","stringify","eligible","id"],"mappings":"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","sourcesContent":["import './App.css';\nimport 'semantic-ui-css/semantic.min.css'\nimport MainNav from './components/pages/MainNav/MainNav'\nimport {Route, Switch, Redirect} from 'react-router-dom'\nimport React, { useEffect, useState } from \"react\"\nimport BookIndex from './components/pages/BookIndex/BookIndex'\nimport BookPage from './components/pages/BookPage/BookPage'\nimport Home from './components/pages/Home/Home'\nimport UserPage from './components/pages/UserPage/UserPage'\nimport OtherUserPage from './components/pages/OtherUserPage/OtherUserPage'\n\nfunction App() {\n\n  const [booksFromSearch, setBooksFromSearch] = useState([])\n  const [user, setUser] = useState(null)\n  const [savedBooks, setSavedBooks] = useState([])\n  const [startIndex, setStartIndex] = useState(0)\n  const [timeLeft, setTimeLeft] = useState(true)\n  const [reviewLeft, setReviewLeft] = useState(false)\n\n  \n  useEffect(()=>{\n    setTimeLeft(true)\n    setReviewLeft(false)\n    fetch(`${process.env.REACT_APP_API_BASE_URL}/books`)\n    .then(response=>response.json())\n    .then(data=>setSavedBooks(data))\n  },[user])\n\n\n  useEffect(()=>{\n    if (user){\n      if (timeLeft === false && reviewLeft === true){\n        let confObj = {\n              method: 'PATCH',\n              headers: {\n                  'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({eligible: true}),\n          }\n          fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${user.id}`, confObj)\n      }\n      if (timeLeft === true || reviewLeft === false){\n        let confObj = {\n              method: 'PATCH',\n              headers: {\n                  'Content-Type': 'application/json',\n              },\n              body: JSON.stringify({eligible: false}),\n          }\n          fetch(`${process.env.REACT_APP_API_BASE_URL}/users/${user.id}`, confObj)\n      }\n    }\n  },[timeLeft, reviewLeft, savedBooks, user])\n\n\n  return (\n    <div className=\"app\">\n    <MainNav\n      setUser={setUser}\n      user={user}\n      setBooksFromSearch={setBooksFromSearch}\n      startIndex={startIndex}\n      setStartIndex={setStartIndex}\n    />\n      <Switch>\n        <Redirect exact from=\"/\" to=\"/home\" />\n        <Route path=\"/home\">\n          <Home />\n        </Route>\n        <Route path=\"/bookindex\">\n          <BookIndex \n            booksFromSearch={booksFromSearch}\n            startIndex={startIndex}\n            setStartIndex={setStartIndex}\n          />\n        </Route>\n        <Route path=\"/bookpage/:id\">\n          <BookPage \n          savedBooks={savedBooks} \n          setSavedBooks={setSavedBooks} \n          user={user} \n          setUser={setUser}\n          reviewLeft={reviewLeft}\n          timeLeft={timeLeft}\n          setBooksFromSearch={setBooksFromSearch}\n          startIndex={startIndex}\n          setStartIndex={setStartIndex}\n        />\n        </Route>\n        <Route path=\"/otheruserpage/:id\">\n          <OtherUserPage \n          user={user} \n          savedBooks={savedBooks} \n          timeLeft={timeLeft} \n          setTimeLeft={setTimeLeft}\n          reviewLeft={reviewLeft}\n          setReviewLeft={setReviewLeft}/>\n        </Route>\n        <Route exact path=\"/userpage\">\n          {user ? \n          <UserPage \n          user={user} \n          savedBooks={savedBooks} \n          timeLeft={timeLeft} \n          setTimeLeft={setTimeLeft}\n          reviewLeft={reviewLeft}\n          setReviewLeft={setReviewLeft}\n          />: <Redirect to = \"/home\"/>}\n          \n        </Route>\n        {/* <Route exact path=\"/login\">\n          <LogIn \n          setUser={setUser}\n          user={user}/>\n        </Route>\n        <Route exact path=\"/signup\">\n          <SignUp \n          setUser={setUser}\n          user={user}/>\n        </Route> */}\n      </Switch>\n    </div>\n  \n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}