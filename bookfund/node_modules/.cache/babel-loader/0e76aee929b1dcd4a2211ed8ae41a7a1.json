{"ast":null,"code":"import _slicedToArray from\"/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from\"react\";import{Card,Button}from'semantic-ui-react';import BackEndBookCard from'../BookIndex/BackEndBookCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function WaitList(_ref){var waitlistMapped=_ref.waitlistMapped,user=_ref.user,savedBooks=_ref.savedBooks;var _useState=useState(0),_useState2=_slicedToArray(_useState,2),waitlistIndex=_useState2[0],setWaitlistIndex=_useState2[1];var waitingsMapped=[];//get all unfulfilled waitings for a user\nvar waitingsUnfulfilled=user.waitings.filter(function(waiting){return waiting.fulfilled!==true;});var _loop=function _loop(i){waitingsMapped.push(savedBooks.find(function(saved_book){return saved_book.id===waitingsUnfulfilled[i].book_id;}));};for(var i=0;i<waitingsUnfulfilled.length;i++){_loop(i);}if(waitingsMapped.length>0){waitlistMapped=waitingsMapped.map(function(waiting){//create JSX of books\nreturn/*#__PURE__*/_jsx(BackEndBookCard,{book:waiting});});}function handleNextClick(){if(waitlistIndex<waitlistMapped.length){if(waitlistMapped.length-waitlistIndex>8){setWaitlistIndex(waitlistIndex+8);}else{setWaitlistIndex(0);}}}if(waitingsMapped.length>0){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"userpage-book-display\",children:/*#__PURE__*/_jsx(Card.Group,{itemsPerRow:8,children:waitlistMapped.slice(waitlistIndex,waitlistIndex+8)})}),/*#__PURE__*/_jsx(Button,{className:\"next-back-button\",onClick:handleNextClick,children:\"Next\"}),waitlistIndex>0?/*#__PURE__*/_jsx(Button,{className:\"next-back-button\",onClick:function onClick(){return setWaitlistIndex(waitlistIndex-8);},children:\"Back\"}):null]});}else{return null;}}","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/code/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/WaitList.js"],"names":["React","useState","Card","Button","BackEndBookCard","WaitList","waitlistMapped","user","savedBooks","waitlistIndex","setWaitlistIndex","waitingsMapped","waitingsUnfulfilled","waitings","filter","waiting","fulfilled","i","push","find","saved_book","id","book_id","length","map","handleNextClick","slice"],"mappings":"2JAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,IAAT,CAAeC,MAAf,KAA6B,mBAA7B,CACA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,C,6IAEA,cAAe,SAASC,CAAAA,QAAT,MAAqD,IAAlCC,CAAAA,cAAkC,MAAlCA,cAAkC,CAAlBC,IAAkB,MAAlBA,IAAkB,CAAZC,UAAY,MAAZA,UAAY,eACtBP,QAAQ,CAAC,CAAD,CADc,wCACzDQ,aADyD,eAC1CC,gBAD0C,eAGhE,GAAIC,CAAAA,cAAc,CAAG,EAArB,CAEC;AACD,GAAIC,CAAAA,mBAAmB,CAAGL,IAAI,CAACM,QAAL,CAAcC,MAAd,CAAqB,SAAAC,OAAO,QAAEA,CAAAA,OAAO,CAACC,SAAR,GAAoB,IAAtB,EAA5B,CAA1B,CANgE,yBAOxDC,CAPwD,EAQ5DN,cAAc,CAACO,IAAf,CAAoBV,UAAU,CAACW,IAAX,CAAgB,SAAAC,UAAU,QAAIA,CAAAA,UAAU,CAACC,EAAX,GAAkBT,mBAAmB,CAACK,CAAD,CAAnB,CAAuBK,OAA7C,EAA1B,CAApB,EAR4D,EAOhE,IAAI,GAAIL,CAAAA,CAAC,CAAC,CAAV,CAAYA,CAAC,CAACL,mBAAmB,CAACW,MAAlC,CAAyCN,CAAC,EAA1C,CAA6C,OAArCA,CAAqC,EAE5C,CACD,GAAIN,cAAc,CAACY,MAAf,CAAwB,CAA5B,CAA8B,CAC1BjB,cAAc,CAAGK,cAAc,CAACa,GAAf,CAAmB,SAAAT,OAAO,CAAE,CAAE;AAC3C,mBAAQ,KAAC,eAAD,EAAiB,IAAI,CAAEA,OAAvB,EAAR,CACH,CAFgB,CAAjB,CAGH,CAED,QAASU,CAAAA,eAAT,EAA0B,CACtB,GAAIhB,aAAa,CAAGH,cAAc,CAACiB,MAAnC,CAA0C,CACtC,GAAIjB,cAAc,CAACiB,MAAf,CAAwBd,aAAxB,CAAwC,CAA5C,CAA8C,CAC1CC,gBAAgB,CAACD,aAAa,CAAC,CAAf,CAAhB,CACH,CAFD,IAGI,CACJC,gBAAgB,CAAC,CAAD,CAAhB,CACC,CACJ,CACJ,CACD,GAAIC,cAAc,CAACY,MAAf,CAAwB,CAA5B,CAA+B,CAC3B,mBACA,wCACI,YAAK,SAAS,CAAC,uBAAf,uBACI,KAAC,IAAD,CAAM,KAAN,EAAY,WAAW,CAAE,CAAzB,UACKjB,cAAc,CAACoB,KAAf,CAAqBjB,aAArB,CAAoCA,aAAa,CAAC,CAAlD,CADL,EADJ,EADJ,cAMI,KAAC,MAAD,EAAQ,SAAS,CAAC,kBAAlB,CAAsC,OAAO,CAAEgB,eAA/C,kBANJ,CAOKhB,aAAa,CAAG,CAAhB,cAAoB,KAAC,MAAD,EAAQ,SAAS,CAAC,kBAAlB,CAAsC,OAAO,CAAE,yBAAIC,CAAAA,gBAAgB,CAACD,aAAa,CAAC,CAAf,CAApB,EAA/C,kBAApB,CAAyH,IAP9H,GADA,CAWH,CAZD,IAaI,CACA,MAAO,KAAP,CACH,CAEJ","sourcesContent":["import React, { useState } from \"react\"\nimport { Card, Button } from 'semantic-ui-react'\nimport BackEndBookCard from '../BookIndex/BackEndBookCard'\n\nexport default function WaitList({waitlistMapped, user, savedBooks}){\n    const [waitlistIndex, setWaitlistIndex] = useState(0)\n\n    let waitingsMapped = []\n\n     //get all unfulfilled waitings for a user\n    let waitingsUnfulfilled = user.waitings.filter(waiting=>waiting.fulfilled!==true)\n    for(let i=0;i<waitingsUnfulfilled.length;i++){\n        waitingsMapped.push(savedBooks.find(saved_book => saved_book.id === waitingsUnfulfilled[i].book_id))\n    } \n    if (waitingsMapped.length > 0){\n        waitlistMapped = waitingsMapped.map(waiting=>{ //create JSX of books\n            return (<BackEndBookCard book={waiting}/>)\n        })\n    }       \n\n    function handleNextClick(){\n        if (waitlistIndex < waitlistMapped.length){\n            if (waitlistMapped.length - waitlistIndex > 8){\n                setWaitlistIndex(waitlistIndex+8)\n            }\n            else{\n            setWaitlistIndex(0)\n            }\n        }\n    }\n    if (waitingsMapped.length > 0 ){\n        return(\n        <>\n            <div className=\"userpage-book-display\">\n                <Card.Group itemsPerRow={8}>\n                    {waitlistMapped.slice(waitlistIndex, waitlistIndex+8)}  \n                </Card.Group>\n            </div>\n            <Button className=\"next-back-button\"  onClick={handleNextClick}>Next</Button>\n            {waitlistIndex > 0 ? <Button className=\"next-back-button\"  onClick={()=>setWaitlistIndex(waitlistIndex-8)}>Back</Button>: null}\n        </>\n        ) \n    }    \n    else{\n        return null\n    }\n    \n}"]},"metadata":{},"sourceType":"module"}