{"ast":null,"code":"import _slicedToArray from\"/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Card,Button}from'semantic-ui-react';import BackEndBookCard from'../BookIndex/BackEndBookCard';import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SponsorList(_ref){var allWaitings=_ref.allWaitings,user=_ref.user,savedBooks=_ref.savedBooks;var sponsoredWaitings=[];var sponsoredMapped=[];var _useState=useState(0),_useState2=_slicedToArray(_useState,2),sponsoredIndex=_useState2[0],setSponsoredIndex=_useState2[1];if(allWaitings.length>0){sponsoredWaitings=allWaitings.filter(function(waiting){return waiting.sponsor_id===user.id;});if(sponsoredWaitings.length>0){var arrTwo=[];arrTwo.push(sponsoredWaitings[0]);var _loop=function _loop(i){if(arrTwo.find(function(elem){return elem.book_id===sponsoredWaitings[i].book_id;})){}else{arrTwo.push(sponsoredWaitings[i]);}};for(var i=1;i<sponsoredWaitings.length;i++){_loop(i);}sponsoredMapped=arrTwo.map(function(waiting){//create JSX of books\nreturn/*#__PURE__*/_jsx(BackEndBookCard,{book:savedBooks.find(function(savedBook){return savedBook.id===waiting.book_id;})});});console.log(sponsoredMapped);}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"userpage-book-display\",children:/*#__PURE__*/_jsx(Card.Group,{itemsPerRow:8,children:sponsoredMapped.slice(sponsoredIndex,sponsoredIndex+8)})}),/*#__PURE__*/_jsx(Button,{className:\"next-back-button\",onClick:function onClick(){return setSponsoredIndex(sponsoredIndex+8);},children:\"Next\"}),sponsoredIndex>0?/*#__PURE__*/_jsx(Button,{className:\"next-back-button\",onClick:function onClick(){return setSponsoredIndex(sponsoredIndex-8);},children:\"Back\"}):null]});}","map":{"version":3,"sources":["/Users/simoncohen/Flatiron/Mod5/bookfund/frontend-bookfund/bookfund/src/components/pages/UserPage/SponsorList.js"],"names":["Card","Button","BackEndBookCard","React","useState","SponsorList","allWaitings","user","savedBooks","sponsoredWaitings","sponsoredMapped","sponsoredIndex","setSponsoredIndex","length","filter","waiting","sponsor_id","id","arrTwo","push","i","find","elem","book_id","map","savedBook","console","log","slice"],"mappings":"sJAAA,OAASA,IAAT,CAAeC,MAAf,KAA6B,mBAA7B,CACA,MAAOC,CAAAA,eAAP,KAA4B,8BAA5B,CACA,MAAOC,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,C,6IAEA,cAAe,SAASC,CAAAA,WAAT,MAAqD,IAA/BC,CAAAA,WAA+B,MAA/BA,WAA+B,CAAlBC,IAAkB,MAAlBA,IAAkB,CAAZC,UAAY,MAAZA,UAAY,CAEhE,GAAIC,CAAAA,iBAAiB,CAAG,EAAxB,CACA,GAAIC,CAAAA,eAAe,CAAG,EAAtB,CAHgE,cAKpBN,QAAQ,CAAC,CAAD,CALY,wCAKzDO,cALyD,eAKzCC,iBALyC,eAOhE,GAAIN,WAAW,CAACO,MAAZ,CAAqB,CAAzB,CAA2B,CACvBJ,iBAAiB,CAAGH,WAAW,CAACQ,MAAZ,CAAmB,SAAAC,OAAO,QAAEA,CAAAA,OAAO,CAACC,UAAR,GAAuBT,IAAI,CAACU,EAA9B,EAA1B,CAApB,CACA,GAAIR,iBAAiB,CAACI,MAAlB,CAA2B,CAA/B,CAAiC,CAC7B,GAAIK,CAAAA,MAAM,CAAG,EAAb,CACAA,MAAM,CAACC,IAAP,CAAYV,iBAAiB,CAAC,CAAD,CAA7B,EAF6B,yBAGpBW,CAHoB,EAIzB,GAAIF,MAAM,CAACG,IAAP,CAAY,SAAAC,IAAI,QAAEA,CAAAA,IAAI,CAACC,OAAL,GAAed,iBAAiB,CAACW,CAAD,CAAjB,CAAqBG,OAAtC,EAAhB,CAAJ,CACA,CAEC,CAHD,IAII,CACAL,MAAM,CAACC,IAAP,CAAYV,iBAAiB,CAACW,CAAD,CAA7B,EACH,CAVwB,EAG7B,IAAK,GAAIA,CAAAA,CAAC,CAAC,CAAX,CAAaA,CAAC,CAAGX,iBAAiB,CAACI,MAAnC,CAA0CO,CAAC,EAA3C,CAA8C,OAArCA,CAAqC,EAQ7C,CACDV,eAAe,CAAGQ,MAAM,CAACM,GAAP,CAAW,SAAAT,OAAO,CAAE,CAAE;AACpC,mBAAQ,KAAC,eAAD,EAAiB,IAAI,CAAEP,UAAU,CAACa,IAAX,CAAgB,SAAAI,SAAS,QAAIA,CAAAA,SAAS,CAACR,EAAV,GAAiBF,OAAO,CAACQ,OAA7B,EAAzB,CAAvB,EAAR,CACH,CAFiB,CAAlB,CAGAG,OAAO,CAACC,GAAR,CAAYjB,eAAZ,EACH,CACJ,CACD,mBACQ,wCACI,YAAK,SAAS,CAAC,uBAAf,uBACI,KAAC,IAAD,CAAM,KAAN,EAAY,WAAW,CAAE,CAAzB,UACKA,eAAe,CAACkB,KAAhB,CAAsBjB,cAAtB,CAAsCA,cAAc,CAAC,CAArD,CADL,EADJ,EADJ,cAOI,KAAC,MAAD,EAAQ,SAAS,CAAC,kBAAlB,CAAsC,OAAO,CAAE,yBAAIC,CAAAA,iBAAiB,CAACD,cAAc,CAAC,CAAhB,CAArB,EAA/C,kBAPJ,CAQKA,cAAc,CAAG,CAAjB,cAAqB,KAAC,MAAD,EAAQ,SAAS,CAAC,kBAAlB,CAAsC,OAAO,CAAE,yBAAIC,CAAAA,iBAAiB,CAACD,cAAc,CAAC,CAAhB,CAArB,EAA/C,kBAArB,CAA6H,IARlI,GADR,CAYH","sourcesContent":["import { Card, Button } from 'semantic-ui-react'\nimport BackEndBookCard from '../BookIndex/BackEndBookCard'\nimport React, { useState } from \"react\"\n\nexport default function SponsorList({allWaitings, user, savedBooks}){\n    \n    let sponsoredWaitings = []\n    let sponsoredMapped = []\n\n    const [sponsoredIndex, setSponsoredIndex] = useState(0)\n\n    if (allWaitings.length > 0){\n        sponsoredWaitings = allWaitings.filter(waiting=>waiting.sponsor_id === user.id)\n        if (sponsoredWaitings.length > 0){\n            let arrTwo = []\n            arrTwo.push(sponsoredWaitings[0])\n            for (let i=1;i < sponsoredWaitings.length;i++){\n                if (arrTwo.find(elem=>elem.book_id===sponsoredWaitings[i].book_id))\n                {\n                    \n                }\n                else{\n                    arrTwo.push(sponsoredWaitings[i])\n                }\n            }\n            sponsoredMapped = arrTwo.map(waiting=>{ //create JSX of books\n                return (<BackEndBookCard book={savedBooks.find(savedBook => savedBook.id === waiting.book_id)}/>)\n            })\n            console.log(sponsoredMapped)\n        }\n    }    \n    return (\n            <>\n                <div className=\"userpage-book-display\">\n                    <Card.Group itemsPerRow={8}>\n                        {sponsoredMapped.slice(sponsoredIndex, sponsoredIndex+8)}  \n                    </Card.Group>\n                </div>\n\n                <Button className=\"next-back-button\"  onClick={()=>setSponsoredIndex(sponsoredIndex+8)}>Next</Button>\n                {sponsoredIndex > 0 ? <Button className=\"next-back-button\"  onClick={()=>setSponsoredIndex(sponsoredIndex-8)}>Back</Button> : null}\n            </>\n            )\n}"]},"metadata":{},"sourceType":"module"}